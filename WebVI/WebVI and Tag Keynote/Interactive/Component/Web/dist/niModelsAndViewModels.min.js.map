{"version":3,"sources":["../../LabVIEW/Html.Controls.Design/Web/Framework/niModelProvider.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niControlDataItemCache.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niControlDCOIndexCache.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niElementReparentingCache.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niEggShell.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niUpdateService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niEditorUpdateService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niLocalUpdateService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niEditorRuntimeUpdateService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niRemoteUpdateService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niTestUpdateService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niWebApplicationModelService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niVIReferenceService.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niRenderBuffer.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niRenderEngine.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niAnalogWaveform.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niResizeStrategy.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niPaintResizeStrategy.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niTransformResizeStrategy.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niRepaintResizeStrategy.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niLargeResizeStrategy.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niEditorResizeStrategy.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niWebApplicationModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niVirtualInstrumentModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niVisualComponentModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niVisualModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niNumericControlModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niNumericPointerModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niRadialNumericPointerModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niGaugeModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niLinearNumericPointerModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niSliderModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niTankModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niProgressBarModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niLinearProgressBarModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niNumericTextBoxModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niGraphBaseModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niCursorModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niCartesianAxisModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niCartesianPlotModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niPlotRendererModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niCartesianGraphModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niChartModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niBooleanControlModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niBooleanContentControlModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niBooleanButtonModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niBooleanLEDModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niTextModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niLabelModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niHyperlinkModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niStringControlModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niPathSelectorModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niTimeStampTextBoxModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niUrlImageModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niImageModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niCheckBoxModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niBooleanSwitchModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niTabControlModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niTabItemModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niLayoutPanelModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niClusterModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niArrayViewerModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niDataGridModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niDataGridColumnModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niSelectorModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niDropDownModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niListBoxModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niIONameControlModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niOpaqueRefnumModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niPlotLegendModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niColorScaleModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niIntensityGraphModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niCursorLegendModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niScaleLegendModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niGraphToolsModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niNumericValueSelectorModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niEnumSelectorModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niRingSelectorModel.js","../../LabVIEW/Html.Controls.Design/Web/Modeling/niRadioButtonGroupModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niWebApplicationViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niVirtualInstrumentViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niVisualComponentViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niVisualViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niNumericControlViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niNumericPointerViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niLinearNumericPointerViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niRadialNumericPointerViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niGaugeViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niSliderViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niTankViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niProgressBarViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niLinearProgressBarViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niNumericTextBoxViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niCursorViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niCartesianAxisViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niCartesianPlotViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niGraphBaseViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niCartesianGraphViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niPlotRendererViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niChartViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niBooleanControlViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niBooleanContentControlViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niBooleanButtonViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niBooleanLEDViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niTextViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niLabelViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niHyperlinkViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niStringControlViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niPathSelectorViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niTimeStampTextBoxViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niUrlImageViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niImageViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niCheckBoxViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niBooleanSwitchViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niTabControlViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niTabItemViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niLayoutPanelViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niClusterViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niArrayViewerViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niDataGridViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niDataGridColumnViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niSelectorViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niDropDownViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niListBoxViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niIONameControlViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niOpaqueRefnumViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niPlotLegendViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niCursorLegendViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niScaleLegendViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niGraphToolsViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niColorScaleViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niIntensityGraphViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niNumericValueSelectorViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niEnumSelectorViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niRingSelectorViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Designer/niRadioButtonGroupViewModel.js","../../LabVIEW/Html.Controls.Design/Web/Framework/niElementExtensions.js"],"names":["NationalInstruments","HtmlVI","ModelProvider","child","proto","prototype","TagMap","ModelKindMap","ModelFactory","ViewModelFactory","registerModel","modelConstructor","MODEL_KIND","obj","Object","create","constructorReturnValue","apply","arguments","undefined","makeModel","kind","id","Error","registerViewModel","viewModelConstructor","elementConstructor","tagName","elementInfo","makeViewModel","element","model","tagNameToModelKind","elementTag","modelKindToTagName","modelKind","NIModelProvider","ControlDataItemCache","viModels","this","_dataItemToControlMap","createDataItemMaps","dataItemMap","viModelName","hasOwnProperty","viModel","controlModels","getAllControlModels","controlId","controlModel","editorRuntimeBindingInfo","getEditorRuntimeBindingInfo","dataItem","ControlDCOIndexCache","_dcoIndexToControlMap","createDCOIndexMaps","dcoIndexMap","remoteBindingInfo","getRemoteBindingInfo","dco","dcoIndex","NI_SUPPORT","NISupport","ElementReparentingCache","buffer","flushRecur","parentId","parentElement","i","length","appendChild","j","niControlId","addToElementCache","printBuffer","parentBuffer","parentBufferElementIndex","push","error","flushElementCache","Elements","NIElement","groupName","that","VERBOSE_INFO","keys","infoVerbose","groupVerbose","forEach","val","map","el","join","groupEndVerbose","EggShell","Vireo","_vireo","encodeVireoIdentifier","str","nonId","encoded","codePoint","charCodeAt","ch","charAt","indexOf","toString","toUpperCase","runSlices","retVal","executionState","finished","errorMessage","executeSlices","e","log","loadVia","viaText","core","v_userShell","reboot","setPrintCallback","callback","print","setFrontPanelSynchronousUpdateCallback","fpSync","peek","viName","path","type","value","JSON","parse","readJSON","readDouble","i18n","poke","data","writeJSON","stringify","writeDouble","UpdateService","setServiceState","verifyServiceStateIs","checkServiceStateIs","getVIModels","InitTasksEnum","freeze","ELEMENTSREADY","createNIControlToAddToDOM","modelSettings","controlTagName","viRef","parentControlId","viSelector","viElements","document","querySelectorAll","controlSelector","controlElements","controlElement","createElement","VisualComponent","_temporaryModelSettingsHolder","parentSelector","parentElements","body","findNIControlToRemoveFromDOM","currParent","SERVICE_STATE_ENUM","WebApplication","ServiceStateEnum","INIT_TASKS_ENUM","applyWebAppServiceStateProvider","webAppServiceStateProvider","applyVirtualInstrumentModelsProvider","virtualInstrumentModelsProvider","dispatchMessageToHTMLPanel","properties","processControlUpdate","internalControlEventOccurred","eventName","eventData","controlChanged","propertyName","newValue","controlEventOccurred","eventType","isValidServiceState","state","isValidState","initialize","expectedState","tasksEnum","initTaskTracker","UNINITIALIZED","TaskTracker","setTimeout","finishInitializing","addNIEventListener","complete","start","READY","stop","setRenderHintsOnViewModel","viewModel","parent","EditorUpdateService","call","windowEngineCallbacks","propertyChange","propertyChangeMultiple","addElement","removeElement","keyEventHandler","undoRedo","_elementReparentingCache","StateEnum","assign","INITIALIZING","LISTENING","CoherentMessagesEnum","PROPERTY_CHANGE","PROPERTY_CHANGE_MULTIPLE","ADD_ELEMENT","REMOVE_ELEMENT","PROCESS_MODEL_UPDATE","PROCESS_INTERNAL_EVENT","DOCUMENT_READY","USERINTERACTION_CHANGED","inheritFromParent","COHERENT_MESSAGE_ENUM","argsArr","dataJSON","controlIdsJSON","dataValuesJSON","controlIds","dataValues","modelSettingsJSON","modelCreationMetadata","nextModelId","initialLoad","extras","existingNumeric","querySelector","NumericControl","errorVerbose","resultElements","_temporaryModelCreationMetadata","key","setAttribute","insertBeforeNode","insertBefore","precheckElement","parentNode","removeChild","userInteractionChanged","controlViewModel","getControlViewModel","viViewModel","viReferenceService","getVIViewModelByVIRef","setUserInteracting","clearUserInteracting","ViewModels","VisualViewModel","event","ctrlKey","keyCode","shiftKey","preventDefault","stopPropagation","window","engine","on","addEventListener","off","removeEventListener","trigger","topLevelControl","topLevelControlValue","topLevelControlValueJSON","bindingInfo","prop","findTopLevelControl","setRenderHints","preferTransforms","$","Globals","jQuery","LocalUpdateService","config","eggShell","syncControlsCache","vireoSource","ideMode","runningInIDE","vireoText","dataItemCache","diagramValueChanged","finishedSendingUpdates","abortVI","DOWNLOADING","SYNCHRONIZING","RUNNING","STOPPING","DIAGRAM_VALUE_CHANGED","FINISHED_SENDING_UPDATES","READY_FOR_UPDATES","ABORT_VI","FINISHED_RUNNING","PANEL_CONTROL_CHANGED","START","LOG_ERROR","ajax","url","cache","dataType","jqXHR","status","responseText","ERROR","fpId","updateSyncHTMLControl","text","debug","synchronize","startVireoRuntime","remainingVIsToSync","parsedData","splice","loadCurrentControlValuesIntoRuntime","executeRuntimeSlices","updateHTMLControls","finishStopping","sendControlValuesToEditor","localBindingInfo","getLocalBindingInfo","io","encodedVIName","runtimePath","insideTopLevelContainer","sync","messageData","findSyncHTMLControl","fpIdStr","via","EditorRuntimeUpdateService","panelControlChanged","PANEL_CONTROL_EVENT_OCCURRED","visToSync","modelIdentifier","RemoteUpdateService","remoteAddress","dcoIndexCache","socket","preferredVersion","majorVersion","minorVersion","patchVersion","preReleaseVersion","versionMetadata","serverVersion","socketCallbacks","open","message","close","MessageTypeEnum","PROPERTY_UPDATE","VERSION_MESSAGE","VI_STATE_UPDATE","INITIALCONNECTION","CONNECTING","CONNECTED","RECONNECTING","MESSAGE_TYPE_ENUM","createPropertyUpdateMessage","messageObject","messageType","messageString","createVersionMessage","version","parseWebSocketMessage","err","evt","socketOpen","socketMessage","socketClose","socketError","setupConnection","createSocket","removeSocket","send","reconnect","WebSocket","TestUpdateService","windowCallbacks","filteredModelSettings","webApplicationModelsService","register","unregister","getModel","webApplicationViewModels","webAppModel","Models","WebApplicationModel","webAppViewModel","WebApplicationViewModel","updateModelFromElement","registerListener","bindToView","unregisterListener","webAppElement","viRefToVIModel","viRefToVIViewModel","viRefToWebAppModel","webAppInstanceIdToVIModels","registerVIElement","viElement","VirtualInstrument","VirtualInstrumentModel","VirtualInstrumentViewModel","webAppInstanceId","unregisterVIElement","owningWebAppModel","viModelsMap","getVIModelByVIRef","viRefString","getAllVIModelsForWebAppModel","getWebAppModelByVIRef","RenderBuffer","cssClasses","toAdd","toRemove","cssStyles","attributes","reset","isEmpty","NI_ELEMENT","_updateQueue","_updateMap","_updatePending","_frameRequested","applyDomUpdates","renderBuffer","newStyle","newAttr","newProp","classList","add","remove","style","actSize","width","height","dispatchEvent","CustomEvent","detail","runFrameUpdate","niElementId","shift","niElementInstanceId","RenderEngine","getOrAddRenderBuffer","removeRenderBuffer","filter","enqueueDomUpdate","requestAnimationFrame","isFrameRequested","NIAnalogWaveform","t0","NITimestamp","channelName","dt","Y","slice","sampleCount","toTimeAndValueArray","res","ts","toAbsoluteTime","appendArray","arr","Array","isArray","appendWaveform","waveform","expectedT0","compare","ResizeStrategy","boundsChangeStarted","ResizeCSS","TRANSFORM_CSS","TRANSFORM_ORIGIN_CSS","validBounds","bounds","left","top","validRenderBuffer","validateParams","onBoundsChangeStarted","onBoundsChanging","onBoundsChangeEnd","setBoundsToRenderBuffer","PaintResizeStrategy","TransformResizeStrategy","oldBounds","scalex","scaley","RepaintResizeStrategy","scalingBounds","repaintAt","Math","abs","LargeResizeStrategy","paintAtScale","boundsPainted","scaleX","scaleY","EditorResizeStrategy","_oldBounds","deltaLeft","deltaTop","NIModel","currProp","instanceProto","getPrototypeOf","_propertyTable","computedProp","privatePropName","copyValue","defaultValue","_listeners","ADD_ALL_PROPS_FUNC_NAME","newValue1","isPlainObject","x","newValue2","validateAddModelPropertyArgs","targetPrototype","privatePropertyName","customSetter","customGetter","registerModelProperties","addAllModelProperties","parentMethodName","defineConstReference","addModelProperty","validConfig","defineProperty","configurable","enumerable","writable","get","set","listener","modelPropertyChanged","applyElementChanges","NIViewModel","index","setMultipleProperties","settings","name","constructor","PANEL_ENGINE_ENUM","PanelEngineEnum","PANEL_LOCATION_ENUM","PanelLocationEnum","currWebAppInstanceId","updateService","initTasks","TasksEnum","SERVICE","ELEMENTS","VIREO","BROWSER","serviceState","verifyState","currState","checkState","getWebAppServiceStateProvider","getVirtualInstrumentModelsProvider","initializeService","location","IDE_RUN","updateServiceTable","IDE_EDIT","NATIVE","testMode","controlViewModels","oldValue","getOwner","getOwningWebApplication","addFrontPanelControlModel","selector","parentModel","setOwner","VisualModel","addChildModel","applyModelToElement","removeFrontPanelControl","VisualComponentModel","VisualComponentViewModel","removeChildModel","getControlModel","getNameVireoEncoded","owner","rootOwner","childModels","fp","findRoot","getRoot","ClusterModel","ArrayViewerModel","currControlModel","currOwner","suppressControlChanged","setBindingInfo","getBindingInfo","generateLocalBindingInfo","getDefaultValue","setDefaultValue","generateVireoPath","currBindingInfo","encodedCurrFieldName","pathParts","field","reverse","getIOBehavior","topLevelControlLocalBindingInfo","inputDataItem","outputDataItem","getVireoType","NumericControlModel","NINumerics","ValueTypes","DOUBLE","NumericPointerModel","RadialNumericPointerModel","startAngle","sweepAngle","GaugeModel","LinearNumericPointerModel","SliderModel","TankModel","ProgressBarModel","OrientationEnum","VERTICAL","HORIZONTAL","LinearProgressBarModel","NumericTextBoxModel","GraphBaseModel","CursorModel","getPosition","y","setPosition","pos","CartesianAxisModel","CartesianPlotModel","PlotRendererModel","CartesianGraphModel","HistoryBuffer","ChartModel","historyBuffer","ensureHistoryBufferWidth","setWidth","arrayColumn","array2d","column","isHistoryBuffer","valueType","copyArrayToHistoryBuffer","array","transpose","arrWidth","arrHeight","appendDataToHistoryBuffer","arrValue","loadHistoryBufferfromJSON","clear","setCapacity","size","capacity","timingIndexes","indexMap","time","offset","startIndex","count","historySize","BooleanControlModel","ClickModeEnum","PRESS","RELEASE","BooleanContentControlModel","BooleanButtonModel","BooleanLEDModel","ROUND","SQUARE","ShapeEnum","TextModel","LabelModel","HyperlinkModel","StringControlModel","PATH_TYPE_ENUM","PathSelector","PathTypeEnum","PathSelectorModel","components","ABSOLUTE","MIN_TIME","MAX_TIME","TimeStampTextBoxModel","STRETCH_ENUM","UrlImage","StretchEnum","UrlImageModel","UNIFORM","Image","ImageModel","CheckBoxModel","BooleanSwitchModel","SLIDER","POWER","TabControlModel","selectedIndex","TabItemModel","LayoutPanelModel","scrollChanged","indices","DataGridModel","DataGridColumnModel","SelectorModel","DropDownModel","getSelectedText","source","SELECTION_MODE_ENUM","NIListBox","SelectionModeEnum","ListBoxModel","ONE","IONameControlModel","selectedValue","OpaqueRefnumModel","PlotLegendModel","ColorScaleModel","IntensityGraphModel","CursorLegendModel","ScaleLegendModel","GraphToolsModel","NumericValueSelectorModel","INT32","EnumSelectorModel","RingSelectorModel","RadioButtonGroupModel","RadioButtonGroup","Orientation","vertical","RENDER_ENGINE","validateAddViewModelPropertyArgs","registerViewModelProperties","addAllViewModelProperties","addViewModelProperty","autoElementSync","_autoStartOccurred","isBrowserPreventEditorModeEnabled","preventEditorMode","hash","disableAutoStart","_userInteracting","addFrontPanelControlViewModel","onChildViewModelAdded","removeFrontPanelControlViewModel","parentViewModel","onChildViewModelRemoved","isUserInteracting","_needsResizeHack","enableResizeHack","childViewModel","resizeStrategy","getModelBounds","parseInt","bindTextFocusEventListener","niElement","focusEventType","createHandlerHelper","target","Visual","isTextEditFocusable","visible","setFont","fontSize","fontFamily","fontWeight","fontStyle","newState","modelBounds","renderHints","getComputedStyle","getPropertyValue","contains","foreground","color","VALUE_CONVERTER","ValueConverters","NumericValueConverter","NumericControlViewModel","maximum","convert","minimum","interval","valueNonSignaling","convertBack","NumericPointerViewModel","LinearNumericPointerViewModel","RadialNumericPointerViewModel","startAngleFromScaleArc","scaleArc","endAngleFromScaleArc","scaleArcFromStartAndEndAngle","endAngle","NUM_VAL_CONVERTER","GaugeViewModel","hints","Gauge","SliderViewModel","Slider","TankViewModel","Tank","ProgressBarViewModel","LinearProgressBarViewModel","LinearProgressBar","NumericTextBoxViewModel","NumericTextBox","CursorViewModel","Cursor","CartesianAxisViewModel","CartesianAxis","CartesianPlotViewModel","CartesianPlot","GraphBaseViewModel","plotAreaMargin","insideGraphBaseEventName","CartesianGraphViewModel","CartesianGraph","PlotRendererViewModel","CartesianPlotRenderer","ChartViewModel","bufferSize","setHistoryBuffer","Chart","BooleanControlViewModel","BooleanContentControlViewModel","BooleanButtonViewModel","EventsEnum","BUTTON_CLICK","BooleanButton","BooleanLEDViewModel","BooleanLED","TextViewModel","Text","LabelViewModel","Label","HyperlinkViewModel","firstChild","href","Hyperlink","StringControlViewModel","textNonSignaling","StringControl","PathSelectorViewModel","pathValue","modelPath","pathNonSignaling","popupEnabled","TimeStampTextBoxViewModel","TimeStampTextBox","UrlImageViewModel","ImageViewModel","CheckBoxViewModel","CheckBox","BooleanSwitchViewModel","BooleanSwitch","TabControlViewModel","selectedIndexNonSignaling","TabControl","TabItemViewModel","TabItem","LayoutPanelViewModel","LayoutPanel","ClusterViewModel","Cluster","ArrayViewerViewModel","_viewModelData","_recreateCellsRequested","_isUserInteracting","arrayElementSizeChanged","arrayElementViewModel","rootArrayViewModel","arrayViewers","arrayElementModel","arrayModel","arrayElement","getClones","elementSize","copyRenderBuffer","srcRenderBuffer","destRenderBuffer","updateElementsFromRenderBuffer","elements","curBuffer","elementFontChanged","findRootArrayViewModel","rootArrayModel","createElementShims","originalUserInteractionChanged","originalModelPropertyChanged","originalChildViewModelAdded","originalChildViewModelRemoved","isArrayElement","setCallback","viewModelData","updateClonesAfterInteractionEnded","suppressBoundsChanges","updateTemplateCss","recreateCellsOnUserInteractionEnd","recreateAllCells","focusedClone","_niFocusedCloneId","valuePropertyDescriptor","ArrayViewer","initializeElementViewModel","recreateCells","shim","removeShim","setArrayValue","childModel","initializeArrayElementViewModel","getArrayValue","curChild","curViewModel","cssCloneSelector","getFullCssSelectorForNIVisual","results","DataGridViewModel","currentTarget","selectedColumn","DataGrid","DataGridColumnViewModel","aggregates","DataGridColumn","SelectorViewModel","DropDownViewModel","DropDown","LISTBOX_VAL_CONVERTER","ListBoxValueConverter","ListBoxViewModel","selectionMode","ListBox","IONameControlViewModel","selectedValueNonSignaling","sourceNonSignaling","IONameControl","OpaqueRefnumViewModel","OpaqueRefnum","PlotLegendViewModel","throttlePlotUpdates","PlotLegend","CursorLegendViewModel","CursorLegend","ScaleLegendViewModel","ScaleLegend","GraphToolsViewModel","GraphTools","ColorScaleViewModel","ColorScale","IntensityGraphViewModel","IntensityGraph","NUM_VALUE_CONVERTER","NumericValueSelectorViewModel","items","EnumSelectorViewModel","EnumSelector","RingSelectorViewModel","RingSelector","RadioButtonGroupViewModel","toReg","generateAttachedCallback","orig","firstCall","controlModelViewModel","_preventModelCreation","generateDetachedCallback","elementViewModel","generateClearExtensionProperties","labelId","clearExtensionProperties","addProperty","attachedCallback","detachedCallback"],"mappings":"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","file":"niModelsAndViewModels.min.js.map","sourcesContent":["//****************************************\r\n// Custom Element Extensions\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    // var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ModelProvider = function () {\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ModelProvider;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var TagMap = [];\r\n    var ModelKindMap = [];\r\n    var ModelFactory = [];\r\n    var ViewModelFactory = [];\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModel = function (modelConstructor) {\r\n        ModelFactory[modelConstructor.MODEL_KIND] = function () {\r\n            var obj = Object.create(modelConstructor.prototype);\r\n            var constructorReturnValue = modelConstructor.apply(obj, arguments);\r\n            return (constructorReturnValue === undefined) ? obj : constructorReturnValue;\r\n        };\r\n\r\n    };\r\n\r\n    proto.makeModel = function (kind, id) {\r\n        if (ModelFactory[kind] !== undefined) {\r\n            return ModelFactory[kind](id);\r\n        }\r\n\r\n        throw new Error('Cannot find model constructor with kind: ' + kind);\r\n    };\r\n\r\n    proto.registerViewModel = function (viewModelConstructor, elementConstructor, modelConstructor) {\r\n        var tagName = elementConstructor.prototype.elementInfo.tagName;\r\n\r\n        TagMap[tagName] = modelConstructor.MODEL_KIND;\r\n        ModelKindMap[modelConstructor.MODEL_KIND] = tagName;\r\n\r\n        ViewModelFactory[modelConstructor.MODEL_KIND] = function () {\r\n            var obj = Object.create(viewModelConstructor.prototype);\r\n            var constructorReturnValue = viewModelConstructor.apply(obj, arguments);\r\n            return (constructorReturnValue === undefined) ? obj : constructorReturnValue;\r\n        };\r\n    };\r\n\r\n    proto.makeViewModel = function (element, model) {\r\n        var kind = TagMap[element.elementInfo.tagName];\r\n\r\n        if (kind === undefined) {\r\n            throw new Error('Cannot find model kind associated with tag: ' + element.elementInfo.tagName);\r\n        }\r\n\r\n        if (typeof ViewModelFactory[kind] !== 'function') {\r\n            throw new Error('Cannot find viewmodel constructor function for model kind: ' + kind);\r\n        }\r\n\r\n        return ViewModelFactory[kind](element, model);\r\n    };\r\n\r\n    proto.tagNameToModelKind = function (elementTag) {\r\n        if (typeof TagMap[elementTag] !== 'string') {\r\n            throw new Error('Cannot find model kind for tag: ' + elementTag);\r\n        }\r\n\r\n        return TagMap[elementTag];\r\n    };\r\n\r\n    proto.modelKindToTagName = function (modelKind) {\r\n        if (typeof ModelKindMap[modelKind] !== 'string') {\r\n            throw new Error('Cannot find tag for model kind: ' + modelKind);\r\n        }\r\n\r\n        return ModelKindMap[modelKind];\r\n    };\r\n}());\r\n\r\n// Create Global Singleton\r\nNationalInstruments.HtmlVI.NIModelProvider = new NationalInstruments.HtmlVI.ModelProvider();\r\n","//****************************************\r\n// NI Control Data Item Cache\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    //var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ControlDataItemCache = function (viModels) {\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._dataItemToControlMap = undefined;\r\n        this.viModels = viModels;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    var createDataItemMaps = function (viModels) {\r\n        var dataItemMap = {};\r\n\r\n        for (var viModelName in viModels) {\r\n            if (viModels.hasOwnProperty(viModelName)) {\r\n\r\n                var viModel = viModels[viModelName],\r\n                    controlModels = viModel.getAllControlModels();\r\n\r\n                if (dataItemMap[viModelName] === undefined) {\r\n                    dataItemMap[viModelName] = {};\r\n                }\r\n\r\n                for (var controlId in controlModels) {\r\n                    if (controlModels.hasOwnProperty(controlId)) {\r\n\r\n                        var controlModel = controlModels[controlId],\r\n                            editorRuntimeBindingInfo = controlModel.getEditorRuntimeBindingInfo();\r\n\r\n                        if (editorRuntimeBindingInfo !== undefined) {\r\n                            dataItemMap[viModelName][editorRuntimeBindingInfo.dataItem] = editorRuntimeBindingInfo;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return dataItemMap;\r\n    };\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ControlDataItemCache;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getEditorRuntimeBindingInfo = function (viModelName, dataItem) {\r\n        if (this._dataItemToControlMap === undefined || this._dataItemToControlMap[viModelName] === undefined) {\r\n            this._dataItemToControlMap = createDataItemMaps(this.viModels);\r\n        }\r\n\r\n        return this._dataItemToControlMap[viModelName][dataItem];\r\n    };\r\n\r\n}());\r\n","//****************************************\r\n// NI Control DCO Index Cache\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    //var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ControlDCOIndexCache = function (viModels) {\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._dcoIndexToControlMap = undefined;\r\n        this.viModels = viModels;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    var createDCOIndexMaps = function (viModels) {\r\n        var dcoIndexMap = {};\r\n\r\n        for (var viModelName in viModels) {\r\n            if (viModels.hasOwnProperty(viModelName)) {\r\n\r\n                var viModel = viModels[viModelName],\r\n                    controlModels = viModel.getAllControlModels();\r\n\r\n                if (dcoIndexMap[viModelName] === undefined) {\r\n                    dcoIndexMap[viModelName] = {};\r\n                }\r\n\r\n                for (var controlId in controlModels) {\r\n                    if (controlModels.hasOwnProperty(controlId)) {\r\n                        var controlModel = controlModels[controlId],\r\n                            remoteBindingInfo = controlModel.getRemoteBindingInfo();\r\n\r\n                        if (remoteBindingInfo !== undefined) {\r\n                            dcoIndexMap[viModelName][remoteBindingInfo.dco] = remoteBindingInfo;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return dcoIndexMap;\r\n    };\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ControlDCOIndexCache;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getRemoteBindingInfo = function (viModelName, dcoIndex) {\r\n        if (this._dcoIndexToControlMap === undefined || this._dcoIndexToControlMap[viModelName] === undefined) {\r\n            this._dcoIndexToControlMap = createDCOIndexMaps(this.viModels);\r\n        }\r\n\r\n        return this._dcoIndexToControlMap[viModelName][dcoIndex];\r\n    };\r\n\r\n}());\r\n","//****************************************\r\n// NI Control Reparenting Cache\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// *****************\r\n// NOTE: If changes are made to this file, make sure to run the Reparenting Regression Test prior to submission: https://nitalk.jiveon.com/docs/DOC-358124\r\n// *****************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ElementReparentingCache = function () {\r\n\r\n        // Public Instance Properties\r\n        // keys are parentIds and values are arrays of elements, ie buffer = {'Function3': [childElem1, childElem2]}\r\n        this.buffer = {};\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ElementReparentingCache;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var flushRecur = function (parentId, parentElement, buffer) {\r\n        var i;\r\n        if (buffer[parentId] !== undefined) {\r\n            for (i = 0; i < buffer[parentId].length; i++) {\r\n                parentElement.appendChild(buffer[parentId][i]);\r\n            }\r\n\r\n            for (var j = 0; j < buffer[parentId].length; j++) {\r\n                flushRecur(buffer[parentId][j].niControlId, buffer[parentId][j], buffer);\r\n            }\r\n\r\n            buffer[parentId] = undefined;\r\n        }\r\n\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addToElementCache = function (parentId, element) {\r\n        this.printBuffer('Element Reparenting Cache (Before Add)');\r\n        if (this.buffer[parentId] === undefined) {\r\n            this.buffer[parentId] = [];\r\n        }\r\n\r\n        var parentBuffer = this.buffer[parentId];\r\n        var parentBufferElementIndex = -1;\r\n\r\n        for (var i = 0; i < parentBuffer.length; i++) {\r\n            if (parentBuffer[i].niControlId === element.niControlId) {\r\n\r\n                parentBufferElementIndex = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (parentBufferElementIndex === -1) {\r\n            parentBuffer.push(element);\r\n        } else {\r\n            parentBuffer[i] = element;\r\n            NI_SUPPORT.error('Element replaced for parent id', parentId, 'because buffer already has element for id', element.niControlId);\r\n        }\r\n\r\n        this.printBuffer('Element Reparenting Cache (After Add)');\r\n    };\r\n\r\n    proto.flushElementCache = function (parentId, parentElement) {\r\n        this.printBuffer('Element Reparenting Cache (Before Flush)');\r\n\r\n        if (typeof parentId === 'string' && this.buffer[parentId] !== undefined && parentElement instanceof NationalInstruments.HtmlVI.Elements.NIElement) {\r\n            flushRecur(parentId, parentElement, this.buffer);\r\n            this.buffer = {};\r\n        }\r\n\r\n        this.printBuffer('Element Reparenting Cache (After Flush)');\r\n    };\r\n\r\n    proto.printBuffer = function (groupName) {\r\n        var that = this;\r\n\r\n        if (NI_SUPPORT.VERBOSE_INFO) {\r\n            if (Object.keys(that.buffer).length === 0) {\r\n                NI_SUPPORT.infoVerbose(groupName + ': empty');\r\n            } else {\r\n                NI_SUPPORT.groupVerbose(groupName);\r\n                Object.keys(that.buffer).forEach(function (val) {\r\n                    NI_SUPPORT.infoVerbose('parentId:', val, 'childrenId(s):', that.buffer[val].map(function (el) {\r\n                        return el.niControlId;\r\n                    }).join(','));\r\n                });\r\n                NI_SUPPORT.groupEndVerbose();\r\n            }\r\n        }\r\n    };\r\n\r\n}());\r\n","//***************************************\r\n// Vireo EggShell Singleton\r\n// National Instruments Copyright 2014\r\n//***************************************\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.EggShell = function () {\r\n        // TODO mraj should be able to make new instances of Vireo instead of all EggShells using the same instance\r\n        if (NationalInstruments.Vireo === undefined) {\r\n            throw new Error('vireo.js not available when creating the EggShell');\r\n        }\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._vireo = NationalInstruments.Vireo;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    NationalInstruments.HtmlVI.EggShell.encodeVireoIdentifier = function (str) {\r\n        var nonId = [' ', '!', '\"', '#', '%', '&', '\\'', '(', ')', ',', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', '\\\\', ']', '^', '`', '{', '|', '}', '~'];\r\n        var encoded = '';\r\n\r\n        if (typeof str !== 'string') {\r\n            return undefined;\r\n        }\r\n\r\n        for (var i = 0; i < str.length; i++) {\r\n            var codePoint = str.charCodeAt(i);\r\n            var ch = str.charAt(i);\r\n            if (codePoint <= 0x7F) {\r\n                if (i === 0 || codePoint <= 0x1F || nonId.indexOf(ch) > -1) {\r\n                    encoded += '%' + codePoint.toString(16).toUpperCase();\r\n                } else {\r\n                    encoded += ch;\r\n                }\r\n            }\r\n        }\r\n\r\n        return encoded;\r\n    };\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.EggShell;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.runSlices = function () {\r\n        var executionState = { finished: false, error: false, errorMessage: ''}, retVal;\r\n\r\n        try {\r\n            retVal = this._vireo.executeSlices(1000, -1);\r\n        } catch (e) {\r\n            executionState.errorMessage = e;\r\n            NI_SUPPORT.log('Vireo exception: ' + e);\r\n            executionState.error = true;\r\n            retVal = 0;\r\n        }\r\n\r\n        executionState.finished = (retVal > 0 ? false : true);\r\n        return executionState;\r\n    };\r\n\r\n    proto.loadVia = function (viaText) {\r\n        if (typeof viaText !== 'string') {\r\n            throw new Error('The following is not a string that can be loaded as via text:', viaText);\r\n        }\r\n\r\n        // TODO mraj If we want internal state to be available when re-starting then need to remove\r\n        // Maybe cache viaText and restart only if viaText changes?\r\n        if (this._vireo.core.v_userShell !== 0) {\r\n            this._vireo.reboot();\r\n        }\r\n\r\n        this._vireo.loadVia(viaText);\r\n    };\r\n\r\n    // setPrintCallback ( print : function(text : string) : void )\r\n    proto.setPrintCallback = function (callback) {\r\n        if (typeof callback !== 'function') {\r\n            throw new Error('Must provide a function for the print callback');\r\n        }\r\n\r\n        this._vireo.core.print = callback;\r\n    };\r\n\r\n    // setFrontPanelSynchronousCallback ( callback : function (fpID : string) : void)\r\n    proto.setFrontPanelSynchronousUpdateCallback = function (callback) {\r\n        if (typeof callback !== 'function') {\r\n            throw new Error('Must provide a function for the front panel synchronous update callback');\r\n        }\r\n\r\n        this._vireo.core.fpSync = callback;\r\n    };\r\n\r\n    proto.peek = function (viName, path, type) {\r\n        var value = null;\r\n        switch (type) {\r\n            case 'String':\r\n                value = JSON.parse(this._vireo.readJSON(viName, path));\r\n                break;\r\n            case 'Number':\r\n                value = this._vireo.readDouble(viName, path);\r\n                break;\r\n            case 'Boolean':\r\n                value = this._vireo.readJSON(viName, path);\r\n                if (value === 'f' || value === 'false') {\r\n                    value = false;\r\n                } else {\r\n                    value = true;\r\n                }\r\n\r\n                break;\r\n            case 'Path':\r\n                value = this._vireo.readJSON(viName, path);\r\n                value = JSON.parse(value);\r\n                break;\r\n            case 'Array':\r\n                value = JSON.parse(this._vireo.readJSON(viName, path));\r\n                break;\r\n            case 'Timestamp':\r\n                // TODO mraj reading a timestamp as a double may result in loss of precision, see https://nitalk.jiveon.com/thread/74202\r\n                value = this._vireo.readDouble(viName, path);\r\n                break;\r\n            case 'Object':\r\n                value = JSON.parse(this._vireo.readJSON(viName, path));\r\n                break;\r\n            case 'Unknown':\r\n                //TODO mraj when types are emmitted for sub elements of a cluster this can be removed\r\n                value = JSON.parse(this._vireo.readJSON(viName, path));\r\n                break;\r\n            default:\r\n                throw new Error(NI_SUPPORT.i18n('msg_UNKNOWN_TYPE', type));\r\n        }\r\n        return value;\r\n    };\r\n\r\n    proto.poke = function (viName, path, type, data) {\r\n        switch (type) {\r\n            case 'String':\r\n                this._vireo.writeJSON(viName, path, JSON.stringify(data));\r\n                break;\r\n            case 'Number':\r\n                this._vireo.writeDouble(viName, path, data);\r\n                break;\r\n            case 'Boolean':\r\n                this._vireo.writeJSON(viName, path, JSON.stringify(data));\r\n                break;\r\n            case 'Path':\r\n                data = JSON.stringify(data);\r\n                this._vireo.writeJSON(viName, path, data);\r\n                break;\r\n            case 'Array':\r\n                this._vireo.writeJSON(viName, path, JSON.stringify(data));\r\n                break;\r\n            case 'Timestamp':\r\n                // TODO mraj writing a timestamp as a double may result in loss of precision, see https://nitalk.jiveon.com/thread/74202\r\n                this._vireo.writeDouble(viName, path, data);\r\n                break;\r\n            case 'Object':\r\n                this._vireo.writeJSON(viName, path, JSON.stringify(data));\r\n                break;\r\n            case 'Unknown':\r\n                //TODO mraj when types are emmitted for sub elements of a cluster this can be removed\r\n                this._vireo.writeJSON(viName, path, JSON.stringify(data));\r\n                break;\r\n            default:\r\n                throw new Error(NI_SUPPORT.i18n('msg_UNKNOWN_TYPE', type));\r\n        }\r\n    };\r\n}());\r\n","//**********************************************************\r\n// Service that handles interaction with Vireo\r\n// National Instruments Copyright 2014\r\n//**********************************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    // var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.UpdateService = function () {\r\n        // Public Instance Properties\r\n        this.setServiceState = undefined;\r\n        this.verifyServiceStateIs = undefined;\r\n        this.checkServiceStateIs = undefined;\r\n        this.getVIModels = undefined;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.UpdateService.InitTasksEnum = Object.freeze({\r\n        ELEMENTSREADY: 'ELEMENTSREADY'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // Uses the current DOM to create an ni-element that can be added to the DOM (but is not added yet). The created element and the parent element are returned for use.\r\n    // modelSettings: an object that will be attached to the instance of the DOM element as the property name _temporaryModelSettingsHolder\r\n    // controlTagName: the tagName of the element to be created, ie 'ni-boolean-control'\r\n    // niControlId: the id to assign to the control as a string\r\n    // viRef: the viRef associated with the ni-virtual-instrument that owns the control to be created\r\n    // parentControlId: The id of the parent control\r\n    //     if the parentControlId is empty string then the returned parent element is document.body\r\n    //     if the parentControlId is a string that corresponds to an niControlId in the dom then the returned parent element is the corresponding element\r\n    //     if the parentControlId is a string that is not empty and does not correspond to an niControlId in the dom then the returned parent element is the value undefined\r\n    // NOTE: This function should only perform DOM manipulation and should not require model / viewmodel state information\r\n    // NOTE: This function should not be used directly (via eval, etc), instead update services should invoke as needed\r\n    // NOTE: This function relies on rigorous assumptions about the state of the DOM. If the DOM is in an invalid state, handle those cases and make sure the DOM is valid before calling this function\r\n    NationalInstruments.HtmlVI.UpdateService.createNIControlToAddToDOM = function (modelSettings, controlTagName, niControlId, viRef, parentControlId) {\r\n        if (typeof modelSettings !== 'object' || modelSettings === null) {\r\n            throw new Error('Model settings that are provided should be a JS object with properties');\r\n        }\r\n\r\n        if (typeof controlTagName !== 'string' || controlTagName === '') {\r\n            throw new Error('An element needs a valid controlTagName string to be created');\r\n        }\r\n\r\n        if (typeof niControlId !== 'string' || niControlId === '') {\r\n            throw new Error('An element needs a valid niControlId string to be created');\r\n        }\r\n\r\n        if (typeof viRef !== 'string') {\r\n            throw new Error('An element needs a valid target viRef string to be created');\r\n        }\r\n\r\n        if (typeof parentControlId !== 'string') {\r\n            throw new Error('An element needs to have a valid parentControlId string to be created');\r\n        }\r\n\r\n        var viSelector = 'ni-virtual-instrument[vi-ref=\"' + viRef + '\"]';\r\n        var viElements = document.querySelectorAll(viSelector);\r\n\r\n        if (viElements.length !== 1) {\r\n            throw new Error('The DOM should only contain one ni-virtual-instrument with vi-ref: ' + viRef);\r\n        }\r\n\r\n        var controlSelector = '[vi-ref=\"' + viRef + '\"][ni-control-id=\"' + niControlId + '\"]';\r\n        var controlElements = document.querySelectorAll(controlSelector);\r\n\r\n        if (controlElements.length !== 0) {\r\n            throw new Error('The DOM already contains an element with vi-ref (' + viRef + ') and ni-control-id (' + niControlId + '), but currently has (' + controlElements.length + ') elements');\r\n        }\r\n\r\n        var controlElement = document.createElement(controlTagName);\r\n\r\n        if (controlElement instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            throw new Error('Only VisualComponent elements can be created with createNIControlToAddToDOM');\r\n        }\r\n\r\n        controlElement.niControlId = niControlId;\r\n        controlElement._temporaryModelSettingsHolder = modelSettings;\r\n\r\n        var parentSelector, parentElements, parentElement;\r\n\r\n        if (parentControlId === '') {\r\n            parentElement = document.body;\r\n        } else {\r\n            parentSelector = '[vi-ref=\"' + viRef + '\"][ni-control-id=\"' + parentControlId + '\"]';\r\n            parentElements = document.querySelectorAll(parentSelector);\r\n\r\n            if (parentElements.length > 1) {\r\n                throw new Error('The DOM has too many elements with vi-ref (' + viRef + ') and ni-control-id (' + parentControlId + ')');\r\n            } else if (parentElements.length === 1) {\r\n                parentElement = parentElements[0];\r\n            } else {\r\n                parentElement = undefined;\r\n            }\r\n        }\r\n\r\n        return {\r\n            controlElement: controlElement,\r\n            parentElement: parentElement\r\n        };\r\n    };\r\n\r\n    // Finds an element that can be removed from the dom and returns a reference to the element and it's associated parent\r\n    // NOTE: This function should only perform DOM manipulation and should not require model / viewmodel state information\r\n    // NOTE: This function should not be used directly (via eval, etc), instead update services should invoke as needed\r\n    // NOTE: This function relies on rigorous assumptions about the state of the DOM. If the DOM is in an invalid state, handle those cases and make sure the DOM is valid before calling this function\r\n    NationalInstruments.HtmlVI.UpdateService.findNIControlToRemoveFromDOM = function (niControlId, viRef) {\r\n        if (typeof niControlId !== 'string' || niControlId === '') {\r\n            throw new Error('An element needs a valid niControlId string to be created');\r\n        }\r\n\r\n        if (typeof viRef !== 'string') {\r\n            throw new Error('An element needs a valid target viRef string to be created');\r\n        }\r\n\r\n        var controlSelector = '[vi-ref=\"' + viRef + '\"][ni-control-id=\"' + niControlId + '\"]';\r\n        var controlElements = document.querySelectorAll(controlSelector);\r\n\r\n        if (controlElements.length !== 1) {\r\n            throw new Error('The DOM should contain exactly one element with vi-ref (' + viRef + ') and ni-control-id (' + niControlId + '), but currently has (' + controlElements.length + ') elements');\r\n        }\r\n\r\n        var controlElement = controlElements[0];\r\n\r\n        if (controlElement instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            throw new Error('Only VisualComponent elements can be removed with findNIControlToRemoveFromDOM');\r\n        }\r\n\r\n        var currParent,\r\n            parentElement = document.body;\r\n\r\n        for (currParent = controlElement.parentElement; currParent !== null; currParent = currParent.parentElement) {\r\n            if (currParent instanceof NationalInstruments.HtmlVI.Elements.VisualComponent) {\r\n                parentElement = currParent;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return {\r\n            controlElement: controlElement,\r\n            parentElement: parentElement\r\n        };\r\n    };\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.UpdateService;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum;\r\n    var INIT_TASKS_ENUM = NationalInstruments.HtmlVI.UpdateService.InitTasksEnum;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.applyWebAppServiceStateProvider = function (webAppServiceStateProvider) {\r\n        this.setServiceState = webAppServiceStateProvider.setServiceState;\r\n        this.verifyServiceStateIs = webAppServiceStateProvider.verifyServiceStateIs;\r\n        this.checkServiceStateIs = webAppServiceStateProvider.checkServiceStateIs;\r\n    };\r\n\r\n    proto.applyVirtualInstrumentModelsProvider = function (virtualInstrumentModelsProvider) {\r\n        this.getVIModels = virtualInstrumentModelsProvider.getVIModels;\r\n    };\r\n\r\n    proto.dispatchMessageToHTMLPanel = function (viName, controlId, properties) {\r\n        var viModels = this.getVIModels();\r\n        var viModel = viModels[viName];\r\n        if (viModel !== undefined) {\r\n            viModel.processControlUpdate(controlId, properties);\r\n        } else {\r\n            throw new Error('No VI found with name: ' + viName + ' to send control property update');\r\n        }\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.internalControlEventOccurred = function (viModel, controlModel, eventName, eventData) {\r\n        // jshint unused: vars\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.controlChanged = function (viModel, controlModel, propertyName, newValue) {\r\n        // jshint unused: vars\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.controlEventOccurred = function (viModel, controlModel, eventType, eventData) {\r\n        // jshint unused: vars\r\n    };\r\n\r\n    // Children should extend to verify their states as needed\r\n    proto.isValidServiceState = function (state) {\r\n        var isValidState = SERVICE_STATE_ENUM[state] !== undefined;\r\n        return isValidState;\r\n    };\r\n\r\n    // State Lifecycle functions\r\n    // Actions performed during initializing occur prior to the initializing of all the pages initial models and viewModels\r\n    //   so only perform actions that behave independently of models and viewmodels\r\n    proto.initialize = function (expectedState, tasksEnum) {\r\n        var that = this,\r\n            initTaskTracker;\r\n\r\n        if (expectedState !== SERVICE_STATE_ENUM.UNINITIALIZED) {\r\n            throw new Error('Service must be UNINITIALIZED to run initialize');\r\n        }\r\n\r\n        that.verifyServiceStateIs(SERVICE_STATE_ENUM.UNINITIALIZED);\r\n\r\n        if (tasksEnum === undefined) {\r\n            tasksEnum = INIT_TASKS_ENUM;\r\n        }\r\n\r\n        initTaskTracker = new NationalInstruments.HtmlVI.TaskTracker(tasksEnum, function initComplete() {\r\n            // Have to complete asynchronously so state transition can propagate\r\n            setTimeout(function () {\r\n                that.finishInitializing();\r\n            }, 0);\r\n        });\r\n\r\n        NationalInstruments.HtmlVI.Elements.NIElement.addNIEventListener('attached', function () {\r\n            initTaskTracker.complete(INIT_TASKS_ENUM.ELEMENTSREADY);\r\n        });\r\n\r\n        return initTaskTracker;\r\n    };\r\n\r\n    // Finish initializing is called when the page initial models, view models, and elements have been created (the attached callback for all initial elements has been called)\r\n    proto.finishInitializing = function (expectedState) {\r\n        this.verifyServiceStateIs(expectedState);\r\n    };\r\n\r\n    // The framework requires the update service to be in the READY state before allowing start to be called (and assumes start can be called as long as in the ready state)\r\n    proto.start = function (expectedState) {\r\n        if (expectedState !== SERVICE_STATE_ENUM.READY) {\r\n            throw new Error('Service must be READY to run start');\r\n        }\r\n\r\n        this.verifyServiceStateIs(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    proto.stop = function (expectedState) {\r\n        this.verifyServiceStateIs(expectedState);\r\n    };\r\n\r\n    // Called by niElementExtensions to make the view model\r\n    // aware of the environment that is running on.\r\n    proto.setRenderHintsOnViewModel = function (viewModel) {\r\n        // jshint unused: vars\r\n    };\r\n}());\r\n","//**********************************************************\r\n// Service that handles interaction with the LabVIEW Editor\r\n// National Instruments Copyright 2014\r\n//**********************************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.EditorUpdateService = function () {\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        // References to callbacks registered to coherent so they can be unregistered later\r\n        this.windowEngineCallbacks = {\r\n            propertyChange: undefined,\r\n            propertyChangeMultiple: undefined,\r\n            addElement: undefined,\r\n            removeElement: undefined\r\n        };\r\n\r\n        this.keyEventHandler = {\r\n            undoRedo: undefined\r\n        };\r\n\r\n        // Private Instance Properties\r\n        this._elementReparentingCache = new NationalInstruments.HtmlVI.ElementReparentingCache();\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.EditorUpdateService.StateEnum = Object.freeze(Object.assign({\r\n        INITIALIZING: 'INITIALIZING',\r\n        LISTENING: 'LISTENING'\r\n    }, NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum));\r\n\r\n    NationalInstruments.HtmlVI.EditorUpdateService.CoherentMessagesEnum = Object.freeze({\r\n        PROPERTY_CHANGE: 'PropertyChange',\r\n        PROPERTY_CHANGE_MULTIPLE: 'PropertyChangeMultiple',\r\n        ADD_ELEMENT: 'AddElement',\r\n        REMOVE_ELEMENT: 'RemoveElement',\r\n        PROCESS_MODEL_UPDATE: 'ProcessModelUpdate',\r\n        PROCESS_INTERNAL_EVENT: 'ProcessInternalEvent',\r\n        DOCUMENT_READY: 'DocumentReady',\r\n        USERINTERACTION_CHANGED: 'UserInteractionChanged'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.EditorUpdateService;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.EditorUpdateService.StateEnum;\r\n    var COHERENT_MESSAGE_ENUM = NationalInstruments.HtmlVI.EditorUpdateService.CoherentMessagesEnum;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.isValidServiceState = function (state) {\r\n        // Child states merged with parent states so only need to check child\r\n\r\n        var isValidState = SERVICE_STATE_ENUM[state] !== undefined;\r\n        return isValidState;\r\n    };\r\n\r\n    proto.initialize = function () {\r\n        parent.prototype.initialize.call(this, SERVICE_STATE_ENUM.UNINITIALIZED, undefined);\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.INITIALIZING);\r\n    };\r\n\r\n    proto.finishInitializing = function () {\r\n        parent.prototype.finishInitializing.call(this, SERVICE_STATE_ENUM.INITIALIZING);\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    proto.start = function () {\r\n        parent.prototype.start.call(this, SERVICE_STATE_ENUM.READY);\r\n        var that = this;\r\n\r\n        that.windowEngineCallbacks.propertyChange = function (argsArr) {\r\n            var viName = argsArr[0],\r\n                controlId = argsArr[1],\r\n                dataJSON = argsArr[2],\r\n                data;\r\n\r\n            data = JSON.parse(dataJSON);\r\n            that.dispatchMessageToHTMLPanel(viName, controlId, data);\r\n        };\r\n\r\n        that.windowEngineCallbacks.propertyChangeMultiple = function (argsArr) {\r\n            var viName = argsArr[0],\r\n                controlIdsJSON = argsArr[1],\r\n                dataValuesJSON = argsArr[2],\r\n                controlIds = JSON.parse(controlIdsJSON),\r\n                dataValues = JSON.parse(dataValuesJSON),\r\n                i;\r\n\r\n            for (i = 0; i < controlIds.length; i++) {\r\n                that.dispatchMessageToHTMLPanel(viName, controlIds[i], dataValues[i]);\r\n            }\r\n        };\r\n\r\n        // NOTE: If changes are made to this function, make sure to run the Reparenting Regression Test prior to submission: https://nitalk.jiveon.com/docs/DOC-358124\r\n        that.windowEngineCallbacks.addElement = function (argsArr) {\r\n            var modelSettingsJSON = argsArr[0],\r\n                modelSettings = JSON.parse(modelSettingsJSON),\r\n                modelCreationMetadata = {};\r\n\r\n            // TODO mraj the C# code should be modified to emit the correct viRef\r\n            modelSettings.viRef = '';\r\n\r\n            // TODO mraj refactoring so modelSettings is strictly properties used by the JavaScript models and modelCreationMetadata is everything else\r\n            // ideally the C# side would be modified to reflect these assumptions\r\n            modelCreationMetadata = {\r\n                parentId: argsArr[1],\r\n                nextModelId: argsArr[2],\r\n                initialLoad: argsArr[3],\r\n                extras: undefined,\r\n                kind: undefined\r\n            };\r\n\r\n            modelCreationMetadata.extras = modelSettings.extras;\r\n            modelCreationMetadata.kind = modelSettings.kind;\r\n            delete modelSettings.extras;\r\n            delete modelSettings.kind;\r\n\r\n            NI_SUPPORT.infoVerbose('add Element (editor)', modelCreationMetadata.kind + '(' + modelSettings.niControlId + ')', modelSettings, modelCreationMetadata);\r\n\r\n            // Numeric controls appear to be added twice, if a numeric control already exists then pretend this never happened\r\n            var existingNumeric = document.querySelector('[vi-ref=\"' + modelSettings.viRef + '\"][ni-control-id=\"' + modelSettings.niControlId + '\"]');\r\n            if (existingNumeric !== null && existingNumeric instanceof NationalInstruments.HtmlVI.Elements.NumericControl) {\r\n                NI_SUPPORT.errorVerbose('A numeric element with id (' + modelSettings.niControlId + ') has already been created so ignoring add element request');\r\n                return;\r\n            }\r\n\r\n            // TODO mraj modelKindToTagName only works when a model has a 1 to 1 mapping to an element. In the future seetings needs to explicitly include a tagName\r\n            var tagName = NationalInstruments.HtmlVI.NIModelProvider.modelKindToTagName(modelCreationMetadata.kind);\r\n            var resultElements = NationalInstruments.HtmlVI.UpdateService.createNIControlToAddToDOM(modelSettings,\r\n                                                                                                    tagName,\r\n                                                                                                    modelSettings.niControlId,\r\n                                                                                                    modelSettings.viRef,\r\n                                                                                                    modelCreationMetadata.parentId);\r\n\r\n            resultElements.controlElement._temporaryModelCreationMetadata = modelCreationMetadata;\r\n\r\n            var key;\r\n            for (key in modelCreationMetadata.extras) {\r\n                if (modelCreationMetadata.extras.hasOwnProperty(key)) {\r\n                    resultElements.controlElement.setAttribute(key, modelCreationMetadata.extras[key]);\r\n                }\r\n            }\r\n\r\n            var insertBeforeNode;\r\n            if (modelCreationMetadata.nextModelId !== '') {\r\n                insertBeforeNode = document.querySelector('[vi-ref=\"' + modelSettings.viRef + '\"][ni-control-id=\"' + modelCreationMetadata.nextModelId + '\"]');\r\n\r\n                if (insertBeforeNode === null) {\r\n                    NI_SUPPORT.errorVerbose('Attempting to insert new element id (' + modelSettings.niControlId + ') next to existing element id (' + modelCreationMetadata.nextModelId + ') but the existing element cannot be found. Ignoring nextModelId and adding as child of parent.');\r\n                    insertBeforeNode = undefined;\r\n                }\r\n            }\r\n\r\n            if (resultElements.parentElement === undefined) {\r\n                that._elementReparentingCache.addToElementCache(modelCreationMetadata.parentId, resultElements.controlElement);\r\n            } else {\r\n                if (insertBeforeNode !== undefined) {\r\n                    resultElements.parentElement.insertBefore(resultElements.controlElement, insertBeforeNode);\r\n                } else {\r\n                    resultElements.parentElement.appendChild(resultElements.controlElement);\r\n                }\r\n\r\n                that._elementReparentingCache.flushElementCache(resultElements.controlElement.niControlId, resultElements.controlElement);\r\n            }\r\n        };\r\n\r\n        // NOTE: If changes are made to this function, make sure to run the Reparenting Regression Test prior to submission: https://nitalk.jiveon.com/docs/DOC-358124\r\n        that.windowEngineCallbacks.removeElement = function (argsArr) {\r\n            var controlId = argsArr[0],\r\n                viRef = '',\r\n                resultElements;\r\n\r\n            NI_SUPPORT.infoVerbose('remove Element (editor)', controlId, argsArr);\r\n\r\n            var precheckElement = document.querySelector('[vi-ref=\"' + viRef + '\"][ni-control-id=\"' + controlId + '\"]');\r\n            if (precheckElement === null) {\r\n                NI_SUPPORT.errorVerbose('Attempted to remove an element with niControlId(' + controlId + ') but it could not be found. It is known that numerics are incorrectly removed multiple times, but if it was a different control this needs to be debugged further.');\r\n                return;\r\n            }\r\n\r\n            resultElements = NationalInstruments.HtmlVI.UpdateService.findNIControlToRemoveFromDOM(controlId, viRef);\r\n            resultElements.controlElement.parentNode.removeChild(resultElements.controlElement);\r\n\r\n            if (resultElements.parentElement instanceof NationalInstruments.HtmlVI.Elements.VisualComponent) {\r\n                that._elementReparentingCache.addToElementCache(resultElements.parentElement.niControlId, resultElements.controlElement);\r\n            }\r\n        };\r\n\r\n        that.windowEngineCallbacks.userInteractionChanged = function (argsArr) {\r\n            var viName = argsArr[0],\r\n                controlId = argsArr[1],\r\n                dataJSON = argsArr[2],\r\n                state, viModel, controlViewModel;\r\n\r\n            state = JSON.parse(dataJSON);\r\n            viModel = that.getVIModels()[viName];\r\n            controlViewModel = viModel.getControlViewModel(controlId);\r\n\r\n            var viViewModel = NationalInstruments.HtmlVI.viReferenceService.getVIViewModelByVIRef(viModel.viRef);\r\n            if (state === 'start') {\r\n                viViewModel.setUserInteracting(controlId);\r\n            } else if (state === 'end') {\r\n                viViewModel.clearUserInteracting(controlId);\r\n            }\r\n\r\n            // Is possible that a VisualComponentViewModel receives this event.\r\n            // But it cannot handle it. Shall we move userInteractionChanged to VisualComponent?\r\n            if (controlViewModel instanceof NationalInstruments.HtmlVI.ViewModels.VisualViewModel) {\r\n                controlViewModel.userInteractionChanged(state);\r\n            }\r\n        };\r\n\r\n        // All the key events reach both C# and js.\r\n        // For things like backspace/delete/Ctrl+A/Ctrl+V/Ctrl+X/Ctrl+C, the Html controls need these events.\r\n        // So we block these events in C# side let the browser consume these events when an editable control is focused.\r\n        // But for Ctrl+z/Ctrl+y/Ctrl+Shift+Z events, we never want html to handle them.\r\n        // The C# side transaction manager will handle the undo/redo when we are not editing controls.\r\n        // So we capture and discard the defaut undo/redo event in browser side.\r\n        that.keyEventHandler.undoRedo = function (event) {\r\n            // The keycode property has been deprecated and we should use key properry instead.\r\n            // but the Coherent doesn't support key property.\r\n            // default undo key combination\r\n            if ((event.ctrlKey && (event.keyCode === 90 || event.key === 'z')) ||\r\n                // default redo key combination\r\n                (event.ctrlKey && (event.keyCode === 89 || event.key === 'y')) ||\r\n                // default redo key combination\r\n                (event.ctrlKey && event.shiftKey && (event.keyCode === 90 || event.key === 'z'))) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n        };\r\n\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.PROPERTY_CHANGE, that.windowEngineCallbacks.propertyChange);\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.PROPERTY_CHANGE_MULTIPLE, that.windowEngineCallbacks.propertyChangeMultiple);\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.ADD_ELEMENT, that.windowEngineCallbacks.addElement);\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.REMOVE_ELEMENT, that.windowEngineCallbacks.removeElement);\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.USERINTERACTION_CHANGED, that.windowEngineCallbacks.userInteractionChanged);\r\n\r\n        document.addEventListener('keydown', that.keyEventHandler.undoRedo, true);\r\n        window.engine.call(COHERENT_MESSAGE_ENUM.DOCUMENT_READY);\r\n        that.setServiceState(SERVICE_STATE_ENUM.LISTENING);\r\n    };\r\n\r\n    proto.stop = function () {\r\n        parent.prototype.stop.call(this, SERVICE_STATE_ENUM.LISTENING);\r\n\r\n        window.engine.off(COHERENT_MESSAGE_ENUM.PROPERTY_CHANGE, this.windowEngineCallbacks.propertyChange);\r\n        window.engine.off(COHERENT_MESSAGE_ENUM.PROPERTY_CHANGE_MULTIPLE, this.windowEngineCallbacks.propertyChangeMultiple);\r\n        window.engine.off(COHERENT_MESSAGE_ENUM.ADD_ELEMENT, this.windowEngineCallbacks.addElement);\r\n        window.engine.off(COHERENT_MESSAGE_ENUM.REMOVE_ELEMENT, this.windowEngineCallbacks.removeElement);\r\n        window.engine.off(COHERENT_MESSAGE_ENUM.USERINTERACTION_CHANGED, this.windowEngineCallbacks.userInteractionChanged);\r\n        document.removeEventListener('keydown', this.keyEventHandler.undoRedo, true);\r\n        this.windowEngineCallbacks.propertyChange = undefined;\r\n        this.windowEngineCallbacks.propertyChangeMultiple = undefined;\r\n        this.windowEngineCallbacks.addElement = undefined;\r\n        this.windowEngineCallbacks.removeElement = undefined;\r\n        this.windowEngineCallbacks.userInteractionChanged = undefined;\r\n        this.keyEventHandler.undoRedo = undefined;\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.internalControlEventOccurred = function (viModel, controlModel, eventName, eventData) {\r\n        var data = {};\r\n        data[eventName] = eventData;\r\n\r\n        // TODO mraj should check update service state before triggering event\r\n        window.engine.trigger(COHERENT_MESSAGE_ENUM.PROCESS_INTERNAL_EVENT, viModel.viName, controlModel.niControlId, JSON.stringify(data));\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.controlChanged = function (viModel, controlModel, propertyName, newValue) {\r\n        // jshint unused:vars\r\n\r\n        var topLevelControl,\r\n            topLevelControlValue,\r\n            topLevelControlValueJSON;\r\n\r\n        if (controlModel.bindingInfo.prop === propertyName) {\r\n            topLevelControl = controlModel.findTopLevelControl();\r\n            topLevelControlValue = topLevelControl[topLevelControl.bindingInfo.prop];\r\n\r\n            // TODO mraj JSON stringify does not handle all model values (ie -Infinity, Infinity, cluster using indexes, etc)\r\n            topLevelControlValueJSON = JSON.stringify(topLevelControlValue);\r\n\r\n            // TODO mraj should check update service state before triggering event\r\n            window.engine.trigger(COHERENT_MESSAGE_ENUM.PROCESS_MODEL_UPDATE, viModel.viName, topLevelControl.bindingInfo.dataItem, topLevelControlValueJSON);\r\n        }\r\n    };\r\n\r\n    proto.setRenderHintsOnViewModel = function (viewModel) {\r\n        if (viewModel instanceof NationalInstruments.HtmlVI.ViewModels.VisualViewModel) {\r\n            viewModel.setRenderHints({ preferTransforms: true });\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.UpdateService));\r\n","//**********************************************************\r\n// Service that handles interaction with Vireo\r\n// National Instruments Copyright 2014\r\n//**********************************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.LocalUpdateService = function (config) {\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.eggShell = undefined;\r\n        this.syncControlsCache = [];\r\n        this.vireoSource = config.vireoSource;\r\n        this.ideMode = config.runningInIDE === true;\r\n        this.vireoText = undefined;\r\n        this.dataItemCache = undefined;\r\n\r\n        // References to callbacks registered to coherent so they can be unregistered later\r\n        this.windowEngineCallbacks = {\r\n            start: undefined,\r\n            diagramValueChanged: undefined,\r\n            finishedSendingUpdates: undefined,\r\n            abortVI: undefined\r\n        };\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.LocalUpdateService.StateEnum = Object.freeze(Object.assign({\r\n        DOWNLOADING: 'DOWNLOADING',\r\n        SYNCHRONIZING: 'SYNCHRONIZING',\r\n        RUNNING: 'RUNNING',\r\n        STOPPING: 'STOPPING'\r\n    }, NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum));\r\n\r\n    NationalInstruments.HtmlVI.LocalUpdateService.InitTasksEnum = Object.freeze(Object.assign({\r\n        DOWNLOADING: 'DOWNLOADING'\r\n    }, parent.InitTasksEnum));\r\n\r\n    NationalInstruments.HtmlVI.LocalUpdateService.CoherentMessagesEnum = Object.freeze({\r\n        DIAGRAM_VALUE_CHANGED: 'DiagramValueChanged',\r\n        FINISHED_SENDING_UPDATES: 'FinishedSendingUpdates',\r\n        READY_FOR_UPDATES: 'ReadyForUpdates',\r\n        ABORT_VI: 'AbortVI',\r\n        FINISHED_RUNNING: 'FinishedRunning',\r\n        PANEL_CONTROL_CHANGED: 'PanelControlChanged',\r\n        START: 'Start',\r\n        DOCUMENT_READY: 'DocumentReady',\r\n        PROCESS_INTERNAL_EVENT: 'ProcessInternalEvent',\r\n        LOG_ERROR: 'LogError'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.LocalUpdateService;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.LocalUpdateService.StateEnum;\r\n    var INIT_TASKS_ENUM = NationalInstruments.HtmlVI.LocalUpdateService.InitTasksEnum;\r\n    var COHERENT_MESSAGE_ENUM = NationalInstruments.HtmlVI.LocalUpdateService.CoherentMessagesEnum;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.isValidServiceState = function (state) {\r\n        // Child states merged with parent states so only need to check child\r\n\r\n        var isValidState = SERVICE_STATE_ENUM[state] !== undefined;\r\n        return isValidState;\r\n    };\r\n\r\n    // Functions for State transitions\r\n    proto.initialize = function () {\r\n        var initTaskTracker = parent.prototype.initialize.call(this, SERVICE_STATE_ENUM.UNINITIALIZED, INIT_TASKS_ENUM),\r\n            that = this;\r\n\r\n        // Change state prior to starting download\r\n        $.ajax({\r\n            url: that.vireoSource,\r\n            cache: false, // TODO mraj not caching is useful in development, should be true in production?\r\n            dataType: 'text',\r\n            complete: function (jqXHR, status) {\r\n                if (status === 'success' || status === 'notmodified') {\r\n                    that.vireoText = jqXHR.responseText;\r\n                    initTaskTracker.complete(INIT_TASKS_ENUM.DOWNLOADING);\r\n                } else {\r\n                    NI_SUPPORT.error('Error retrieving vireo source from url (', that.vireoSource, ') with status (', status, ')');\r\n                    that.setServiceState(SERVICE_STATE_ENUM.ERROR);\r\n                }\r\n            }\r\n        });\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.DOWNLOADING);\r\n    };\r\n\r\n    proto.finishInitializing = function () {\r\n        parent.prototype.finishInitializing.call(this, SERVICE_STATE_ENUM.DOWNLOADING);\r\n        var that = this;\r\n\r\n        that.eggShell = new NationalInstruments.HtmlVI.EggShell();\r\n        that.eggShell.setFrontPanelSynchronousUpdateCallback(function (fpId) {\r\n            that.updateSyncHTMLControl(fpId);\r\n        });\r\n\r\n        that.eggShell.setPrintCallback(function (text) {\r\n            NI_SUPPORT.debug(text + '\\n');\r\n        });\r\n\r\n        that.dataItemCache = new NationalInstruments.HtmlVI.ControlDataItemCache(that.getVIModels());\r\n\r\n        if (that.ideMode === true) {\r\n            window.engine.call(COHERENT_MESSAGE_ENUM.DOCUMENT_READY);\r\n        }\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    proto.start = function () {\r\n        parent.prototype.start.call(this, SERVICE_STATE_ENUM.READY);\r\n        var that = this;\r\n\r\n        that.eggShell.loadVia(that.vireoText);\r\n\r\n        if (that.ideMode === true) {\r\n            window.engine.off(COHERENT_MESSAGE_ENUM.START, that.windowEngineCallbacks.start);\r\n            that.windowEngineCallbacks.start = undefined;\r\n            setTimeout(function () {\r\n                that.synchronize();\r\n            }, 0);\r\n            that.setServiceState(SERVICE_STATE_ENUM.SYNCHRONIZING);\r\n\r\n        } else {\r\n            that.startVireoRuntime();\r\n        }\r\n    };\r\n\r\n    proto.synchronize = function () {\r\n        var that = this,\r\n            remainingVIsToSync,\r\n            i;\r\n\r\n        that.verifyServiceStateIs(SERVICE_STATE_ENUM.SYNCHRONIZING);\r\n\r\n        if (that.ideMode === false) {\r\n            NI_SUPPORT.error('HTML Panel synchronization steps should only be run when inside the editor');\r\n            that.setServiceState(SERVICE_STATE_ENUM.ERROR);\r\n            return;\r\n        }\r\n\r\n        // Create list of VIs to sync\r\n        remainingVIsToSync = Object.keys(that.getVIModels());\r\n\r\n        // Create property update listener\r\n        that.windowEngineCallbacks.diagramValueChanged = function (argsArr) {\r\n            // Coherent message will identify the control by its C# data item name and a property called 'value'\r\n            // but HTML panel update message needs control to be identified by control ID and a specific property name for each model.\r\n            var viName = argsArr[0],\r\n                dataItem = argsArr[1],\r\n                editorRuntimeBindingInfo = that.dataItemCache.getEditorRuntimeBindingInfo(viName, dataItem),\r\n                controlId = editorRuntimeBindingInfo.controlId,\r\n                dataJSON = argsArr[2],\r\n                parsedData = JSON.parse(dataJSON),\r\n                data = {};\r\n            data[editorRuntimeBindingInfo.prop] = parsedData;\r\n\r\n            that.dispatchMessageToHTMLPanel(viName, controlId, data);\r\n        };\r\n\r\n        // create VI panel complete listener\r\n        that.windowEngineCallbacks.finishedSendingUpdates = function (argsArr) {\r\n            var i, viName;\r\n\r\n            viName = argsArr[0];\r\n\r\n            for (i = 0; i < remainingVIsToSync.length; i = i + 1) {\r\n                if (remainingVIsToSync[i] === viName) {\r\n                    remainingVIsToSync.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (remainingVIsToSync.length === 0) {\r\n                window.engine.off(COHERENT_MESSAGE_ENUM.DIAGRAM_VALUE_CHANGED, that.windowEngineCallbacks.diagramValueChanged);\r\n                window.engine.off(COHERENT_MESSAGE_ENUM.FINISHED_SENDING_UPDATES, that.windowEngineCallbacks.finishedSendingUpdates);\r\n                that.windowEngineCallbacks.diagramValueChanged = undefined;\r\n                that.windowEngineCallbacks.finishedSendingUpdates = undefined;\r\n                that.startVireoRuntime();\r\n            }\r\n\r\n        };\r\n\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.DIAGRAM_VALUE_CHANGED, that.windowEngineCallbacks.diagramValueChanged);\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.FINISHED_SENDING_UPDATES, that.windowEngineCallbacks.finishedSendingUpdates);\r\n\r\n        // Send requests for VI updates\r\n        for (i = 0; i < remainingVIsToSync.length; i = i + 1) {\r\n            window.engine.trigger(COHERENT_MESSAGE_ENUM.READY_FOR_UPDATES, remainingVIsToSync[i]);\r\n        }\r\n    };\r\n\r\n    proto.startVireoRuntime = function () {\r\n        var that = this;\r\n        that.verifyServiceStateIs([SERVICE_STATE_ENUM.READY, SERVICE_STATE_ENUM.SYNCHRONIZING]);\r\n\r\n        if (that.ideMode === true) {\r\n            that.windowEngineCallbacks.abortVI = function () {\r\n                that.stop();\r\n            };\r\n\r\n            window.engine.on(COHERENT_MESSAGE_ENUM.ABORT_VI, that.windowEngineCallbacks.abortVI);\r\n        }\r\n\r\n        setTimeout(function () {\r\n            that.loadCurrentControlValuesIntoRuntime();\r\n            that.executeRuntimeSlices();\r\n        }, 0);\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.RUNNING);\r\n    };\r\n\r\n    proto.executeRuntimeSlices = function () {\r\n        var that = this,\r\n            executionState;\r\n\r\n        if (that.checkServiceStateIs(SERVICE_STATE_ENUM.RUNNING)) {\r\n            executionState = that.eggShell.runSlices();\r\n            that.updateHTMLControls();\r\n\r\n            if (executionState.finished === true) {\r\n                that.stop();\r\n            }\r\n\r\n            if (executionState.error === true && that.ideMode === true) {\r\n                window.engine.trigger(COHERENT_MESSAGE_ENUM.LOG_ERROR, executionState.errorMessage);\r\n            }\r\n\r\n            // Keep executing until the service state changes\r\n            setTimeout(function () {\r\n                that.executeRuntimeSlices();\r\n            }, 0);\r\n\r\n        } else if (that.checkServiceStateIs(SERVICE_STATE_ENUM.STOPPING)) {\r\n            setTimeout(function () {\r\n                that.finishStopping();\r\n            }, 0);\r\n        } else {\r\n            NI_SUPPORT.error('Web Application expected to be RUNNING or STOPPING');\r\n            that.setServiceState(SERVICE_STATE_ENUM.ERROR);\r\n        }\r\n    };\r\n\r\n    proto.stop = function () {\r\n        parent.prototype.stop.call(this, SERVICE_STATE_ENUM.RUNNING);\r\n\r\n        if (this.ideMode === true) {\r\n            window.engine.off(COHERENT_MESSAGE_ENUM.ABORT_VI, this.windowEngineCallbacks.abortVI);\r\n            this.windowEngineCallbacks.abortVI = undefined;\r\n        }\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.STOPPING);\r\n    };\r\n\r\n    proto.finishStopping = function () {\r\n        var that = this;\r\n        this.verifyServiceStateIs(SERVICE_STATE_ENUM.STOPPING);\r\n\r\n        if (this.ideMode === true) {\r\n            // Send control values back to editor.\r\n            // TODO: We should probably do this during run, not just at the end of run.\r\n            // This would be necessary for the C# data context to remain up to date so that features\r\n            // like Capture Data work correctly\r\n            this.sendControlValuesToEditor();\r\n            window.engine.trigger(COHERENT_MESSAGE_ENUM.FINISHED_RUNNING, 'Function');\r\n            this.windowEngineCallbacks.start = function () {\r\n                that.start();\r\n            };\r\n\r\n            window.engine.on(COHERENT_MESSAGE_ENUM.START, that.windowEngineCallbacks.start);\r\n        }\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    // Functions for service <-> MVVM interconnect\r\n\r\n    // Called by the WebAppModel\r\n    proto.controlChanged = function (viModel, controlModel, propertyName, newValue) {\r\n        var localBindingInfo = controlModel.getLocalBindingInfo();\r\n\r\n        if (localBindingInfo !== undefined && localBindingInfo.io.indexOf('I') > -1) {\r\n\r\n            this.eggShell.poke(localBindingInfo.encodedVIName,\r\n                               localBindingInfo.runtimePath,\r\n                               localBindingInfo.type,\r\n                               newValue);\r\n        }\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.internalControlEventOccurred = function (viModel, controlModel, eventName, eventData) {\r\n        var data = {};\r\n        data[eventName] = eventData;\r\n\r\n        if (this.ideMode === true) {\r\n            window.engine.trigger(COHERENT_MESSAGE_ENUM.PROCESS_INTERNAL_EVENT, viModel.viName, controlModel.niControlId, JSON.stringify(data));\r\n        }\r\n    };\r\n\r\n    proto.sendControlValuesToEditor = function () {\r\n        var viModels = this.getVIModels();\r\n\r\n        for (var viName in viModels) {\r\n            if (viModels.hasOwnProperty(viName)) {\r\n\r\n                var viModel = viModels[viName],\r\n                    controlModels = viModel.getAllControlModels();\r\n\r\n                for (var controlId in controlModels) {\r\n                    if (controlModels.hasOwnProperty(controlId)) {\r\n\r\n                        var controlModel = controlModels[controlId],\r\n                            bindingInfo = controlModel.getEditorRuntimeBindingInfo();\r\n                        // Currently we only send messages to the editor when values change on the page, not any other property.\r\n                        // Eventually we may want to send messages if the user changes other properties (e.g. by editing min/max in place)\r\n                        if (bindingInfo !== undefined && bindingInfo.dataItem !== undefined && bindingInfo.prop !== undefined &&\r\n                            bindingInfo.dataItem !== '' && bindingInfo.prop !== '') {\r\n                            var data = controlModel[bindingInfo.prop];\r\n                            window.engine.trigger(COHERENT_MESSAGE_ENUM.PANEL_CONTROL_CHANGED, viName, bindingInfo.dataItem, JSON.stringify(data));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.loadCurrentControlValuesIntoRuntime = function () {\r\n        var viModels = this.getVIModels();\r\n\r\n        for (var viName in viModels) {\r\n            if (viModels.hasOwnProperty(viName)) {\r\n\r\n                var viModel = viModels[viName],\r\n                    controlModels = viModel.getAllControlModels();\r\n\r\n                for (var controlId in controlModels) {\r\n                    if (controlModels.hasOwnProperty(controlId)) {\r\n\r\n                        var controlModel = controlModels[controlId],\r\n                            localBindingInfo = controlModel.getLocalBindingInfo();\r\n\r\n                        if (localBindingInfo !== undefined && localBindingInfo.io.indexOf('I') > -1) {\r\n                            var data = controlModel[localBindingInfo.prop];\r\n\r\n                            this.eggShell.poke(localBindingInfo.encodedVIName,\r\n                                               localBindingInfo.runtimePath,\r\n                                               localBindingInfo.type,\r\n                                               data);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateHTMLControls = function () {\r\n        var viModels = this.getVIModels();\r\n\r\n        for (var viName in viModels) {\r\n            if (viModels.hasOwnProperty(viName)) {\r\n\r\n                var viModel = viModels[viName],\r\n                    controlModels = viModel.getAllControlModels();\r\n\r\n                for (var controlId in controlModels) {\r\n                    if (controlModels.hasOwnProperty(controlId)) {\r\n\r\n                        var controlModel = controlModels[controlId],\r\n                            localBindingInfo = controlModel.getLocalBindingInfo();\r\n\r\n                        // Only update Top level controls; containers (cluster and array) are responsible for their children\r\n                        // Only update indicators (output); controls are updated by the user\r\n                        if (localBindingInfo !== undefined && controlModel.insideTopLevelContainer() === false && localBindingInfo.sync === false && localBindingInfo.io.indexOf('O') > -1) {\r\n                            var messageData = {};\r\n\r\n                            messageData[localBindingInfo.prop] = this.eggShell.peek(localBindingInfo.encodedVIName,\r\n                                                                                    localBindingInfo.runtimePath,\r\n                                                                                    localBindingInfo.type);\r\n\r\n                            this.dispatchMessageToHTMLPanel(viName, controlId, messageData);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.findSyncHTMLControl = function (fpId) {\r\n        var viModels = this.getVIModels();\r\n\r\n        for (var viName in viModels) {\r\n            if (viModels.hasOwnProperty(viName)) {\r\n\r\n                var viModel = viModels[viName],\r\n                    controlModels = viModel.getAllControlModels();\r\n\r\n                for (var controlId in controlModels) {\r\n                    if (controlModels.hasOwnProperty(controlId)) {\r\n\r\n                        var controlModel = controlModels[controlId],\r\n                            localBindingInfo = controlModel.getLocalBindingInfo(),\r\n                            fpIdStr = fpId.toString();\r\n\r\n                        // All synchronous controls are managed separately (whether contained or top-level)\r\n                        if (localBindingInfo !== undefined && localBindingInfo.via === fpIdStr && localBindingInfo.sync === true && localBindingInfo.io.indexOf('O') > -1) {\r\n                            return {\r\n                                localBindingInfo: localBindingInfo,\r\n                                viName: viName,\r\n                                controlId: controlId\r\n                            };\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n    proto.updateSyncHTMLControl = function (fpId) {\r\n        var localBindingInfo, viName, controlId, messageData;\r\n\r\n        if (this.syncControlsCache[fpId] === undefined) {\r\n            this.syncControlsCache[fpId] = this.findSyncHTMLControl(fpId);\r\n        }\r\n\r\n        if (this.syncControlsCache[fpId] !== undefined) {\r\n            localBindingInfo = this.syncControlsCache[fpId].localBindingInfo;\r\n            viName = this.syncControlsCache[fpId].viName;\r\n            controlId = this.syncControlsCache[fpId].controlId;\r\n            messageData = {};\r\n\r\n            messageData[localBindingInfo.prop] = this.eggShell.peek(localBindingInfo.encodedVIName,\r\n                                                                    localBindingInfo.runtimePath,\r\n                                                                    localBindingInfo.type);\r\n\r\n            this.dispatchMessageToHTMLPanel(viName, controlId, messageData);\r\n\r\n        } else {\r\n            NI_SUPPORT.error('Trying to update synchronous control with data item id ' + fpId + ' but failed to locate control');\r\n        }\r\n    };\r\n}(NationalInstruments.HtmlVI.UpdateService));\r\n","//**********************************************************\r\n// Service that handles interaction to a running non-Vireo VI in the editor\r\n// National Instruments Copyright 2015\r\n//**********************************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.EditorRuntimeUpdateService = function () {\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.dataItemCache = undefined;\r\n\r\n        this.windowEngineCallbacks = {\r\n            panelControlChanged: undefined\r\n        };\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.EditorRuntimeUpdateService.StateEnum = Object.freeze(Object.assign({\r\n        INITIALIZING: 'INITIALIZING',\r\n        LISTENING: 'LISTENING'\r\n    }, NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum));\r\n\r\n    NationalInstruments.HtmlVI.EditorRuntimeUpdateService.CoherentMessagesEnum = Object.freeze({\r\n        READY_FOR_UPDATES: 'ReadyForUpdates',\r\n        PANEL_CONTROL_CHANGED: 'PanelControlChanged',\r\n        DIAGRAM_VALUE_CHANGED: 'DiagramValueChanged',\r\n        DOCUMENT_READY: 'DocumentReady',\r\n        PANEL_CONTROL_EVENT_OCCURRED: 'PanelControlEventOccurred',\r\n        PROCESS_INTERNAL_EVENT: 'ProcessInternalEvent'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.EditorRuntimeUpdateService;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.EditorRuntimeUpdateService.StateEnum;\r\n    var INIT_TASKS_ENUM = NationalInstruments.HtmlVI.EditorRuntimeUpdateService.InitTasksEnum;\r\n    var COHERENT_MESSAGE_ENUM = NationalInstruments.HtmlVI.EditorRuntimeUpdateService.CoherentMessagesEnum;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.isValidServiceState = function (state) {\r\n        // Child states merged with parent states so only need to check child\r\n\r\n        var isValidState = SERVICE_STATE_ENUM[state] !== undefined;\r\n        return isValidState;\r\n    };\r\n\r\n    // Functions for state transitions\r\n    proto.initialize = function () {\r\n        parent.prototype.initialize.call(this, SERVICE_STATE_ENUM.UNINITIALIZED, INIT_TASKS_ENUM);\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.INITIALIZING);\r\n    };\r\n\r\n    proto.finishInitializing = function () {\r\n        parent.prototype.finishInitializing.call(this, SERVICE_STATE_ENUM.INITIALIZING);\r\n\r\n        this.dataItemCache = new NationalInstruments.HtmlVI.ControlDataItemCache(this.getVIModels());\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    proto.start = function () {\r\n        parent.prototype.start.call(this, SERVICE_STATE_ENUM.READY);\r\n\r\n        var that = this;\r\n        that.windowEngineCallbacks.panelControlChanged = function (argsArr) {\r\n            // Coherent message will identify the control by its C# data item name and a property called 'value'\r\n            // but HTML panel update message needs control to be identified by control ID and a specific property name for each model.\r\n            var viName = argsArr[0],\r\n                dataItem = argsArr[1],\r\n                editorRuntimeBindingInfo = that.dataItemCache.getEditorRuntimeBindingInfo(viName, dataItem),\r\n                controlId = editorRuntimeBindingInfo.controlId,\r\n                dataJSON = argsArr[2],\r\n                parsedData = JSON.parse(dataJSON),\r\n                data = {};\r\n            data[editorRuntimeBindingInfo.prop] = parsedData;\r\n\r\n            that.dispatchMessageToHTMLPanel(viName, controlId, data);\r\n        };\r\n\r\n        window.engine.on(COHERENT_MESSAGE_ENUM.DIAGRAM_VALUE_CHANGED, that.windowEngineCallbacks.panelControlChanged);\r\n        window.engine.call(COHERENT_MESSAGE_ENUM.DOCUMENT_READY);\r\n        // Send requests for VI updates\r\n        var i, visToSync;\r\n        visToSync = Object.keys(that.getVIModels());\r\n        for (i = 0; i < visToSync.length; i = i + 1) {\r\n            window.engine.trigger(COHERENT_MESSAGE_ENUM.READY_FOR_UPDATES, visToSync[i]);\r\n        }\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.LISTENING);\r\n    };\r\n\r\n    proto.stop = function () {\r\n        parent.prototype.stop.call(this, SERVICE_STATE_ENUM.LISTENING);\r\n        window.engine.off(COHERENT_MESSAGE_ENUM.DIAGRAM_VALUE_CHANGED, this.windowEngineCallbacks.panelControlChanged);\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.controlChanged = function (viModel, controlModel, propertyName, newValue) {\r\n        // Currently we only send messages to the editor when values change on the page, not any other property.\r\n        // Eventually we may want to send messages if the user changes other properties (e.g. by editing min/max in place)\r\n        if (controlModel.bindingInfo.prop === propertyName && controlModel.bindingInfo.dataItem !== '') {\r\n            controlModel = controlModel.findTopLevelControl();\r\n            newValue = controlModel[controlModel.bindingInfo.prop];\r\n            window.engine.trigger(COHERENT_MESSAGE_ENUM.PANEL_CONTROL_CHANGED, viModel.viName, controlModel.bindingInfo.dataItem, JSON.stringify(newValue));\r\n        }\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.internalControlEventOccurred = function (viModel, controlModel, eventName, eventData) {\r\n        var data = {};\r\n        data[eventName] = eventData;\r\n        window.engine.trigger(COHERENT_MESSAGE_ENUM.PROCESS_INTERNAL_EVENT, viModel.viName, controlModel.niControlId, JSON.stringify(data));\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.controlEventOccurred = function (viModel, controlModel, eventType, eventData) {\r\n        controlModel = controlModel.findTopLevelControl();\r\n        var modelIdentifier = controlModel.getEditorRuntimeBindingInfo().controlId;\r\n        window.engine.trigger(COHERENT_MESSAGE_ENUM.PANEL_CONTROL_EVENT_OCCURRED, viModel.viName, modelIdentifier, eventType, JSON.stringify(eventData));\r\n    };\r\n}(NationalInstruments.HtmlVI.UpdateService));\r\n","//**********************************************************\r\n// Service that handles interaction with a Remote source\r\n// National Instruments Copyright 2015\r\n//**********************************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.RemoteUpdateService = function (config) {\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.remoteAddress = config.remoteAddress;\r\n        this.dcoIndexCache = undefined;\r\n\r\n        this.socket = undefined;\r\n\r\n        this.preferredVersion = {\r\n            majorVersion: 0,\r\n            minorVersion: 1,\r\n            patchVersion: 0,\r\n            preReleaseVersion: 'preAlpha',\r\n            versionMetadata: 'testMetadata'\r\n        };\r\n\r\n        this.serverVersion = {\r\n            majorVersion: undefined,\r\n            minorVersion: undefined,\r\n            patchVersion: undefined,\r\n            preReleaseVersion: undefined,\r\n            versionMetadata: undefined\r\n        };\r\n\r\n        this.socketCallbacks = {\r\n            open: undefined,\r\n            message: undefined,\r\n            close: undefined,\r\n            error: undefined\r\n        };\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.RemoteUpdateService.MessageTypeEnum = Object.freeze({\r\n        PROPERTY_UPDATE: 'PROPERTY_UPDATE',\r\n        VERSION_MESSAGE: 'VERSION_MESSAGE',\r\n        VI_STATE_UPDATE: 'VI_STATE_UPDATE'\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.RemoteUpdateService.StateEnum = Object.freeze(Object.assign({\r\n        INITIALIZING: 'INITIALIZING',\r\n        INITIALCONNECTION: 'INITIALCONNECTION',\r\n        CONNECTING: 'CONNECTING',\r\n        CONNECTED: 'CONNECTED',\r\n        RECONNECTING: 'RECONNECTING'\r\n    }, NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum));\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.RemoteUpdateService;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.RemoteUpdateService.StateEnum;\r\n    var MESSAGE_TYPE_ENUM = NationalInstruments.HtmlVI.RemoteUpdateService.MessageTypeEnum;\r\n\r\n    // Static Private Functions\r\n    // Discussion of RT message format https://nitalk.jiveon.com/docs/DOC-229687\r\n    var createPropertyUpdateMessage = function (viModel, controlModel, newValue) {\r\n        var remoteBindingInfo = controlModel.getRemoteBindingInfo();\r\n\r\n        var messageObject = {\r\n            messageType: MESSAGE_TYPE_ENUM.PROPERTY_UPDATE,\r\n            viName: viModel.viName,\r\n            dcoIndex: remoteBindingInfo.dco,\r\n            data: {\r\n                value: newValue\r\n            }\r\n        };\r\n\r\n        var messageString = JSON.stringify(messageObject);\r\n        return messageString;\r\n    };\r\n\r\n    var createVersionMessage = function (preferredVersion) {\r\n        var messageObject = {\r\n            messageType: MESSAGE_TYPE_ENUM.VERSION_MESSAGE,\r\n            version: preferredVersion\r\n        };\r\n\r\n        var messageString = JSON.stringify(messageObject);\r\n        return messageString;\r\n    };\r\n\r\n    var parseWebSocketMessage = function (messageString) {\r\n        var messageObject;\r\n\r\n        try {\r\n            messageObject = JSON.parse(messageString);\r\n        } catch (err) {\r\n            NI_SUPPORT.error('Error parsing message: ' + err.message);\r\n            messageObject = {};\r\n        }\r\n\r\n        return messageObject;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.isValidServiceState = function (state) {\r\n        // Child states merged with parent states so only need to check child\r\n\r\n        var isValidState = SERVICE_STATE_ENUM[state] !== undefined;\r\n        return isValidState;\r\n    };\r\n\r\n    proto.initialize = function () {\r\n        var that = this;\r\n        parent.prototype.initialize.call(that, SERVICE_STATE_ENUM.UNINITIALIZED, undefined);\r\n\r\n        // Save references to the callback functions so they can be added and removed\r\n        that.socketCallbacks.open = function (evt) {\r\n            that.socketOpen(evt);\r\n        };\r\n\r\n        that.socketCallbacks.message = function (evt) {\r\n            that.socketMessage(evt);\r\n        };\r\n\r\n        that.socketCallbacks.close = function (evt) {\r\n            that.socketClose(evt);\r\n        };\r\n\r\n        that.socketCallbacks.error = function (evt) {\r\n            that.socketError(evt);\r\n        };\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.INITIALIZING);\r\n    };\r\n\r\n    proto.finishInitializing = function () {\r\n        parent.prototype.finishInitializing.call(this, SERVICE_STATE_ENUM.INITIALIZING);\r\n\r\n        this.dcoIndexCache = new NationalInstruments.HtmlVI.ControlDCOIndexCache(this.getVIModels());\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    proto.start = function () {\r\n        var that = this;\r\n\r\n        parent.prototype.start.call(that, SERVICE_STATE_ENUM.READY);\r\n\r\n        setTimeout(function () {\r\n            that.setupConnection();\r\n        }, 0);\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.INITIALCONNECTION);\r\n    };\r\n\r\n    proto.setupConnection = function () {\r\n        this.verifyServiceStateIs([SERVICE_STATE_ENUM.INITIALCONNECTION, SERVICE_STATE_ENUM.RECONNECTING]);\r\n\r\n        this.createSocket();\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.CONNECTING);\r\n    };\r\n\r\n    proto.stop = function () {\r\n        var that = this;\r\n        parent.prototype.stop.call(that, [SERVICE_STATE_ENUM.CONNECTING, SERVICE_STATE_ENUM.CONNECTED]);\r\n\r\n        this.removeSocket();\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    proto.socketOpen = function () {\r\n        this.verifyServiceStateIs(SERVICE_STATE_ENUM.CONNECTING);\r\n\r\n        // Send handshake message\r\n        var messageString = createVersionMessage(this.preferredVersion);\r\n        this.socket.send(messageString);\r\n    };\r\n\r\n    proto.socketMessage = function (evt) {\r\n        var remoteBindingInfo,\r\n            data;\r\n\r\n        var messageObject = parseWebSocketMessage(evt.data);\r\n\r\n        switch (messageObject.messageType) {\r\n            case MESSAGE_TYPE_ENUM.VERSION_MESSAGE:\r\n                this.verifyServiceStateIs(SERVICE_STATE_ENUM.CONNECTING);\r\n\r\n                this.serverVersion = messageObject.version;\r\n                if (this.preferredVersion.majorVersion !== this.serverVersion.majorVersion) {\r\n                    NI_SUPPORT.error('HTML Panel cannot connect to server with incompatible version');\r\n                    this.stop();\r\n                } else {\r\n                    this.setServiceState(SERVICE_STATE_ENUM.CONNECTED);\r\n                }\r\n\r\n                break;\r\n\r\n            case MESSAGE_TYPE_ENUM.PROPERTY_UPDATE:\r\n                this.verifyServiceStateIs(SERVICE_STATE_ENUM.CONNECTED);\r\n\r\n                remoteBindingInfo = this.dcoIndexCache.getRemoteBindingInfo(messageObject.viName, messageObject.dcoIndex);\r\n                data = {};\r\n                data[remoteBindingInfo.prop] = messageObject.data.value;\r\n\r\n                this.dispatchMessageToHTMLPanel(messageObject.viName, remoteBindingInfo.controlId, data);\r\n                break;\r\n\r\n            case MESSAGE_TYPE_ENUM.VI_STATE_UPDATE:\r\n                this.verifyServiceStateIs(SERVICE_STATE_ENUM.CONNECTED);\r\n\r\n                NI_SUPPORT.error('VI State update is not implemented');\r\n                break;\r\n\r\n            default:\r\n                NI_SUPPORT.error('Unknown message format or type: ', evt.data);\r\n                this.setServiceState(SERVICE_STATE_ENUM.ERROR);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.socketClose = function () {\r\n        this.reconnect();\r\n    };\r\n\r\n    proto.socketError = function (evt) {\r\n        NI_SUPPORT.error('Socket Error', evt);\r\n        this.reconnect();\r\n    };\r\n\r\n    proto.reconnect = function () {\r\n        var that = this;\r\n\r\n        that.verifyServiceStateIs([SERVICE_STATE_ENUM.CONNECTING, SERVICE_STATE_ENUM.CONNECTED]);\r\n\r\n        // Synchronously remove the socket when an error occurs to prevent further errors\r\n        that.removeSocket();\r\n\r\n        // Asynchronously setuoConnecton to allow state change propagation\r\n        setTimeout(function () {\r\n            that.setupConnection();\r\n        }, 0);\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.RECONNECTING);\r\n    };\r\n\r\n    proto.createSocket = function () {\r\n        this.socket = new WebSocket(this.remoteAddress);\r\n        this.socket.addEventListener('open', this.socketCallbacks.open);\r\n        this.socket.addEventListener('message', this.socketCallbacks.message);\r\n        this.socket.addEventListener('close', this.socketCallbacks.close);\r\n        this.socket.addEventListener('error', this.socketCallbacks.error);\r\n    };\r\n\r\n    proto.removeSocket = function () {\r\n        if (this.socket !== undefined) {\r\n            this.socket.removeEventListener('open', this.socketCallbacks.open);\r\n            this.socket.removeEventListener('message', this.socketCallbacks.message);\r\n            this.socket.removeEventListener('close', this.socketCallbacks.close);\r\n            this.socket.removeEventListener('error', this.socketCallbacks.error);\r\n            this.socket.close();\r\n            this.socket = undefined;\r\n        }\r\n    };\r\n\r\n    // Called by the WebAppModel\r\n    proto.controlChanged = function (viModel, controlModel, propertyName, newValue) {\r\n        var messageString;\r\n\r\n        if (this.checkServiceStateIs(SERVICE_STATE_ENUM.CONNECTED) === false) {\r\n            NI_SUPPORT.error('Control property update ignored. Remote service is not connected.');\r\n            return;\r\n        }\r\n\r\n        // TODO mraj To support updates from non top-level controls the Remote update service might need to serialize the top-level control to send on the wire\r\n        if (controlModel.insideTopLevelContainer() === true) {\r\n            throw new Error('Controls that are not top-level are currently unsupported. Cluster and Array support needs to be added.');\r\n        }\r\n\r\n        messageString = createPropertyUpdateMessage(viModel, controlModel, newValue);\r\n        this.socket.send(messageString);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.UpdateService));\r\n","//**********************************************************\r\n// Service that handles interaction with Test Framework\r\n// National Instruments Copyright 2014\r\n//**********************************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.TestUpdateService = function () {\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.windowCallbacks = {\r\n            propertyChange: undefined,\r\n            addElement: undefined,\r\n            removeElement: undefined\r\n        };\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.TestUpdateService.StateEnum = Object.freeze(Object.assign({\r\n        INITIALIZING: 'INITIALIZING',\r\n        RUNNING: 'RUNNING'\r\n    }, NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum));\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.TestUpdateService;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.TestUpdateService.StateEnum;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.isValidServiceState = function (state) {\r\n        // Child states merged with parent states so only need to check child\r\n        var isValidState = SERVICE_STATE_ENUM[state] !== undefined;\r\n        return isValidState;\r\n    };\r\n\r\n    proto.initialize = function () {\r\n        parent.prototype.initialize.call(this, SERVICE_STATE_ENUM.UNINITIALIZED, undefined);\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.INITIALIZING);\r\n    };\r\n\r\n    proto.finishInitializing = function () {\r\n        parent.prototype.finishInitializing.call(this, SERVICE_STATE_ENUM.INITIALIZING);\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n    proto.start = function () {\r\n        parent.prototype.start.call(this, SERVICE_STATE_ENUM.READY);\r\n        var that = this;\r\n\r\n        // Events fired by the test async helpers\r\n        // Switched from using event listeners to invoking directly. Reason is that events don't propagate exceptions on the\r\n        // call stack which makes testing in jasmine very difficult: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\r\n        that.windowCallbacks.propertyChange = function (viName, niControlId, data) {\r\n            that.dispatchMessageToHTMLPanel(viName, niControlId, data);\r\n        };\r\n\r\n        that.windowCallbacks.addElement = function (modelSettings, tagName, niControlId, viRef, parentId) {\r\n\r\n            // TODO mraj the tests should be updated to not include kind or extras in modelsettings\r\n            var filteredModelSettings = {},\r\n                key;\r\n            for (key in modelSettings) {\r\n                if (modelSettings.hasOwnProperty(key) && key !== 'kind') {\r\n                    filteredModelSettings[key] = modelSettings[key];\r\n                }\r\n            }\r\n\r\n            var resultElements = NationalInstruments.HtmlVI.UpdateService.createNIControlToAddToDOM(filteredModelSettings, tagName, niControlId, viRef, parentId);\r\n            if (resultElements.parentElement === undefined) {\r\n                throw new Error('Parent element must be defined for the test update service');\r\n            } else {\r\n                resultElements.parentElement.appendChild(resultElements.controlElement);\r\n            }\r\n        };\r\n\r\n        that.windowCallbacks.removeElement = function (niControlId, viRef) {\r\n            var resultElements = NationalInstruments.HtmlVI.UpdateService.findNIControlToRemoveFromDOM(niControlId, viRef);\r\n            resultElements.controlElement.parentNode.removeChild(resultElements.controlElement);\r\n        };\r\n\r\n        that.setServiceState(SERVICE_STATE_ENUM.RUNNING);\r\n    };\r\n\r\n    proto.stop = function () {\r\n        parent.prototype.stop.call(this, SERVICE_STATE_ENUM.RUNNING);\r\n\r\n        this.windowCallbacks.propertyChange = undefined;\r\n        this.windowCallbacks.addElement = undefined;\r\n        this.windowCallbacks.removeElement = undefined;\r\n\r\n        this.setServiceState(SERVICE_STATE_ENUM.READY);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.UpdateService));\r\n","//****************************************\r\n// NI LabVIEW Web Application Singleton\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n//********************************************************\r\n// Service that manages the Web Application Models for the JavaScript Global Execution Context\r\n//********************************************************\r\nNationalInstruments.HtmlVI.webApplicationModelsService = (function () {\r\n    'use strict';\r\n    var webApplicationViewModels = [],\r\n        register, unregister, getModel;\r\n\r\n    register = function (element) {\r\n        for (var i = 0; i < webApplicationViewModels.length; i++) {\r\n            if (webApplicationViewModels[i].element === element) {\r\n                throw new Error('ViewModel for web application element has already been created');\r\n            }\r\n        }\r\n\r\n        // Create the Model\r\n        var webAppModel = new NationalInstruments.HtmlVI.Models.WebApplicationModel();\r\n\r\n        // Create the ViewModel\r\n        var webAppViewModel = new NationalInstruments.HtmlVI.ViewModels.WebApplicationViewModel(element, webAppModel);\r\n        webAppViewModel.updateModelFromElement();\r\n\r\n        // Complete Model - ViewModel - View binding\r\n        webAppModel.registerListener(webAppViewModel);\r\n        webAppViewModel.bindToView();\r\n\r\n        webApplicationViewModels.push(webAppViewModel);\r\n\r\n        return webAppViewModel;\r\n    };\r\n\r\n    // TODO mraj Do we need to verify any specific state before destroying? Does the Model Service need to notify the update service that we are stopping?\r\n    unregister = function (element) {\r\n        for (var i = 0; i < webApplicationViewModels.length; i++) {\r\n            if (webApplicationViewModels[i].element === element) {\r\n\r\n                webApplicationViewModels[i].model.unregisterListener(webApplicationViewModels[i]);\r\n\r\n                webApplicationViewModels.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    getModel = function (webAppElement) {\r\n        for (var i = 0; i < webApplicationViewModels.length; i++) {\r\n            if (webApplicationViewModels[i].element === webAppElement) {\r\n                return webApplicationViewModels[i].model;\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n    return {\r\n        register: register,\r\n        unregister: unregister,\r\n        getModel: getModel\r\n    };\r\n}());\r\n","//****************************************\r\n// NI LabVIEW VI Ref Service Singleton\r\n// National Instruments Copyright 2014\r\n// Service that manages vis and controls that register using a vi-ref identifier\r\n//****************************************\r\n\r\nNationalInstruments.HtmlVI.viReferenceService = (function () {\r\n    'use strict';\r\n\r\n    // The viRefs should be globally unique\r\n    var viRefToVIModel = {};\r\n    var viRefToVIViewModel = {};\r\n    var viRefToWebAppModel = {};\r\n    var webAppInstanceIdToVIModels = {}; // { webAppInstanceId1: {'viname1': vivm1, 'viname2': vivm2} }\r\n\r\n    var registerVIElement = function (viElement) {\r\n        var viViewModel, viModel, webAppElement, webAppModel;\r\n\r\n        if (viElement instanceof NationalInstruments.HtmlVI.Elements.VirtualInstrument === false) {\r\n            throw new Error('The viReferenceService only registers ni-virtual-instrument elements');\r\n        }\r\n\r\n        if (viRefToVIModel[viElement.viRef] !== undefined) {\r\n            throw new Error('A virtual instrument with the following vi-ref has already been defined: ' + viElement.viRef);\r\n        }\r\n\r\n        if (viRefToWebAppModel[viElement.viRef] !== undefined) {\r\n            throw new Error('A web application containing the following vi-ref has already been defined: ' + viElement.viRef);\r\n        }\r\n\r\n        webAppElement = viElement.parentElement;\r\n\r\n        if (webAppElement instanceof NationalInstruments.HtmlVI.Elements.WebApplication === false) {\r\n            throw new Error('Virtual Instrument Elements must be direct children of Web Application Elements for registration to complete');\r\n        }\r\n\r\n        webAppModel = NationalInstruments.HtmlVI.webApplicationModelsService.getModel(webAppElement);\r\n\r\n        if (webAppModel === undefined) {\r\n            throw new Error('Web Application View Model has not been created yet');\r\n        }\r\n\r\n        // Create the Model\r\n        viModel = new NationalInstruments.HtmlVI.Models.VirtualInstrumentModel();\r\n\r\n        // Create the ViewModel\r\n        viViewModel = new NationalInstruments.HtmlVI.ViewModels.VirtualInstrumentViewModel(viElement, viModel);\r\n        viViewModel.updateModelFromElement();\r\n\r\n        // Complete Model - ViewModel binding\r\n        viModel.registerListener(viViewModel);\r\n\r\n        if (webAppInstanceIdToVIModels[webAppModel.webAppInstanceId] === undefined) {\r\n            webAppInstanceIdToVIModels[webAppModel.webAppInstanceId] = {};\r\n        }\r\n\r\n        if (webAppInstanceIdToVIModels[webAppModel.webAppInstanceId][viModel.viName] !== undefined) {\r\n            throw new Error('Web applications cannot have multiple VIs with the same name');\r\n        }\r\n\r\n        webAppInstanceIdToVIModels[webAppModel.webAppInstanceId][viModel.viName] = viModel;\r\n        viRefToVIModel[viModel.viRef] = viModel;\r\n        viRefToVIViewModel[viModel.viRef] = viViewModel;\r\n        viRefToWebAppModel[viModel.viRef] = webAppModel;\r\n    };\r\n\r\n    var unregisterVIElement = function (viElement) {\r\n        var viModel = viRefToVIModel[viElement.viRef];\r\n        var viViewModel = viRefToVIViewModel[viElement.viRef];\r\n        var owningWebAppModel = viRefToWebAppModel[viElement.viRef];\r\n\r\n        if (viModel instanceof NationalInstruments.HtmlVI.Models.VirtualInstrumentModel === false ||\r\n           viViewModel instanceof NationalInstruments.HtmlVI.ViewModels.VirtualInstrumentViewModel === false ||\r\n           owningWebAppModel instanceof NationalInstruments.HtmlVI.Models.WebApplicationModel === false) {\r\n\r\n            throw new Error('ni-virtual-instrument with vi-ref (' + viElement.viRef + ') and vi-name (' + viElement.viName + ') was not properly registered and cannot be unregistered');\r\n        }\r\n\r\n        var viModelsMap = webAppInstanceIdToVIModels[owningWebAppModel.webAppInstanceId];\r\n\r\n        if (viModelsMap === undefined || viModelsMap[viModel.viName] instanceof NationalInstruments.HtmlVI.Models.VirtualInstrumentModel === false) {\r\n            throw new Error('ni-virtual-instrument with vi-ref (' + viElement.viRef + ') and vi-name (' + viElement.viName + ') was not properly registered and cannot be unregistered');\r\n        }\r\n\r\n        viModel.unregisterListener(viViewModel);\r\n        viRefToVIModel[viElement.viRef] = undefined;\r\n        viRefToVIViewModel[viElement.viRef] = undefined;\r\n        viRefToWebAppModel[viElement.viRef] = undefined;\r\n\r\n        delete webAppInstanceIdToVIModels[owningWebAppModel.webAppInstanceId][viModel.viName];\r\n    };\r\n\r\n    var getVIModelByVIRef = function (viRefString) {\r\n        if (viRefToVIModel[viRefString] === undefined) {\r\n            throw new Error('Cannot find the VI');\r\n        }\r\n\r\n        return viRefToVIModel[viRefString];\r\n    };\r\n\r\n    var getVIViewModelByVIRef = function (viRefString) {\r\n        if (viRefToVIViewModel[viRefString] === undefined) {\r\n            throw new Error('Cannot find the VI');\r\n        }\r\n\r\n        return viRefToVIViewModel[viRefString];\r\n    };\r\n\r\n    var getAllVIModelsForWebAppModel = function (webAppModel) {\r\n        if (webAppModel instanceof NationalInstruments.HtmlVI.Models.WebApplicationModel === false || webAppInstanceIdToVIModels[webAppModel.webAppInstanceId] === undefined) {\r\n            throw new Error('Cannot find VIs for the Web Application Model');\r\n        }\r\n\r\n        return webAppInstanceIdToVIModels[webAppModel.webAppInstanceId];\r\n    };\r\n\r\n    var getWebAppModelByVIRef = function (viRefString) {\r\n        if (viRefToWebAppModel[viRefString] === undefined) {\r\n            throw new Error('Cannot find the web app');\r\n        }\r\n\r\n        return viRefToWebAppModel[viRefString];\r\n    };\r\n\r\n    // Methods exported by the service\r\n    return {\r\n        registerVIElement: registerVIElement,\r\n        unregisterVIElement: unregisterVIElement,\r\n        getVIModelByVIRef: getVIModelByVIRef,\r\n        getVIViewModelByVIRef: getVIViewModelByVIRef,\r\n        getAllVIModelsForWebAppModel: getAllVIModelsForWebAppModel,\r\n        getWebAppModelByVIRef: getWebAppModelByVIRef\r\n    };\r\n}());\r\n","﻿//************************************************\r\n// NI Render Buffer\r\n// National Instruments Copyright 2016\r\n//************************************************\r\n// Use the RenderBuffer object to store changes that will be propagated to the DOM Element associated with view model\r\n// Parameter behaviors:\r\n// properties: Add properties to this object whose name is a property on the DOM Element and value is the new value for the DOM Element property\r\n// cssClasses.toAdd: Append string names to this array of css classes to add to the element\r\n// cssClasses.toRemove: Append string names to this array of css classes to remove from the element\r\n// cssStyles: Add properties to this object whose values are the css style to update. (i.e. renderBuffer.cssStyle['border'] = 0; Reference the Element.css property for a list of styles to set)\r\n// attributes: Add properties to this object whose name is a DOM attribute and whose string value is the string value to update the element DOM attribute (i.e. renderBuffer.attributes['data-mydata'] = \"hello\"  )\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.RenderBuffer = function () {\r\n        this.properties = {};\r\n        this.cssClasses = Object.freeze({toAdd : [], toRemove : [] });\r\n        this.cssStyles = {};\r\n        this.attributes = {};\r\n\r\n    };\r\n\r\n    // Prototype creation\r\n    var proto = NationalInstruments.HtmlVI.RenderBuffer.prototype;\r\n\r\n    // Public Prototype Methods\r\n    proto.reset = function () {\r\n        this.properties = {};\r\n        this.cssClasses = Object.freeze({ toAdd: [], toRemove: [] });\r\n        this.cssStyles = {};\r\n        this.attributes = {};\r\n    };\r\n\r\n    proto.isEmpty = function () {\r\n        if (Object.keys(this.properties).length > 0) {\r\n            return false;\r\n        }\r\n\r\n        if (this.cssClasses.toAdd.length > 0) {\r\n            return false;\r\n        }\r\n\r\n        if (this.cssClasses.toRemove.length > 0) {\r\n            return false;\r\n        }\r\n\r\n        if (Object.keys(this.cssStyles).length > 0) {\r\n            return false;\r\n        }\r\n\r\n        if (Object.keys(this.attributes).length > 0) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n}());\r\n","//*****************************************************\r\n// Rendering Engine\r\n// National Instruments Copyright 2014\r\n//*****************************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NI_ELEMENT = NationalInstruments.HtmlVI.Elements.NIElement;\r\n\r\n    // Static Private Variables\r\n    var _updateQueue = []; // List of elements to update.\r\n    var _updateMap = {}; // {niElementId: niRenderBuffer}\r\n    var _updatePending = {}; // {niElementId: true}\r\n    var _frameRequested = false;\r\n\r\n    // Static Private Functions\r\n    var applyDomUpdates = function (element, renderBuffer) {\r\n        var i, newStyle, newAttr, newProp;\r\n\r\n        for (i = 0; i < renderBuffer.cssClasses.toAdd.length; i++) {\r\n            if (typeof renderBuffer.cssClasses.toAdd[i] !== 'string') {\r\n                throw new Error(NI_SUPPORT.i18n('msg_RENDERBUFFER_EXPECTS_STRING', 'css classes to add', typeof renderBuffer.cssClasses.toAdd[i]));\r\n            } else {\r\n                element.classList.add(renderBuffer.cssClasses.toAdd[i]);\r\n            }\r\n        }\r\n\r\n        for (i = 0; i < renderBuffer.cssClasses.toRemove.length; i++) {\r\n            if (typeof renderBuffer.cssClasses.toRemove[i] !== 'string') {\r\n                throw new Error(NI_SUPPORT.i18n('msg_RENDERBUFFER_EXPECTS_STRING', 'css classes to remove', typeof renderBuffer.cssClasses.toRemove[i]));\r\n            } else {\r\n                element.classList.remove(renderBuffer.cssClasses.toRemove[i]);\r\n            }\r\n        }\r\n\r\n        for (newStyle in renderBuffer.cssStyles) {\r\n            if (renderBuffer.cssStyles.hasOwnProperty(newStyle)) {\r\n                if (element.style[newStyle] === undefined) {\r\n                    // Let's just log that, we don't want to interrupt execution just because\r\n                    // a CSS property is not declared.\r\n                    NI_SUPPORT.error(NI_SUPPORT.i18n('msg_PROPERTY_DOES_NOT_EXIST', newStyle, 'element style'));\r\n                } else {\r\n                    element.style[newStyle] = renderBuffer.cssStyles[newStyle];\r\n                }\r\n            }\r\n        }\r\n\r\n        for (newAttr in renderBuffer.attributes) {\r\n            if (renderBuffer.attributes.hasOwnProperty(newAttr)) {\r\n                if (typeof renderBuffer.attributes[newAttr] !== 'string') {\r\n                    throw new Error(NI_SUPPORT.i18n('msg_RENDERBUFFER_EXPECTS_STRING', 'element attributes', typeof renderBuffer.attributes[newAttr]));\r\n                } else {\r\n                    element.setAttribute(newAttr, renderBuffer.attributes[newAttr]);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (newProp in renderBuffer.properties) {\r\n            if (renderBuffer.properties.hasOwnProperty(newProp)) {\r\n                if (renderBuffer.properties[newProp] === undefined) {\r\n                    throw new Error('Property cannot be undefined ' + newProp);\r\n                } else {\r\n                    element[newProp] = renderBuffer.properties[newProp];\r\n                }\r\n            }\r\n        }\r\n\r\n        if (Object.keys(renderBuffer.cssStyles).length > 0) {\r\n            var actSize = { width: renderBuffer.cssStyles.width, height: renderBuffer.cssStyles.height };\r\n            if (actSize.width !== undefined || actSize.height !== undefined) {\r\n                element.dispatchEvent(new CustomEvent('resizeEventHack', { detail: actSize }));\r\n            }\r\n        }\r\n    };\r\n\r\n    var runFrameUpdate = function () {\r\n        var element, renderBuffer, niElementId;\r\n        // We try to do all the work at once.\r\n        while (_updateQueue.length > 0) {\r\n            element = _updateQueue.shift();\r\n            niElementId = element.niElementInstanceId;\r\n            renderBuffer = _updateMap[niElementId];\r\n            _updatePending[niElementId] = false;\r\n\r\n            applyDomUpdates(element, renderBuffer);\r\n            renderBuffer.reset();\r\n        }\r\n\r\n        _frameRequested = false;\r\n    };\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.RenderEngine = function () {\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Functions\r\n    NationalInstruments.HtmlVI.RenderEngine.getOrAddRenderBuffer = function (element) {\r\n        if (element instanceof NI_ELEMENT === false) {\r\n            throw new Error('Element should be an instance of ni-element.');\r\n        }\r\n\r\n        var niElementId = element.niElementInstanceId,\r\n            renderBuffer = _updateMap[niElementId];\r\n        if (renderBuffer === undefined) {\r\n            renderBuffer = new NationalInstruments.HtmlVI.RenderBuffer();\r\n            _updateMap[niElementId] = renderBuffer;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.RenderEngine.removeRenderBuffer = function (element) {\r\n        if (element instanceof NI_ELEMENT === false) {\r\n            throw new Error('Element should be an instance of ni-element.');\r\n        }\r\n\r\n        var niElementId = element.niElementInstanceId,\r\n            renderBuffer = _updateMap[niElementId];\r\n        if (renderBuffer !== undefined) {\r\n            _updateMap[niElementId] = undefined;\r\n            _updatePending[niElementId] = undefined;\r\n            _updateQueue = _updateQueue.filter(function (e) {\r\n                return e.niElementInstanceId !== niElementId;\r\n            });\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.RenderEngine.enqueueDomUpdate = function (element) {\r\n        if (element instanceof NI_ELEMENT === false) {\r\n            throw new Error('Element should be an instance of ni-element.');\r\n        }\r\n\r\n        var niElementId = element.niElementInstanceId;\r\n        var renderBuffer = _updateMap[niElementId];\r\n\r\n        if (renderBuffer === undefined) {\r\n            throw Error('Did you forget to getOrAddRenderBuffer?');\r\n        }\r\n\r\n        if (renderBuffer.isEmpty() === false &&\r\n        (_updatePending[niElementId] === false || _updatePending[niElementId] === undefined)) {\r\n            _updatePending[niElementId] = true;\r\n            _updateQueue.push(element);\r\n        }\r\n\r\n        if (_frameRequested === false && _updateQueue.length > 0) {\r\n            _frameRequested = true;\r\n            window.requestAnimationFrame(runFrameUpdate);\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.RenderEngine.isFrameRequested = function () {\r\n        return _frameRequested;\r\n    };\r\n\r\n} ());\r\n","//****************************************\r\n// Analog Waveform data type\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    NationalInstruments.HtmlVI.NIAnalogWaveform = function (value) {\r\n\r\n        if (typeof value === 'string') {\r\n            try {\r\n                value = JSON.parse(value);\r\n            } catch (e) {\r\n                throw 'Can\\'t create an analog aveform from this value';\r\n            }\r\n            // falltrough, value is now an object parsed from the string,\r\n        }\r\n\r\n        if (value instanceof NationalInstruments.HtmlVI.NIAnalogWaveform) {\r\n            this.t0 = new NationalInstruments.HtmlVI.NITimestamp(value.t0 || '0.0');\r\n            this.channelName = value.channelName;\r\n            this.dt = value.dt;\r\n            this.Y = value.Y.slice(0); //shallow copy\r\n        } else if (typeof value === 'object') {\r\n            this.t0 = new NationalInstruments.HtmlVI.NITimestamp(value.t0 || '0.0');\r\n            this.channelName = value.channelName;\r\n            this.dt = value.dt || 0;\r\n            this.Y = value.Y.slice(0); // shallow copy\r\n        } else if (value === undefined) {\r\n            this.dt = 0;\r\n            this.Y = [];\r\n            this.t0 = new NationalInstruments.HtmlVI.NITimestamp();\r\n        } else {\r\n            throw 'Can\\'t create an analog aveform from this value';\r\n        }\r\n    };\r\n\r\n    var proto = NationalInstruments.HtmlVI.NIAnalogWaveform.prototype;\r\n\r\n    proto.sampleCount = function () {\r\n        return this.Y.length;\r\n    };\r\n\r\n    // convert the waveform to an array of [timestamp, value] pairs\r\n    proto.toTimeAndValueArray = function () {\r\n        var res = [];\r\n        for (var i = 0, ts = this.t0; i < this.Y.length; i++, ts = ts.add(this.dt)) {\r\n            res.push([ts.toAbsoluteTime(), this.Y[i]]);\r\n        }\r\n\r\n        return res;\r\n    };\r\n\r\n    proto.appendArray = function (arr) {\r\n        if (Array.isArray(arr)) {\r\n            for (var i = 0; i < arr.length; i++) {\r\n                this.Y.push(arr[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    // append a waveform\r\n    proto.appendWaveform = function (waveform) {\r\n        if (waveform instanceof NationalInstruments.HtmlVI.NIAnalogWaveform) {\r\n            if (waveform.dt !== this.dt) {\r\n                // we cannot merge two waveforms with different sampling rates. Discard the old one and use the new one.\r\n                this.t0 = waveform.t0;\r\n                this.dt = waveform.dt;\r\n                this.Y = waveform.Y.slice(0);\r\n            } else {\r\n                var expectedT0 = new NationalInstruments.HtmlVI.NITimestamp(this.t0).add(this.dt * this.sampleCount());\r\n                if (waveform.t0.compare(expectedT0) === 0) {\r\n                    // append waveform data\r\n                    this.appendArray(waveform.Y);\r\n                } else {\r\n                    // we don't support gaps in waveforms yet\r\n                    this.t0 = waveform.t0;\r\n                    this.dt = waveform.dt;\r\n                    this.Y = waveform.Y.slice(0);\r\n                }\r\n            }\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// NIResizeStrategy\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n// Resize Strategy is a base prototype to declare what to do when the bounds\r\n// of a view model changes.\r\n// This interface, enables rapid prototyping of new ways to resize\r\n// an element on screen.\r\n// Is important to consider that onBoundsChangeStarted and onBoundsChangeEnd\r\n// are usually called only when the user is directly interacting with a control.\r\n// That means that the function that is guaranteed to be called is onBoundsChanging\r\n// even when setting the bounds programmatically.\r\n// Objects extending this object must not call this object methods.\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor function\r\n    NationalInstruments.HtmlVI.ResizeStrategy = function () {\r\n\r\n        // Private Instance Variables\r\n        this.boundsChangeStarted = false;\r\n    };\r\n\r\n    // Static public variables\r\n    // TODO gleon:\r\n    // 1) Coherent UI is based on chrome 28. 'transform' is considered experimental in that version.\r\n    // hence the -webkit- prefix. http://devdocs.io/css/transform#Browser_compatibility\r\n    // 2) Once we have Coherent40, switch to 'will-change'.\r\n    NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS = Object.freeze({\r\n        TRANSFORM_CSS : '-webkit-transform',\r\n        TRANSFORM_ORIGIN_CSS : '-webkit-transform-origin'\r\n    });\r\n\r\n    // Protoype creation\r\n    var proto = NationalInstruments.HtmlVI.ResizeStrategy.prototype;\r\n\r\n    // Private static methods\r\n    var validBounds = function (bounds) {\r\n        if (typeof bounds !== 'object') {\r\n            return false;\r\n        }\r\n\r\n        if (typeof bounds.left !== 'number' ||\r\n            typeof bounds.top !== 'number' ||\r\n            typeof bounds.width !== 'number' ||\r\n            typeof bounds.height !== 'number') {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    var validRenderBuffer = function (renderBuffer) {\r\n        return renderBuffer instanceof NationalInstruments.HtmlVI.RenderBuffer;\r\n    };\r\n\r\n    var validateParams = function (bounds, renderBuffer) {\r\n        if (!validBounds(bounds)) {\r\n            throw new Error('bounds format is not valid.');\r\n        }\r\n\r\n        if (!validRenderBuffer(renderBuffer)) {\r\n            throw new Error('renderBuffer is not valid.');\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.onBoundsChangeStarted = function (bounds, renderBuffer) {\r\n        validateParams(bounds, renderBuffer);\r\n        this.boundsChangeStarted = true;\r\n    };\r\n\r\n    proto.onBoundsChanging = function (bounds, renderBuffer) {\r\n        validateParams(bounds, renderBuffer);\r\n    };\r\n\r\n    proto.onBoundsChangeEnd = function (bounds, renderBuffer) {\r\n        validateParams(bounds, renderBuffer);\r\n        this.boundsChangeStarted = false;\r\n    };\r\n\r\n    proto.setBoundsToRenderBuffer = function (bounds, renderBuffer) {\r\n        renderBuffer.cssStyles.top = bounds.top + 'px';\r\n        renderBuffer.cssStyles.left = bounds.left + 'px';\r\n        renderBuffer.cssStyles.width = bounds.width + 'px';\r\n        renderBuffer.cssStyles.height = bounds.height + 'px';\r\n    };\r\n\r\n}());\r\n","//****************************************\r\n// NIPaintResizeStrategy\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n// This strategy is used to immediately set the bounds\r\n// of an element directly into the RenderBuffer when onBoundsChanging\r\n// is called. onBoundsChangeStarted and onBoundsChangeEnd do nothing.\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor function\r\n    NationalInstruments.HtmlVI.PaintResizeStrategy = function () {\r\n        parent.call(this);\r\n\r\n        // Private Instance Variables\r\n        // None\r\n    };\r\n\r\n    // Protoype creation\r\n    var child = NationalInstruments.HtmlVI.PaintResizeStrategy;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Public Prototype Methods\r\n    proto.onBoundsChangeStarted = function (bounds, renderBuffer) {\r\n        // jshint unused: vars\r\n    };\r\n\r\n    proto.onBoundsChanging = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChanging.call(this, bounds, renderBuffer);\r\n        this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n    };\r\n\r\n    proto.onBoundsChangeEnd = function (bounds, renderBuffer) {\r\n        // jshint unused: vars\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ResizeStrategy));\r\n","//**************************************\r\n// NiTransformResizeStrategy\r\n// National Instruments Copyright 2016\r\n//**************************************\r\n// ResizeStrategy designed to apply CSS transforms when\r\n// onBoundsChanging is called. onBoundsChangeStarted helps\r\n// determine which is going to be the scale ratio based on initial bounds.\r\n// Notice how onBoundsChanging also handles the case when onBoundsChangeStarted is not\r\n// called before it. This happens because the only call guaranteed to execute\r\n// is onBoundsChanging, according to niResizeStrategy.css\r\n// onBoundsChangeEnd just commits all changes done during transformation\r\n// setting the {top, left, width, right} properties on the renderBuffer.\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var TRANSFORM_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_CSS;\r\n    var TRANSFORM_ORIGIN_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_ORIGIN_CSS;\r\n\r\n    // Constructor function\r\n    NationalInstruments.HtmlVI.TransformResizeStrategy = function () {\r\n        parent.call(this);\r\n\r\n        // Private Instance Variables\r\n        this.oldBounds = {};\r\n    };\r\n\r\n    // Private static methods\r\n    // None\r\n\r\n    // Protoype creation\r\n    var child = NationalInstruments.HtmlVI.TransformResizeStrategy;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Public Prototype Methods\r\n    proto.onBoundsChangeStarted = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeStarted.call(this, bounds, renderBuffer);\r\n\r\n        this.oldBounds = bounds;\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'translateZ(0)';\r\n    };\r\n\r\n    proto.onBoundsChanging = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChanging.call(this, bounds, renderBuffer);\r\n\r\n        if (this.boundsChangeStarted) {\r\n            var scalex = bounds.width / this.oldBounds.width,\r\n                scaley = bounds.height / this.oldBounds.height,\r\n                left = (bounds.left - this.oldBounds.left) + 'px',\r\n                top = (bounds.top - this.oldBounds.top) + 'px';\r\n\r\n            renderBuffer.cssStyles[TRANSFORM_ORIGIN_CSS] = '0px 0px';\r\n            renderBuffer.cssStyles[TRANSFORM_CSS] = 'translate3d(' + left + ', ' + top + ', 0) scale(' + scalex + ', ' + scaley + ')';\r\n        } else {\r\n            this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n        }\r\n\r\n    };\r\n\r\n    proto.onBoundsChangeEnd = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeEnd.call(this, bounds, renderBuffer);\r\n\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'none';\r\n        this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ResizeStrategy));\r\n","//************************************************\r\n// NIRepaintResizeStrategy\r\n// National Instruments Copyright 2016\r\n//************************************************\r\n// This strategy is purposed for controls that have\r\n// a really expensive painting process. It sets bounds\r\n// directly to a renderBuffer if onBoundsChangeStarted\r\n// is not called first. Otherwise it scales the control\r\n// using CSS transforms until it reaches the repaintAt\r\n// threshold. At that point it repaints the control and\r\n// reset the current transformation. It sets the bounds\r\n// directly also at onBoundsChangeEnd and clears transforms.\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var TRANSFORM_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_CSS;\r\n    var TRANSFORM_ORIGIN_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_ORIGIN_CSS;\r\n\r\n    // Private static methods\r\n\r\n    // Constructor function\r\n    NationalInstruments.HtmlVI.RepaintResizeStrategy = function () {\r\n        parent.call(this);\r\n\r\n        // Private Instance Variables\r\n        this.scalingBounds = undefined;\r\n        this.repaintAt = 0.25;\r\n    };\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.RepaintResizeStrategy;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Public protoype methods\r\n    proto.onBoundsChangeStarted = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeStarted.call(this, bounds, renderBuffer);\r\n\r\n        this.scalingBounds = bounds;\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'translateZ(0)';\r\n    };\r\n\r\n    proto.onBoundsChanging = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChanging.call(this, bounds, renderBuffer);\r\n\r\n        if (this.boundsChangeStarted) {\r\n            var scalex = bounds.width / this.scalingBounds.width,\r\n                scaley = bounds.height / this.scalingBounds.height,\r\n                left = (bounds.left - this.scalingBounds.left) + 'px',\r\n                top = (bounds.top - this.scalingBounds.top) + 'px';\r\n\r\n            if (Math.abs(1 - scalex) > this.repaintAt || Math.abs(1 - scaley) > this.repaintAt) {\r\n                renderBuffer.cssStyles[TRANSFORM_CSS] = 'none';\r\n                this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n                this.scalingBounds = bounds;\r\n            } else {\r\n                renderBuffer.cssStyles[TRANSFORM_ORIGIN_CSS] = '0px 0px';\r\n                renderBuffer.cssStyles[TRANSFORM_CSS] = 'translate3d(' + left + ', ' + top + ', 0) scale(' + scalex + ', ' + scaley + ')';\r\n            }\r\n        } else {\r\n            this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n        }\r\n\r\n    };\r\n\r\n    proto.onBoundsChangeEnd = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeEnd.call(this, bounds, renderBuffer);\r\n\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'none';\r\n        this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n        this.scalingBounds = undefined;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ResizeStrategy));\r\n","//****************************************\r\n// NILargeResizeStrategy\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n// Strategy renders a control at twice its current size,\r\n// after that it uses transform to manipulate size and position.\r\n// When the interaction is over, it paints the contorl at a normal\r\n// scale and removes any transforms.\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var TRANSFORM_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_CSS;\r\n    var TRANSFORM_ORIGIN_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_ORIGIN_CSS;\r\n\r\n    // Constructor function\r\n    NationalInstruments.HtmlVI.LargeResizeStrategy = function () {\r\n        parent.call(this);\r\n\r\n        // Private Instance Variables\r\n        this.paintAtScale = 2;\r\n        this.boundsPainted = undefined;\r\n    };\r\n\r\n    // Protoype creation\r\n    var child = NationalInstruments.HtmlVI.LargeResizeStrategy;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Private static methods\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.onBoundsChangeStarted = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeStarted.call(this, bounds, renderBuffer);\r\n\r\n        this.boundsPainted = {\r\n            left: bounds.left,\r\n            top: bounds.top,\r\n            width: bounds.width * this.paintAtScale,\r\n            height: bounds.height * this.paintAtScale\r\n        };\r\n\r\n        var scaleX = bounds.width / this.boundsPainted.width,\r\n            scaleY = bounds.height / this.boundsPainted.height;\r\n\r\n        this.setBoundsToRenderBuffer(this.boundsPainted, renderBuffer);\r\n\r\n        renderBuffer.cssStyles[TRANSFORM_ORIGIN_CSS] = '0px 0px';\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'translateZ(0) scale(' + scaleX + ', ' + scaleY + ')';\r\n    };\r\n\r\n    proto.onBoundsChanging = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChanging.call(this, bounds, renderBuffer);\r\n\r\n        if (this.boundsChangeStarted) {\r\n            var left = (bounds.left - this.boundsPainted.left) + 'px',\r\n                top = (bounds.top - this.boundsPainted.top) + 'px',\r\n                scaleX = bounds.width / this.boundsPainted.width,\r\n                scaleY = bounds.height / this.boundsPainted.height;\r\n\r\n            renderBuffer.cssStyles[TRANSFORM_ORIGIN_CSS] = '0px 0px';\r\n            renderBuffer.cssStyles[TRANSFORM_CSS] = 'translate3d(' + left + ',' + top + ',0) scale(' + scaleX + ', ' + scaleY + ')';\r\n        } else {\r\n            this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n        }\r\n    };\r\n\r\n    proto.onBoundsChangeEnd = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeEnd.call(this, bounds, renderBuffer);\r\n\r\n        this.boundsPainted = undefined;\r\n        this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'none';\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ResizeStrategy));\r\n","//****************************************\r\n// NIEditorResizeStrategy data type\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n// Transforms to drag (Taking advantage of GPU)\r\n// Paint to resize. (Guarantees components will be drawn no matter how expensive)\r\n// Recommended to use in the Editor, because it provides an excellent performance,\r\n// while dragging, and repaints on every frame while resizing, useful for lightweight controls.\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var TRANSFORM_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_CSS;\r\n    var TRANSFORM_ORIGIN_CSS = NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_ORIGIN_CSS;\r\n\r\n    // Constructor function\r\n    NationalInstruments.HtmlVI.EditorResizeStrategy = function () {\r\n        parent.call(this);\r\n\r\n        // Private Instance Variables\r\n        this._oldBounds = undefined;\r\n    };\r\n\r\n    // Protoype creation\r\n    var child = NationalInstruments.HtmlVI.EditorResizeStrategy;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Public Prototype Methods\r\n    proto.onBoundsChangeStarted = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeStarted.call(this, bounds, renderBuffer);\r\n        this._oldBounds = bounds;\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'translate3d(0, 0, 0)';\r\n    };\r\n\r\n    proto.onBoundsChanging = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChanging.call(this, bounds, renderBuffer);\r\n        var oldBounds = this._oldBounds;\r\n        if (this.boundsChangeStarted) {\r\n            var deltaLeft = (bounds.left - oldBounds.left),\r\n                deltaTop = (bounds.top - oldBounds.top);\r\n            renderBuffer.cssStyles[TRANSFORM_ORIGIN_CSS] = '0px 0px';\r\n            renderBuffer.cssStyles[TRANSFORM_CSS] = 'translate3d(' + deltaLeft + 'px, ' + deltaTop + 'px, 0)';\r\n            renderBuffer.cssStyles.width = bounds.width + 'px';\r\n            renderBuffer.cssStyles.height = bounds.height + 'px';\r\n        } else {\r\n            this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n        }\r\n    };\r\n\r\n    proto.onBoundsChangeEnd = function (bounds, renderBuffer) {\r\n        parent.prototype.onBoundsChangeEnd.call(this, bounds, renderBuffer);\r\n        this.setBoundsToRenderBuffer(bounds, renderBuffer);\r\n        renderBuffer.cssStyles[TRANSFORM_CSS] = 'none';\r\n        this._oldBounds = undefined;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ResizeStrategy));\r\n","//****************************************\r\n// NIModel Base Class\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function () {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.NIModel = function () {\r\n        var currProp;\r\n        var instanceProto = Object.getPrototypeOf(this);\r\n        var _propertyTable = instanceProto._propertyTable;\r\n\r\n        if (instanceProto.hasOwnProperty('_propertyTable') === false) {\r\n            throw new Error('The registerModelProperties function has not been invoked, a property table has not been created');\r\n        }\r\n\r\n        for (currProp in _propertyTable) {\r\n            if (_propertyTable.hasOwnProperty(currProp) && _propertyTable[currProp].computedProp === false) {\r\n                this[_propertyTable[currProp].privatePropName] = copyValue(_propertyTable[currProp].defaultValue);\r\n            }\r\n        }\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._listeners = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.NIModel;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var ADD_ALL_PROPS_FUNC_NAME = '_addAllProperties';\r\n\r\n    // Static Private Functions\r\n    var copyValue = function (value) {\r\n        var i;\r\n        if (typeof value === 'number' || typeof value === 'string' || typeof value === 'boolean') {\r\n            return value;\r\n        } else if (value === null || value === undefined) {\r\n            return value;\r\n        } else if (Array.isArray(value)) {\r\n            var newValue1 = [];\r\n            for (i = 0; i < value.length; i++) {\r\n                newValue1[i] = copyValue(value[i]);\r\n            }\r\n\r\n            return newValue1;\r\n        } else if ($.isPlainObject(value)) {\r\n            var newValue2 = {}, x;\r\n            for (x in value) {\r\n                if (value.hasOwnProperty(x)) {\r\n                    newValue2[x] = copyValue(value[x]);\r\n                }\r\n            }\r\n\r\n            return newValue2;\r\n        } else {\r\n            throw new Error('Unsupported type');\r\n        }\r\n\r\n    };\r\n\r\n    var validateAddModelPropertyArgs = function (targetPrototype, config) {\r\n        var propertyName = config.propertyName;\r\n        var defaultValue = copyValue(config.defaultValue);\r\n        var privatePropertyName = '_' + propertyName;\r\n        var customSetter = config.customSetter;\r\n        var customGetter = config.customGetter;\r\n        var computedProp = config.computedProp || false;\r\n\r\n        if (typeof propertyName !== 'string' || propertyName.length < 1) {\r\n            throw new Error('A property name must be a string greater than or equal to one character long');\r\n        }\r\n\r\n        if (targetPrototype.hasOwnProperty('_propertyTable') === false) {\r\n            throw new Error('The addAllProperties function has not been invoked yet; the property table has not been created');\r\n        }\r\n\r\n        if (targetPrototype[propertyName] !== undefined) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_ALREADY_DEFINED', targetPrototype[propertyName], propertyName));\r\n        }\r\n\r\n        if (targetPrototype[privatePropertyName] !== undefined) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_ALREADY_DEFINED', targetPrototype[privatePropertyName], propertyName));\r\n        }\r\n\r\n        if (customSetter !== undefined && typeof customSetter !== 'function') {\r\n            throw new Error('If a custom setter is provided, it must be a function to invoke');\r\n        }\r\n\r\n        if (customGetter !== undefined && typeof customGetter !== 'function') {\r\n            throw new Error('If a custom getter is provided, it must be a function to invoke');\r\n        }\r\n\r\n        if (typeof computedProp !== 'boolean') {\r\n            throw new Error('If specifying that a property is computed, please use a boolean value');\r\n        }\r\n\r\n        if (computedProp === true && config.hasOwnProperty('defaultValue') === true) {\r\n            throw new Error('Computed properties are not backed by a value, do not provided a default value for a computedProperty');\r\n        }\r\n\r\n        if (computedProp === true && (typeof customGetter !== 'function' || typeof customSetter !== 'function')) {\r\n            throw new Error('Computed properties require getter and setter functions');\r\n        }\r\n\r\n        return {\r\n            privatePropertyName: privatePropertyName,\r\n            defaultValue: defaultValue,\r\n            propertyName: propertyName,\r\n            customSetter: customSetter,\r\n            customGetter: customGetter,\r\n            computedProp: computedProp\r\n        };\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    // The registerModelProperties function generates a function called ADD_ALL_PROPS_FUNC_NAME on the prototype chain. The value of ADD_ALL_PROPS_FUNC_NAME\r\n    // is passed to the registered function so it can invoke the parent as needed\r\n    proto.registerModelProperties = function (targetPrototype, addAllModelProperties) {\r\n        if (typeof addAllModelProperties === 'function') {\r\n\r\n            targetPrototype[ADD_ALL_PROPS_FUNC_NAME] = function (targetPrototype, parentMethodName) {\r\n                addAllModelProperties.call(targetPrototype, targetPrototype, parentMethodName);\r\n            };\r\n        }\r\n\r\n        targetPrototype[ADD_ALL_PROPS_FUNC_NAME](targetPrototype, ADD_ALL_PROPS_FUNC_NAME);\r\n    };\r\n\r\n    proto[ADD_ALL_PROPS_FUNC_NAME] = function (targetPrototype) {\r\n        if (targetPrototype.hasOwnProperty('_propertyTable') === true) {\r\n            throw new Error('The ' + ADD_ALL_PROPS_FUNC_NAME + ' function has already been invoked; the property table is already created');\r\n        }\r\n\r\n        NI_SUPPORT.defineConstReference(targetPrototype, '_propertyTable', {});\r\n    };\r\n\r\n    // Model <-> ViewModel Observable Properties Support\r\n    proto.addModelProperty = function (targetPrototype, config) {\r\n        var validConfig = validateAddModelPropertyArgs(targetPrototype, config);\r\n        var privatePropertyName = validConfig.privatePropertyName,\r\n            defaultValue = validConfig.defaultValue,\r\n            propertyName = validConfig.propertyName,\r\n            customSetter = validConfig.customSetter,\r\n            customGetter = validConfig.customGetter,\r\n            computedProp = validConfig.computedProp;\r\n\r\n        // If the property is already defined in the property table then delete it\r\n        if (targetPrototype._propertyTable.hasOwnProperty(propertyName) === true) {\r\n            delete targetPrototype._propertyTable.propertyName;\r\n        }\r\n\r\n        // Add the property to\r\n        Object.defineProperty(targetPrototype._propertyTable, propertyName, {\r\n            configurable: true, // need to delete if overridden by children\r\n            enumerable: true, // need to be able to enumerate, so canot use NI_SUPPORT.defineConstReference\r\n            writable: false,\r\n            value: Object.freeze({\r\n                privatePropName: privatePropertyName,\r\n                defaultValue: defaultValue,\r\n                computedProp: computedProp\r\n            })\r\n        });\r\n\r\n        // If the property is already defined in the property table then delete it\r\n        if (targetPrototype.hasOwnProperty(propertyName) === true) {\r\n            delete targetPrototype.propertyName;\r\n        }\r\n\r\n        Object.defineProperty(targetPrototype, propertyName, {\r\n            configurable: true, // need to delete if overridden by children\r\n            enumerable: true,\r\n            get: function () {\r\n                if (customGetter === undefined) {\r\n                    return this[privatePropertyName];\r\n                } else if (computedProp === false) {\r\n                    return customGetter.call(this, this[privatePropertyName]);\r\n                } else {\r\n                    return customGetter.call(this);\r\n                }\r\n            },\r\n            set: function (value) {\r\n                var i, listener, renderBuffer;\r\n\r\n                if (customSetter === undefined) {\r\n                    this[privatePropertyName] = value;\r\n                } else if (computedProp === false) {\r\n                    this[privatePropertyName] = customSetter.call(this, this[privatePropertyName], value);\r\n                } else {\r\n                    customSetter.call(this, undefined, value);\r\n                }\r\n\r\n                for (i = 0; i < this._listeners.length; i++) {\r\n                    listener = this._listeners[i];\r\n                    renderBuffer = listener.modelPropertyChanged(propertyName);\r\n                    listener.applyElementChanges(renderBuffer);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.registerListener = function (listener) {\r\n        if (listener instanceof NationalInstruments.HtmlVI.ViewModels.NIViewModel === false) {\r\n            throw new Error('Listeners must be NIViewModels');\r\n        }\r\n\r\n        this._listeners.push(listener);\r\n    };\r\n\r\n    proto.unregisterListener = function (listener) {\r\n        var i, index = -1;\r\n        for (i = 0; i < this._listeners.length; i++) {\r\n            if (this._listeners[i] === listener) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (index >= 0) {\r\n            this._listeners.slice(index, 1);\r\n        }\r\n    };\r\n\r\n    // A helper function used to set multiple properties on a model\r\n    proto.setMultipleProperties = function (settings) {\r\n        var name;\r\n\r\n        for (name in settings) {\r\n            if (settings.hasOwnProperty(name)) {\r\n                if (this._propertyTable[name] === undefined) {\r\n                    throw new Error('Unknown property assigned (' + name + ') for model kind (' + this.constructor.MODEL_KIND + ')');\r\n                }\r\n\r\n                this[name] = settings[name];\r\n            }\r\n        }\r\n    };\r\n\r\n}());\r\n","//****************************************\r\n// Web Application Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum;\r\n    var PANEL_ENGINE_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.PanelEngineEnum;\r\n    var PANEL_LOCATION_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.PanelLocationEnum;\r\n\r\n    // Static private Variables used by constructor\r\n    var currWebAppInstanceId = 0;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.WebApplicationModel = function () {\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.updateService = undefined;\r\n        this.initTasks = undefined;\r\n\r\n        // Private Instance Properties\r\n        NI_SUPPORT.defineConstReference(this, 'webAppInstanceId', currWebAppInstanceId++);\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.WebApplicationModel.TasksEnum = Object.freeze({\r\n        SERVICE: 'SERVICE',\r\n        ELEMENTS: 'ELEMENTS'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.WebApplicationModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'engine', defaultValue: PANEL_ENGINE_ENUM.VIREO });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'location', defaultValue: PANEL_LOCATION_ENUM.BROWSER });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'vireoSource', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'remoteAddress', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'testMode', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'disableAutoStart', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'serviceState', defaultValue: SERVICE_STATE_ENUM.UNINITIALIZED });\r\n    });\r\n\r\n    proto.setServiceState = function (state) {\r\n        if (this.updateService.isValidServiceState(state) === false) {\r\n            throw new Error('the provided state (' + state + ') is not a valid service state');\r\n        }\r\n\r\n        this.serviceState = state;\r\n    };\r\n\r\n    proto.verifyServiceStateIs = function (verifyState) {\r\n        var i, currState;\r\n\r\n        if (Array.isArray(verifyState) === false) {\r\n            verifyState = [verifyState];\r\n        }\r\n\r\n        for (i = 0; i < verifyState.length; i = i + 1) {\r\n            currState = verifyState[i];\r\n\r\n            if (this.updateService.isValidServiceState(currState) === false) {\r\n                throw new Error('the provided state (' + currState + ') is not a valid service state');\r\n            }\r\n\r\n            if (this.serviceState === currState) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        throw new Error('ni-web-application update service in state(' + this.serviceState + ') must be in one of the possible states (' + verifyState.join() + ') to continue');\r\n    };\r\n\r\n    proto.checkServiceStateIs = function (checkState) {\r\n        var i, currState;\r\n\r\n        if (Array.isArray(checkState) === false) {\r\n            checkState = [checkState];\r\n        }\r\n\r\n        for (i = 0; i < checkState.length; i = i + 1) {\r\n            currState = checkState[i];\r\n\r\n            if (this.updateService.isValidServiceState(currState) === false) {\r\n                throw new Error('the provided state (' + currState + ') is not a valid service state');\r\n            }\r\n\r\n            if (this.serviceState === currState) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    proto.getWebAppServiceStateProvider = function () {\r\n        var that = this;\r\n\r\n        return {\r\n            setServiceState : function (state) {\r\n                that.setServiceState(state);\r\n            },\r\n            verifyServiceStateIs: function (state) {\r\n                that.verifyServiceStateIs(state);\r\n            },\r\n            checkServiceStateIs: function (state) {\r\n                return that.checkServiceStateIs(state);\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.getVirtualInstrumentModelsProvider = function () {\r\n        var that = this;\r\n\r\n        return {\r\n            getVIModels: function () {\r\n                return NationalInstruments.HtmlVI.viReferenceService.getAllVIModelsForWebAppModel(that);\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.initializeService = function () {\r\n        var that  = this;\r\n\r\n        var config = {\r\n            remoteAddress: that.remoteAddress,\r\n            vireoSource: that.vireoSource,\r\n            runningInIDE: that.location === PANEL_LOCATION_ENUM.IDE_RUN\r\n        };\r\n\r\n        var updateServiceTable = {};\r\n        updateServiceTable[PANEL_LOCATION_ENUM.IDE_EDIT] = {};\r\n        updateServiceTable[PANEL_LOCATION_ENUM.IDE_RUN] = {};\r\n        updateServiceTable[PANEL_LOCATION_ENUM.BROWSER] = {};\r\n\r\n        updateServiceTable[PANEL_LOCATION_ENUM.IDE_EDIT][PANEL_ENGINE_ENUM.NATIVE] = NationalInstruments.HtmlVI.EditorUpdateService;\r\n        updateServiceTable[PANEL_LOCATION_ENUM.IDE_RUN][PANEL_ENGINE_ENUM.NATIVE] = NationalInstruments.HtmlVI.EditorRuntimeUpdateService;\r\n        updateServiceTable[PANEL_LOCATION_ENUM.BROWSER][PANEL_ENGINE_ENUM.NATIVE] = NationalInstruments.HtmlVI.RemoteUpdateService;\r\n\r\n        updateServiceTable[PANEL_LOCATION_ENUM.IDE_EDIT][PANEL_ENGINE_ENUM.VIREO] = NationalInstruments.HtmlVI.EditorUpdateService;\r\n        updateServiceTable[PANEL_LOCATION_ENUM.IDE_RUN][PANEL_ENGINE_ENUM.VIREO] = NationalInstruments.HtmlVI.LocalUpdateService;\r\n        updateServiceTable[PANEL_LOCATION_ENUM.BROWSER][PANEL_ENGINE_ENUM.VIREO] = NationalInstruments.HtmlVI.LocalUpdateService;\r\n\r\n        // Create the update service we need, not the one we deserve\r\n        if (updateServiceTable[that.location] !== undefined && updateServiceTable[that.location][that.engine] !== undefined) {\r\n            that.updateService = new updateServiceTable[that.location][that.engine](config);\r\n        } else if (that.testMode === true) {\r\n            that.updateService = new NationalInstruments.HtmlVI.TestUpdateService(config);\r\n        } else {\r\n            throw new Error('Invalid web app configuration, cannot start a service!');\r\n        }\r\n\r\n        that.verifyServiceStateIs(SERVICE_STATE_ENUM.UNINITIALIZED);\r\n        that.updateService.applyWebAppServiceStateProvider(that.getWebAppServiceStateProvider());\r\n        that.updateService.applyVirtualInstrumentModelsProvider(that.getVirtualInstrumentModelsProvider());\r\n\r\n        // TODO mraj without the timeout the attachedCallback will synchronously try and update the service state as the\r\n        // update service transitions from Uninitialized to Downloading / Initializing / etc. Doing this synchronously seems to trigger\r\n        // the error before mentioned in ni-element.js in attributeChangedCallback for the case currVal !== newVal.\r\n        // It seems like needing the setTimeout to move to a separate call stack from attachedCallback should be a bug in Chrome...\r\n        setTimeout(function () {\r\n            that.updateService.initialize();\r\n        }, 0);\r\n    };\r\n\r\n    proto.start = function () {\r\n        this.updateService.start();\r\n    };\r\n\r\n    proto.stop = function () {\r\n        this.updateService.stop();\r\n    };\r\n\r\n    proto.controlChanged = function (viModel, controlModel, propertyName, newValue) {\r\n        if (this.updateService !== undefined) {\r\n            this.updateService.controlChanged(viModel, controlModel, propertyName, newValue);\r\n        }\r\n    };\r\n\r\n    proto.internalControlEventOccurred = function (viModel, controlModel, eventName, eventData) {\r\n        if (this.updateService !== undefined) {\r\n            this.updateService.internalControlEventOccurred(viModel, controlModel, eventName, eventData);\r\n        }\r\n    };\r\n\r\n    proto.controlEventOccurred = function (viModel, controlModel, eventType, eventData) {\r\n        if (this.updateService !== undefined) {\r\n            this.updateService.controlEventOccurred(viModel, controlModel, eventType, eventData);\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.NIModel));\r\n","//****************************************\r\n// VI Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.VirtualInstrumentModel = function () {\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.controlModels = {};\r\n        this.controlViewModels = {};\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    var child = NationalInstruments.HtmlVI.Models.VirtualInstrumentModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        // Make viName and viRef readonly\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'viName',\r\n            defaultValue: undefined,\r\n            customSetter: function (oldValue, newValue) {\r\n                if ((oldValue === undefined || oldValue === newValue) && newValue !== undefined) {\r\n                    return newValue;\r\n                } else {\r\n                    throw new Error('Cannot change viName after it has been assigned a valid value');\r\n                }\r\n            }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'viRef',\r\n            defaultValue: undefined,\r\n            customSetter: function (oldValue, newValue) {\r\n                if ((oldValue === undefined || oldValue === newValue) && newValue !== undefined) {\r\n                    return newValue;\r\n                } else {\r\n                    throw new Error('Cannot change viRef after it has been assigned a valid value');\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    // The Owner of a VI is not the web application, to get the web application call getOwningWebApplication\r\n    proto.getOwner = function () {\r\n        return undefined;\r\n    };\r\n\r\n    proto.getOwningWebApplication = function () {\r\n        var model = NationalInstruments.HtmlVI.viReferenceService.getWebAppModelByVIRef(this.viRef);\r\n        return model;\r\n    };\r\n\r\n    // NOTE: SHOULD NOT BE CALLED DIRECTLY, USED BY niElementExtensions\r\n    // Creates the Model and ViewModel for the provided element\r\n    // Assumes the element is already inserted in the DOM, the element location in the DOM reflects parenting, and the parent Model and ViewModel are already created\r\n    proto.addFrontPanelControlModel = function (element) {\r\n        if (element instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            throw new Error('Only Visual Component Elements can be registered to a Virtual Instrument');\r\n        }\r\n\r\n        var niControlId = element.niControlId;\r\n        var selector = '[vi-ref=\"' + this.viRef + '\"][ni-control-id=\"' + element.niControlId + '\"]';\r\n        if (niControlId === '' || document.querySelectorAll(selector).length !== 1) {\r\n            throw new Error('Element with niControlId=' +  niControlId + ' must have a unique niControlId to be registered to this VI');\r\n        }\r\n\r\n        // Verify a Model or ViewModel with this id does not already exists\r\n        if (this.controlModels[niControlId] !== undefined || this.controlViewModels[niControlId] !== undefined) {\r\n            throw new Error('The model or viewmodel for this control already exists (' + niControlId + ')');\r\n        }\r\n\r\n        // Find parent (either another visualComponent or if none are found then this Model)\r\n        var currParent,\r\n            parentModel = this;\r\n\r\n        for (currParent = element.parentElement; currParent !== null; currParent = currParent.parentElement) {\r\n            if (currParent instanceof NationalInstruments.HtmlVI.Elements.VisualComponent) {\r\n                parentModel = this.controlViewModels[currParent.niControlId].model;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Create the Model\r\n        // TODO mraj in the future the _temporaryModelSettingsHolder should include the model name and the ViewModel can be looked up from model and element tagName\r\n        var modelKind = NationalInstruments.HtmlVI.NIModelProvider.tagNameToModelKind(element.elementInfo.tagName);\r\n        var controlModel = NationalInstruments.HtmlVI.NIModelProvider.makeModel(modelKind, niControlId);\r\n        controlModel.setOwner(parentModel);\r\n\r\n        if (parentModel instanceof NationalInstruments.HtmlVI.Models.VisualModel) {\r\n            parentModel.addChildModel(controlModel);\r\n        }\r\n\r\n        if (element._temporaryModelSettingsHolder !== undefined) {\r\n            controlModel.setMultipleProperties(element._temporaryModelSettingsHolder);\r\n        }\r\n\r\n        // Create the ViewModel\r\n        var controlViewModel = NationalInstruments.HtmlVI.NIModelProvider.makeViewModel(element, controlModel);\r\n        if (element._temporaryModelSettingsHolder !== undefined) {\r\n            controlViewModel.applyModelToElement();\r\n            element._temporaryModelSettingsHolder = undefined;\r\n        } else {\r\n            controlViewModel.updateModelFromElement();\r\n        }\r\n\r\n        // Complete Model - ViewModel binding\r\n        controlModel.registerListener(controlViewModel);\r\n\r\n        // Save the model and viewmodel\r\n        this.controlModels[niControlId] = controlModel;\r\n        this.controlViewModels[niControlId] = controlViewModel;\r\n\r\n        NI_SUPPORT.infoVerbose('add Model', niControlId);\r\n\r\n        return {\r\n            controlModel: controlModel,\r\n            controlViewModel: controlViewModel\r\n        };\r\n    };\r\n\r\n    // NOTE: SHOULD NOT BE CALLED DIRECTLY, USED BY niElementExtensions\r\n    // Remove the Model and ViewModel for the provided element\r\n    proto.removeFrontPanelControl = function (element) {\r\n        if (element instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            throw new Error('Only Visual Component Elements can be unregistered from a Virtual Instrument');\r\n        }\r\n\r\n        var niControlId = element.niControlId;\r\n        var controlModel = this.controlModels[niControlId];\r\n        var controlViewModel = this.controlViewModels[niControlId];\r\n\r\n        if (controlModel instanceof NationalInstruments.HtmlVI.Models.VisualComponentModel === false ||\r\n            controlViewModel instanceof NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel === false) {\r\n\r\n            throw new Error('This VIModel does not contain a control with niControlId: ' + niControlId);\r\n        }\r\n\r\n        NI_SUPPORT.infoVerbose('remove Model', niControlId);\r\n\r\n        if (controlModel.getOwner() instanceof NationalInstruments.HtmlVI.Models.VisualModel) {\r\n            controlModel.getOwner().removeChildModel(controlModel);\r\n        }\r\n\r\n        controlModel.unregisterListener(controlViewModel);\r\n\r\n        delete this.controlModels[niControlId];\r\n        delete this.controlViewModels[niControlId];\r\n\r\n        return {\r\n            controlModel: controlModel,\r\n            controlViewModel: controlViewModel\r\n        };\r\n    };\r\n\r\n    proto.getControlViewModel = function (id) {\r\n        return this.controlViewModels[id];\r\n    };\r\n\r\n    proto.getControlModel = function (id) {\r\n        return this.controlModels[id];\r\n    };\r\n\r\n    proto.getAllControlModels = function () {\r\n        return this.controlModels;\r\n    };\r\n\r\n    proto.processControlUpdate = function (niControlId, properties) {\r\n        var controlModel = this.controlModels[niControlId];\r\n\r\n        if (controlModel !== undefined) {\r\n            controlModel.setMultipleProperties(properties);\r\n        } else {\r\n            NI_SUPPORT.infoVerbose('Cannot find the control model with id (' + niControlId + ') to update the properties(' + Object.keys(properties).join(',') + ')');\r\n        }\r\n    };\r\n\r\n    proto.controlChanged = function (controlModel, propertyName, newValue) {\r\n        var webAppModel = this.getOwningWebApplication();\r\n        webAppModel.controlChanged(this, controlModel, propertyName, newValue);\r\n    };\r\n\r\n    proto.internalControlEventOccurred = function (controlModel, eventName, data) {\r\n        var webAppModel = this.getOwningWebApplication();\r\n        webAppModel.internalControlEventOccurred(this, controlModel, eventName, data);\r\n    };\r\n\r\n    proto.controlEventOccurred = function (controlModel, eventType, eventData) {\r\n        var webAppModel = this.getOwningWebApplication();\r\n        webAppModel.controlEventOccurred(this, controlModel, eventType, eventData);\r\n    };\r\n\r\n    proto.getNameVireoEncoded = function () {\r\n        // TODO mraj would rather use this.getName() but the names are currently hard coded so using value in VIAInfo.js\r\n        if (NationalInstruments.HtmlVI.viName !== undefined && typeof NationalInstruments.HtmlVI.viName === 'string') {\r\n            return NationalInstruments.HtmlVI.viName;\r\n        } else {\r\n            return '';\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.NIModel));\r\n","//****************************************\r\n// Visual Component Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.VisualComponentModel = function (niControlId) {\r\n        //NIModel does not use the id so do not pass it\r\n        parent.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.niControlId = niControlId;\r\n        this.owner = undefined;\r\n        this.rootOwner = undefined;\r\n        this.childModels = [];\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.VisualComponentModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'niControlId',\r\n            defaultValue: undefined,\r\n            customSetter: function (oldValue, newValue) {\r\n                if ((oldValue === undefined || oldValue === newValue) && newValue !== undefined) {\r\n                    return newValue;\r\n                } else {\r\n                    throw new Error('Cannot change niControlId after it has been assigned a valid value');\r\n                }\r\n            }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'viRef',\r\n            defaultValue: undefined,\r\n            customSetter: function (oldValue, newValue) {\r\n                if ((oldValue === undefined || oldValue === newValue) && newValue !== undefined) {\r\n                    return newValue;\r\n                } else {\r\n                    throw new Error('Cannot change viRef after it has been assigned a valid value');\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    proto.getRemoteBindingInfo = function () {\r\n        return undefined;\r\n    };\r\n\r\n    proto.getLocalBindingInfo = function () {\r\n        return undefined;\r\n    };\r\n\r\n    proto.getEditorRuntimeBindingInfo = function () {\r\n        return undefined;\r\n    };\r\n\r\n    // Model Ownership Hierarchy Information\r\n    proto.setOwner = function (fp) {\r\n        this.owner = fp;\r\n        this.rootOwner = this.findRoot();\r\n    };\r\n\r\n    proto.getOwner = function () {\r\n        return this.owner;\r\n    };\r\n\r\n    proto.addChildModel = function (child) {\r\n        for (var i = 0; i < this.childModels.length; i++) {\r\n            if (this.childModels[i].niControlId === child.niControlId) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.childModels.push(child);\r\n    };\r\n\r\n    proto.removeChildModel = function (child) {\r\n        for (var i = 0; i < this.childModels.length; i++) {\r\n            if (this.childModels[i].niControlId === child.niControlId) {\r\n                this.childModels.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    // Both Clusters and Arrays act as top-level containers. The Tab control is not a top-level container (children of Tab control are top-level).\r\n    proto.insideTopLevelContainer = function () {\r\n        return (this.getOwner() !== this.getRoot()) && (this.getOwner() instanceof NationalInstruments.HtmlVI.Models.ClusterModel || this.getOwner() instanceof NationalInstruments.HtmlVI.Models.ArrayViewerModel);\r\n    };\r\n\r\n    proto.findTopLevelControl = function () {\r\n        var currControlModel = this;\r\n\r\n        while (currControlModel.insideTopLevelContainer()) {\r\n            currControlModel = currControlModel.getOwner();\r\n        }\r\n\r\n        return currControlModel;\r\n    };\r\n\r\n    proto.getRoot = function () {\r\n        if (this.rootOwner === undefined) {\r\n            this.rootOwner = this.findRoot();\r\n        }\r\n\r\n        return this.rootOwner;\r\n    };\r\n\r\n    // SHOULD NOT USE DIRECTLY: Call getRoot instead for cached value\r\n    proto.findRoot = function () {\r\n        var currOwner = this.getOwner();\r\n        while (currOwner instanceof NationalInstruments.HtmlVI.Models.VirtualInstrumentModel === false) {\r\n            currOwner = currOwner.getOwner();\r\n        }\r\n\r\n        return currOwner;\r\n    };\r\n\r\n    proto.internalControlEventOccurred = function (eventName, eventData) {\r\n        var viModel = this.getRoot();\r\n        viModel.internalControlEventOccurred(this, eventName, eventData);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.NIModel));\r\n","//****************************************\r\n// Visual Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.VisualModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        this.localBindingInfo = null;\r\n        this.defaultValue = undefined;\r\n        // TODO mraj I will buy the team a keg if we agree to stop introducing supression flags\r\n        this.suppressControlChanged = false;\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.VisualModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'top', defaultValue: '0px' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'left', defaultValue: '0px' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'width', defaultValue: '100px' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'height', defaultValue: '100px' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'foreground', defaultValue: '#000000' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'fontSize', defaultValue: '12px' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'fontFamily', defaultValue: 'sans-serif' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'fontWeight', defaultValue: 'normal' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'fontStyle', defaultValue: 'normal' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'visible', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'readOnly', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'labelId', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'bindingInfo', defaultValue: {} });\r\n    });\r\n\r\n    proto.setBindingInfo = function (bindingInfo) {\r\n        this.bindingInfo = bindingInfo;\r\n    };\r\n\r\n    proto.getBindingInfo = function () {\r\n        return this.bindingInfo;\r\n    };\r\n\r\n    proto.getRemoteBindingInfo = function () {\r\n        return {\r\n            prop: this.bindingInfo.prop,\r\n            dco: this.bindingInfo.dco,\r\n            controlId: this.niControlId\r\n        };\r\n    };\r\n\r\n    proto.getEditorRuntimeBindingInfo = function () {\r\n        return {\r\n            prop: this.bindingInfo.prop,\r\n            dataItem: this.bindingInfo.dataItem,\r\n            controlId: this.niControlId\r\n        };\r\n    };\r\n\r\n    proto.getLocalBindingInfo = function () {\r\n        if (this.localBindingInfo === null) {\r\n            this.localBindingInfo = this.generateLocalBindingInfo();\r\n        }\r\n\r\n        return this.localBindingInfo;\r\n    };\r\n\r\n    proto.getDefaultValue = function () {\r\n        return this.defaultValue;\r\n    };\r\n\r\n    proto.setDefaultValue = function (defaultValue) {\r\n        this.defaultValue = defaultValue;\r\n    };\r\n\r\n    proto.generateVireoPath = function () {\r\n        var pathParts = [], path, currBindingInfo, encodedCurrFieldName,\r\n            currControlModel = this;\r\n\r\n        while (currControlModel.insideTopLevelContainer()) {\r\n            currBindingInfo = currControlModel.getBindingInfo();\r\n            encodedCurrFieldName = NationalInstruments.HtmlVI.EggShell.encodeVireoIdentifier(currBindingInfo.field);\r\n\r\n            pathParts.push(encodedCurrFieldName);\r\n\r\n            currControlModel = currControlModel.getOwner();\r\n        }\r\n\r\n        currBindingInfo = currControlModel.getBindingInfo();\r\n\r\n        if (typeof currBindingInfo.via === 'string' && currBindingInfo.via !== '') {\r\n            pathParts.push('di_' + currBindingInfo.via);\r\n        }\r\n\r\n        path = pathParts.reverse().join('.');\r\n        return path;\r\n    };\r\n\r\n    proto.getIOBehavior = function (runtimePath) {\r\n        // TODO mraj would rather use model.readonly() but the controls implement this inconsistently so using value in VIAInfo.js\r\n        var topLevelControl, topLevelControlLocalBindingInfo;\r\n\r\n        if (NationalInstruments.HtmlVI.inputDataItem !== undefined && NationalInstruments.HtmlVI.inputDataItem[runtimePath] !== undefined) {\r\n            return 'I';\r\n        } else if (NationalInstruments.HtmlVI.outputDataItem !== undefined && NationalInstruments.HtmlVI.outputDataItem[runtimePath] !== undefined) {\r\n            return 'O';\r\n        } else {\r\n            // TODO mraj every control should have a direction. Until fixed use top level control io or fallback. When fixed throw error instead\r\n            topLevelControl = this.findTopLevelControl();\r\n\r\n            if (topLevelControl !== this) {\r\n                topLevelControlLocalBindingInfo = topLevelControl.getLocalBindingInfo();\r\n\r\n                if (topLevelControlLocalBindingInfo !== undefined && (topLevelControlLocalBindingInfo.io === 'I' || topLevelControlLocalBindingInfo.io === 'O')) {\r\n                    return topLevelControlLocalBindingInfo.io;\r\n                }\r\n            }\r\n\r\n            return '?';\r\n        }\r\n    };\r\n\r\n    proto.getVireoType = function (runtimePath) {\r\n        // TODO mraj would rather hame model.getVireoType() assuming one data item per model (or lookup type in model property) but not available so using value in VIAInfo.js\r\n\r\n        // TODO mraj currently all children of clusters have a type of 'Unknown'. We should emit type information for children.\r\n        if (NationalInstruments.HtmlVI.inputDataItem !== undefined && NationalInstruments.HtmlVI.inputDataItem[runtimePath] !== undefined) {\r\n            return NationalInstruments.HtmlVI.inputDataItem[runtimePath];\r\n        } else if (NationalInstruments.HtmlVI.outputDataItem !== undefined && NationalInstruments.HtmlVI.outputDataItem[runtimePath] !== undefined) {\r\n            return NationalInstruments.HtmlVI.outputDataItem[runtimePath];\r\n        } else {\r\n            return 'Unknown'; // TODO mraj every data item should have a type, current behavior assumes 'Unknown' for now\r\n        }\r\n    };\r\n\r\n    // DO NOT USE DIRECTLY: Use getLocalBindingInfo instead for cached value\r\n    proto.generateLocalBindingInfo = function () {\r\n        var bindingInfo = this.getBindingInfo();\r\n        var localBindingInfo = {\r\n            io: '',            // can be either 'I' or 'O' based on top-level control\r\n            runtimePath: '',   // full vireo encoded path from this control to the top-level control\r\n            type: '',          // based on type of the top-level control\r\n            encodedVIName: '', // the vireo encoded VI name\r\n            prop: '',          // same as bindingInfo.prop\r\n            sync: false        // same as bindingInfo.sync\r\n        };\r\n\r\n        localBindingInfo.runtimePath = this.generateVireoPath();\r\n        localBindingInfo.io = this.getIOBehavior(localBindingInfo.runtimePath);\r\n        localBindingInfo.type = this.getVireoType(localBindingInfo.runtimePath);\r\n        localBindingInfo.encodedVIName = this.getRoot().getNameVireoEncoded();\r\n        localBindingInfo.prop = (typeof bindingInfo.prop === 'string') ? bindingInfo.prop : '';\r\n        localBindingInfo.sync = (typeof bindingInfo.sync === 'boolean') ? bindingInfo.sync : false;\r\n        localBindingInfo.via = (typeof bindingInfo.via === 'string') ? bindingInfo.via : '';\r\n\r\n        if (localBindingInfo.runtimePath === '') {\r\n            return undefined;\r\n        }\r\n\r\n        return Object.freeze(localBindingInfo);\r\n    };\r\n\r\n    // Control changed is only used for controls that have binding info (ie VisualModels)\r\n    proto.controlChanged = function (propertyName, newValue) {\r\n        var viModel = this.getRoot();\r\n        if (this.suppressControlChanged === false) {\r\n            viModel.controlChanged(this, propertyName, newValue);\r\n        }\r\n    };\r\n\r\n    // Event occured is only used for controls that have binding info (ie VisualModels)\r\n    proto.controlEventOccurred = function (eventType, eventData) {\r\n        var viModel = this.getRoot();\r\n        viModel.controlEventOccurred(this, eventType, eventData);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.VisualComponentModel));\r\n","//****************************************\r\n// Numeric Control Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.NumericControlModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.NumericControlModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'minimum', defaultValue: 0 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'maximum', defaultValue: 10 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'interval', defaultValue: 1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: 0 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'valueType', defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.DOUBLE });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'significantDigits', defaultValue: 2 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'precisionDigits', defaultValue: -1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'format', defaultValue: 'floating point' });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Numeric Pointer Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.NumericPointerModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.NumericPointerModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'scaleVisible', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'majorTicksVisible', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'minorTicksVisible', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'labelsVisible', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'coercionMode', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'rangeDivisionsMode', defaultValue: 'auto' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.Models.NumericControlModel));\r\n\r\n","//****************************************\r\n// Radial Numeric Pointer Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.RadialNumericPointerModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.RadialNumericPointerModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'scaleArc',\r\n            defaultValue: {\r\n                startAngle: 0,\r\n                sweepAngle: 180\r\n            }\r\n        });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.Models.NumericPointerModel));\r\n","//****************************************\r\n// Gauge Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.GaugeModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.GaugeModel.MODEL_KIND = 'niGauge';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.GaugeModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.RadialNumericPointerModel));\r\n","//****************************************\r\n// Linear Numeric Pointer Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.LinearNumericPointerModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.LinearNumericPointerModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'orientation', defaultValue: 'horizontal' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.Models.NumericPointerModel));\r\n","//****************************************\r\n// Slider Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.SliderModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.SliderModel.MODEL_KIND = 'niSlider';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.SliderModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.LinearNumericPointerModel));\r\n","//****************************************\r\n// Tank Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.TankModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.TankModel.MODEL_KIND = 'niTank';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.TankModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.LinearNumericPointerModel));\r\n","//****************************************\r\n// Progress Bar Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ProgressBarModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.ProgressBarModel.MODEL_KIND = 'niLinearProgressBar';\r\n    NationalInstruments.HtmlVI.Models.ProgressBarModel.OrientationEnum = Object.freeze({\r\n        VERTICAL: 'vertical',\r\n        HORIZONTAL: 'horizontal'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ProgressBarModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'minimum', defaultValue: 0 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'maximum', defaultValue: 10 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'orientation', defaultValue: NationalInstruments.HtmlVI.Models.ProgressBarModel.OrientationEnum.HORIZONTAL });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: 0 });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Linear Progress Bar Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n// NOTE:\r\n// The C# Model exposes an IsSegmented property here which is non-configurable.\r\n// In addition, jqxWidgets does not support something like that property at the present time.\r\n// We may also want to expose the animationDuration property in here an in the associated C# ViewModel\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.LinearProgressBarModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.LinearProgressBarModel.MODEL_KIND = 'niLinearProgressBar';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.LinearProgressBarModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.ProgressBarModel));\r\n","//****************************************\r\n// Numeric TextBox Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.NumericTextBoxModel = function (id) {\r\n        // Properties\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.NumericTextBoxModel.MODEL_KIND = 'niNumericTextBox';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.NumericTextBoxModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.NumericControlModel));\r\n","//****************************************\r\n// Graph Base Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.GraphBaseModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.GraphBaseModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: [],\r\n            customSetter: function (oldValue, newValue) {\r\n                if (typeof newValue === 'string') {\r\n                    return JSON.parse(newValue);\r\n                } else {\r\n                    return newValue;\r\n                }\r\n            }\r\n        });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'plotAreaMargin', defaultValue: '' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Cursor Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.CursorModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.CursorModel.MODEL_KIND = 'niCursor';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.CursorModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'show', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showLabel', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showValue', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'cursorColor', defaultValue: 'black' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'targetShape', defaultValue: 'ellipse' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'label', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'snapToData', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'crosshairStyle', defaultValue: 'both' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'x', defaultValue: 0.5 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'y', defaultValue: 0.5 });\r\n    });\r\n\r\n    proto.getPosition = function () {\r\n        return {\r\n            x: this.x,\r\n            y: this.y\r\n        };\r\n    };\r\n\r\n    proto.setPosition = function (pos) {\r\n        this.x = pos.x;\r\n        this.y = pos.y;\r\n    };\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'x', this.x);\r\n        parent.prototype.controlChanged.call(this, 'y', this.y);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Cartesian Axis Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.CartesianAxisModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.CartesianAxisModel.MODEL_KIND = 'niCartesianAxis';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.CartesianAxisModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'autoScale', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'maximum', defaultValue: 0 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'minimum', defaultValue: 0 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'axisPosition', defaultValue: 'left' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showLabel', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'label', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'logScale', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'show', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'format', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showTickLabels', defaultValue: true });\r\n\r\n        // TODO mraj the following properties are emitted by LabVIEW but did not exist on this model\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontFamily',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontSize',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontStyle',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontWeight',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualComponentModel));\r\n","//****************************************\r\n// Cartesian Plot Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.CartesianPlotModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.CartesianPlotModel.MODEL_KIND = 'niCartesianPlot';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.CartesianPlotModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'label', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'show', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'xaxis', defaultValue: null });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'yaxis', defaultValue: null });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'enableHover', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'hoverFormat', defaultValue: '' });\r\n\r\n        // TODO mraj the following properties are emitted by LabVIEW but did not exist on this model\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontFamily',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontSize',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontStyle',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontWeight',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualComponentModel));\r\n","//****************************************\r\n// Plot Renderer Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.PlotRendererModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.PlotRendererModel.MODEL_KIND = 'niCartesianPlotRenderer';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.PlotRendererModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'lineWidth', defaultValue: 1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'pointSize', defaultValue: 1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'pointColor', defaultValue: 'red' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'pointShape', defaultValue: 'square' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'lineStroke', defaultValue: 'black' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'lineStyle', defaultValue: 'solid' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'areaFill', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'barFill', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'areaBaseLine', defaultValue: 'zero' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualComponentModel));\r\n","//****************************************\r\n// Cartesian Graph Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.CartesianGraphModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.CartesianGraphModel.MODEL_KIND = 'niCartesianGraph';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.CartesianGraphModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.GraphBaseModel));\r\n","//****************************************\r\n// Chart Graph Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var HistoryBuffer = window.HistoryBuffer;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ChartModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        this.historyBuffer = new HistoryBuffer(1024, 1);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NI_SUPPORT.defineConstReference(NationalInstruments.HtmlVI.Models.ChartModel, 'MODEL_KIND', 'niChart');\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ChartModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var ensureHistoryBufferWidth = function (buffer, width) {\r\n        buffer.setWidth(width);\r\n    };\r\n\r\n    var arrayColumn = function (array2d, index) {\r\n        var column = [];\r\n        for (var j = 0; j < array2d.length; j++) {\r\n            column.push(array2d[j][index]);\r\n        }\r\n\r\n        return column;\r\n    };\r\n\r\n    var isHistoryBuffer = function (value) {\r\n        return typeof value === 'object' && value.valueType === 'HistoryBuffer';\r\n    };\r\n\r\n    var copyArrayToHistoryBuffer = function (historyBuffer, array, transpose) {\r\n        var arrWidth = array.length,\r\n            arrHeight = Array.isArray(array[0]) ? array[0].length : 0,\r\n            width = transpose ? arrWidth : arrHeight,\r\n            height = transpose ? arrHeight : arrWidth;\r\n\r\n        ensureHistoryBufferWidth(historyBuffer, height);\r\n        for (var i = 0; i < width; i++) {\r\n            historyBuffer.push(transpose ? array[i] : arrayColumn(array, i));\r\n        }\r\n    };\r\n\r\n    var appendDataToHistoryBuffer = function (historyBuffer, arrValue, transpose) {\r\n        if (arrValue.length > 0) {\r\n            if (typeof arrValue[0] === 'number') {\r\n                ensureHistoryBufferWidth(historyBuffer, 1);\r\n                historyBuffer.appendArray(arrValue);\r\n            } else if (arrValue[0] instanceof Array) {\r\n                copyArrayToHistoryBuffer(historyBuffer, arrValue, transpose);\r\n            }\r\n        }\r\n    };\r\n\r\n    var loadHistoryBufferfromJSON = function (historyBuffer, value) {\r\n        historyBuffer.clear();\r\n\r\n        var arrValue = value.data;\r\n        /*extend history buffer size to the received size*/\r\n        historyBuffer.setCapacity(value.size || historyBuffer.capacity);\r\n        if (value.timingIndexes) {\r\n            historyBuffer.indexMap =\r\n                value.timingIndexes.map(function (time) {\r\n                    return (new NationalInstruments.HtmlVI.NITimestamp(time).toAbsoluteTime());\r\n                });\r\n        } else {\r\n            historyBuffer.offset = undefined;\r\n        }\r\n\r\n        if (value.startIndex !== undefined) {\r\n            historyBuffer.count = value.startIndex;\r\n        }\r\n\r\n        appendDataToHistoryBuffer(historyBuffer, arrValue, false);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'historySize',\r\n            defaultValue: 1024,\r\n            customSetter: function (oldValue, newValue) {\r\n                this.historyBuffer.setCapacity(newValue);\r\n                return newValue;\r\n            }\r\n        });\r\n\r\n        // TODO mraj is the bufferSize computed property really needed?\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'bufferSize',\r\n            computedProp: true,\r\n            customGetter: function () {\r\n                return this.historySize;\r\n            },\r\n            customSetter: function (oldValue, newValue) {\r\n                this.historySize = newValue;\r\n            }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            computedProp: true,\r\n            customGetter: function () {\r\n                return [];\r\n            },\r\n            customSetter: function (oldValue, newValue) {\r\n                if (typeof newValue === 'number') {\r\n                    ensureHistoryBufferWidth(this.historyBuffer, 1);\r\n                    this.historyBuffer.push(newValue);\r\n                } else {\r\n                    try {\r\n                        var arrValue = [];\r\n\r\n                        if (Array.isArray(newValue)) {\r\n                            arrValue = newValue;\r\n                        } else if (isHistoryBuffer(newValue)) {\r\n                            loadHistoryBufferfromJSON(this.historyBuffer, newValue);\r\n                        } else if (typeof newValue === 'object') {\r\n                            // Vireo clusters\r\n                            // TODO: propagate element names to become plot names. write tests for this\r\n                            arrValue = Object.keys(newValue).map(function (key) {\r\n                                return newValue[key];\r\n                            });\r\n                        } else if (typeof newValue === 'string') {\r\n                            arrValue = JSON.parse(newValue);\r\n                        }\r\n\r\n                        appendDataToHistoryBuffer(this.historyBuffer, arrValue, true);\r\n                    } catch (e) {\r\n                        // invalid JSON ... do nothing // TODO mraj should we instead throw an error?\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.CartesianGraphModel));\r\n","//****************************************\r\n// Boolean Control Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.BooleanControlModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.BooleanControlModel.ClickModeEnum = Object.freeze({\r\n        PRESS: 'press',\r\n        RELEASE: 'release'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.BooleanControlModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'contentVisible', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'content', defaultValue: 'Button' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'clickMode', defaultValue: NationalInstruments.HtmlVI.Models.BooleanControlModel.ClickModeEnum.RELEASE });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'momentary', defaultValue: false });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Boolean Control Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.BooleanContentControlModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.BooleanContentControlModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'trueContent', defaultValue: 'on' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'falseContent', defaultValue: 'off' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.Models.BooleanControlModel));\r\n","//****************************************\r\n// Boolean Button Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.BooleanButtonModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NI_SUPPORT.defineConstReference(NationalInstruments.HtmlVI.Models.BooleanButtonModel, 'MODEL_KIND', 'niBooleanButton');\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.BooleanButtonModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'glyph', defaultValue: 0 });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.BooleanControlModel));\r\n","//****************************************\r\n// Boolean LED Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.BooleanLEDModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NI_SUPPORT.defineConstReference(NationalInstruments.HtmlVI.Models.BooleanLEDModel, 'MODEL_KIND', 'niBooleanLED');\r\n\r\n    NI_SUPPORT.defineConstReference(NationalInstruments.HtmlVI.Models.BooleanLEDModel, 'ShapeEnum', Object.freeze({\r\n        ROUND:      'round',\r\n        SQUARE:     'square'\r\n    }));\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.BooleanLEDModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'shape', defaultValue: NationalInstruments.HtmlVI.Models.BooleanLEDModel.ShapeEnum.ROUND });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'highlight', defaultValue: '' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.BooleanContentControlModel));\r\n","//****************************************\r\n// Text Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.TextModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.TextModel.MODEL_KIND = 'niText';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.TextModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'text', defaultValue: '' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Label Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.LabelModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.LabelModel.MODEL_KIND = 'niLabel';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.LabelModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'text', defaultValue: '' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Hyperlink Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.HyperlinkModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.HyperlinkModel.MODEL_KIND = 'niHyperlink';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.HyperlinkModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'href', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'content', defaultValue: '' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// String Control Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.StringControlModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.StringControlModel.MODEL_KIND = 'niStringControl';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.StringControlModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'text', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'acceptsReturn', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'typeToReplace', defaultValue: false });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'text', this.text);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","﻿//****************************************\r\n// Path Selector Control Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var PATH_TYPE_ENUM = NationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.PathSelectorModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.PathSelectorModel.MODEL_KIND = 'niPathSelector';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.PathSelectorModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'path', defaultValue: { components: [], type: PATH_TYPE_ENUM.ABSOLUTE } });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'format', defaultValue: 'windows' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'popupEnabled', defaultValue: false });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'path', this.path);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Time Stamp Text Box Model\r\n// Note that all values are expeced in LV time units\r\n// (currently a number storing seconds since 1904, eventually also a number storing fractional seconds)\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    var MIN_TIME = '-9223372036854775808:0'; // -9223372036854775808 is the smallest value that can be represented on int64\r\n    var MAX_TIME = '9223372036854775807:0'; // -9223372036854775808 is the biggest value that can be represented on int64\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.TimeStampTextBoxModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.TimeStampTextBoxModel.MODEL_KIND = 'niTimeStampTextBox';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.TimeStampTextBoxModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'minimum', defaultValue: MIN_TIME });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'maximum', defaultValue: MAX_TIME });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: '0:0' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showCalendarButtonOnControl', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'popupEnabled', defaultValue: false });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n    // Inheritance is different from C# model (where time stamp is a numeric) so that min/max/value properties can have a different datatype\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Url Image Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.UrlImageModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.UrlImageModel.MODEL_KIND = 'niUrlImage';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.UrlImageModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'source', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'alternate', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'stretch', defaultValue: STRETCH_ENUM.UNIFORM });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Image Model\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.Image.StretchEnum;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ImageModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.ImageModel.MODEL_KIND = 'niImage';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ImageModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'source', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'stretch', defaultValue: STRETCH_ENUM.UNIFORM });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// CheckBox Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.CheckBoxModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.CheckBoxModel.MODEL_KIND = 'niCheckBox';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.CheckBoxModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.BooleanControlModel));\r\n","//****************************************\r\n// Boolean Switch Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.BooleanSwitchModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.BooleanSwitchModel.MODEL_KIND = 'niBooleanSwitch';\r\n\r\n    NationalInstruments.HtmlVI.Models.BooleanSwitchModel.OrientationEnum = Object.freeze({\r\n        VERTICAL: 'vertical',\r\n        HORIZONTAL: 'horizontal'\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.Models.BooleanSwitchModel.ShapeEnum = Object.freeze({\r\n        SLIDER: 'slider',\r\n        ROUND: 'round',\r\n        POWER: 'power'\r\n    });\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.BooleanSwitchModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'shape', defaultValue: NationalInstruments.HtmlVI.Models.BooleanSwitchModel.ShapeEnum.SLIDER });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'orientation', defaultValue: NationalInstruments.HtmlVI.Models.BooleanSwitchModel.OrientationEnum.HORIZONTAL });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.BooleanContentControlModel));\r\n","//****************************************\r\n// Boolean Button Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.TabControlModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.TabControlModel.MODEL_KIND = 'niTabControl';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.TabControlModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'tabStripPlacement', defaultValue: 'top' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'selectedIndex', defaultValue: 0 });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'selectedIndex', this.selectedIndex);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Tab Item Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.TabItemModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.TabItemModel.MODEL_KIND = 'niTabItem';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.TabItemModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'header', defaultValue: 0 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'tabPosition', defaultValue: 0 });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualComponentModel));\r\n","//****************************************\r\n// Layout Panel Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.LayoutPanelModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.LayoutPanelModel.MODEL_KIND = 'niLayoutPanel';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.LayoutPanelModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Cluster Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ClusterModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.ClusterModel.MODEL_KIND = 'niCluster';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ClusterModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addChildModel = function (child) {\r\n        child.suppressControlChanged = true;\r\n        parent.prototype.addChildModel.call(this, child);\r\n    };\r\n\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: {} });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Array viewer Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ArrayViewerModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NI_SUPPORT.defineConstReference(NationalInstruments.HtmlVI.Models.ArrayViewerModel, 'MODEL_KIND', 'niArrayViewer');\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ArrayViewerModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'rowsAndColumns', defaultValue: '1,1' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'dimensions', defaultValue: 1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'indexEditorWidth', defaultValue: 46 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'indexVisibility', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'orientation', defaultValue: 'horizontal' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowsChildPosition', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'horizontalScrollbarVisibility', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'verticalScrollbarVisibility', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'focusedCell', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: [] });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n    // special case for keeping the editor up to date on the scroll position of the array\r\n    proto.scrollChanged = function (indices) {\r\n        this.internalControlEventOccurred('ArrayScrolledEvent', indices);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Data Grid Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.DataGridModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.DataGridModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    NationalInstruments.HtmlVI.Models.DataGridModel.MODEL_KIND = 'niDataGrid';\r\n\r\n    // Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'rowHeaderVisible', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'columnHeaderVisible', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showAddRowsToolBar', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowSorting', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowPaging', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowFiltering', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowGrouping', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'rowHeight', defaultValue: 25 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'altRowColors', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'altRowStart', defaultValue: 1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'altRowStep', defaultValue: 1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: [] });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'isInEditMode', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'selectedColumn', defaultValue: -1 });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Data Grid Column Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.DataGridColumnModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.DataGridColumnModel.MODEL_KIND = 'niDataGridColumn';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.DataGridColumnModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'index', defaultValue: -1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'header', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'width', defaultValue: 50 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'fieldName', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'pinned', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'aggregates', defaultValue: {} });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualComponentModel));\r\n","//****************************************\r\n// Selector Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.SelectorModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.SelectorModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'source', defaultValue: [] });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// DropDown Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.DropDownModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.DropDownModel.MODEL_KIND = 'niDropDown';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.DropDownModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'selectedIndex', defaultValue: -1 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'popupEnabled', defaultValue: false });\r\n    });\r\n\r\n    proto.getSelectedText = function () {\r\n        return this.source[this.selectedIndex];\r\n    };\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'selectedIndex', this.selectedIndex);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.SelectorModel));\r\n","//****************************************\r\n// ListBox Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var SELECTION_MODE_ENUM = NationalInstruments.HtmlVI.NIListBox.SelectionModeEnum;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ListBoxModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.ListBoxModel.MODEL_KIND = 'niListBox';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ListBoxModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'selectionMode', defaultValue: SELECTION_MODE_ENUM.ONE });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'selectedIndex', defaultValue: -1 });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'selectedIndex', this.selectedIndex);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.SelectorModel));\r\n","//****************************************\r\n// IOName control Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.IONameControlModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.IONameControlModel.MODEL_KIND = 'niIoNameControl';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.IONameControlModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'source', defaultValue: [] });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'selectedValue', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowMultipleSelection', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowUndefinedValues', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showUserCreateResource', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'readOnlyName', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'caseSensitive', defaultValue: false });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'selectedValue', this.selectedValue);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// OpaqueRefnum Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.OpaqueRefnumModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.OpaqueRefnumModel.MODEL_KIND = 'niOpaqueRefnum';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.OpaqueRefnumModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Plot legend Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.PlotLegendModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.PlotLegendModel.MODEL_KIND = 'niPlotLegend';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.PlotLegendModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'graphName', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'isInEditMode', defaultValue: false });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Cartesian Axis Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ColorScaleModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.ColorScaleModel.MODEL_KIND = 'niColorScale';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ColorScaleModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'axisPosition', defaultValue: 'right' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'autoScale', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showAxis', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'highColor', defaultValue: '#ffffff' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'lowColor', defaultValue: '#000000' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'markers', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'label', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'showLabel', defaultValue: true });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'show', defaultValue: true });\r\n\r\n        // TODO mraj the following properties are emitted by LabVIEW but did not exist on this model\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontFamily',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontSize',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontStyle',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n\r\n        proto.addModelProperty(targetPrototype, {\r\n            propertyName: 'fontWeight',\r\n            computedProp: true,\r\n            customGetter: function () { },\r\n            customSetter: function () { }\r\n        });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualComponentModel));\r\n","//****************************************\r\n// Chart Graph Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.IntensityGraphModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.IntensityGraphModel.MODEL_KIND = 'niIntensityGraph';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.IntensityGraphModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto);\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.GraphBaseModel));\r\n","//****************************************\r\n// Cursor legend Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.CursorLegendModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.CursorLegendModel.MODEL_KIND = 'niCursorLegend';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.CursorLegendModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'graphName', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'isInEditMode', defaultValue: false });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// Scale legend Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.ScaleLegendModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.ScaleLegendModel.MODEL_KIND = 'niScaleLegend';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.ScaleLegendModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'graphName', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'isInEditMode', defaultValue: false });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","﻿//****************************************\r\n// Graph Tools Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function (parent) {\r\n    'use strict';\r\n\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NationalInstruments.HtmlVI.Models.GraphToolsModel = function (id) {\r\n        parent.call(this, id);\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.GraphToolsModel.MODEL_KIND = 'niGraphTools';\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.GraphToolsModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'graphName', defaultValue: '' });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'isInEditMode', defaultValue: false });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'mode', defaultValue: 'pan' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","﻿//****************************************\r\n// NumericValueSelector Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.NumericValueSelectorModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.NumericValueSelectorModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'value', defaultValue: 0 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'valueType', defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT32 });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'items', defaultValue: [] });\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'popupEnabled', defaultValue: false });\r\n    });\r\n\r\n    proto.controlChanged = function () {\r\n        parent.prototype.controlChanged.call(this, 'value', this.value);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Models.VisualModel));\r\n","//****************************************\r\n// EnumSelector Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.EnumSelectorModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.EnumSelectorModel.MODEL_KIND = 'niEnumSelector';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.EnumSelectorModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.NumericValueSelectorModel));\r\n","﻿//****************************************\r\n// RingSelector Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static private reference aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.RingSelectorModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.RingSelectorModel.MODEL_KIND = 'niRingSelector';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.RingSelectorModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'allowUndefined', defaultValue: false });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.NumericValueSelectorModel));\r\n","﻿//****************************************\r\n// RadioButtonGroupModel Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Models.RadioButtonGroupModel = function (id) {\r\n        parent.call(this, id);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    NationalInstruments.HtmlVI.Models.RadioButtonGroupModel.MODEL_KIND = 'niRadioButtonGroup';\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.Models.RadioButtonGroupModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n        proto.addModelProperty(targetPrototype, { propertyName: 'orientation', defaultValue: NationalInstruments.HtmlVI.Elements.RadioButtonGroup.Orientation.vertical });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerModel(child);\r\n}(NationalInstruments.HtmlVI.Models.NumericValueSelectorModel));\r\n","//****************************************\r\n// NI View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var RENDER_ENGINE = NationalInstruments.HtmlVI.RenderEngine;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.NIViewModel = function (element, model) {\r\n        if (element instanceof NationalInstruments.HtmlVI.Elements.NIElement === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_NI_ELEMENT'));\r\n        }\r\n\r\n        if (model instanceof NationalInstruments.HtmlVI.Models.NIModel === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_VI_MODEL'));\r\n        }\r\n\r\n        // Public Instance Properties\r\n        NI_SUPPORT.defineConstReference(this, 'element', element);\r\n        NI_SUPPORT.defineConstReference(this, 'model', model);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.NIViewModel;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var ADD_ALL_PROPS_FUNC_NAME = '_addAllProperties';\r\n\r\n    // Static Private Functions\r\n    var validateAddViewModelPropertyArgs = function (targetPrototype, config) {\r\n        var propertyName = config.propertyName;\r\n\r\n        if (typeof propertyName !== 'string' || propertyName.length < 1) {\r\n            throw new Error('A property name must be a string greater than or equal to one character long');\r\n        }\r\n\r\n        if (targetPrototype.hasOwnProperty('_propertyTable') === false) {\r\n            throw new Error('The ' + ADD_ALL_PROPS_FUNC_NAME + ' function has not been invoked yet; the property table has not been created');\r\n        }\r\n\r\n        if (targetPrototype._propertyTable[propertyName] !== undefined) {\r\n            throw new Error('The ViewModel property ' + propertyName + ' has already been defined');\r\n        }\r\n\r\n        return {\r\n            propertyName: propertyName\r\n        };\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties = function (targetPrototype, addAllViewModelProperties) {\r\n        if (typeof addAllViewModelProperties === 'function') {\r\n\r\n            targetPrototype[ADD_ALL_PROPS_FUNC_NAME] = function (targetPrototype, parentMethodName) {\r\n                addAllViewModelProperties.call(targetPrototype, targetPrototype, parentMethodName);\r\n            };\r\n        }\r\n\r\n        targetPrototype[ADD_ALL_PROPS_FUNC_NAME](targetPrototype, ADD_ALL_PROPS_FUNC_NAME);\r\n    };\r\n\r\n    proto[ADD_ALL_PROPS_FUNC_NAME] = function (targetPrototype) {\r\n        if (targetPrototype.hasOwnProperty('_propertyTable') === true) {\r\n            throw new Error('The ' + ADD_ALL_PROPS_FUNC_NAME + ' function has already been invoked; the property table is already created');\r\n        }\r\n\r\n        NI_SUPPORT.defineConstReference(targetPrototype, '_propertyTable', {});\r\n    };\r\n\r\n    proto.addViewModelProperty = function (targetPrototype, config) {\r\n        var validConfig = validateAddViewModelPropertyArgs(targetPrototype, config);\r\n        var propertyName = validConfig.propertyName;\r\n\r\n        Object.defineProperty(targetPrototype._propertyTable, propertyName, {\r\n            configurable: false,\r\n            enumerable: true, // need to be enumerable, cannot use NI_SUPPORT.defineConstReference\r\n            writable: false,\r\n            value: Object.freeze({\r\n                autoElementSync: true\r\n            })\r\n        });\r\n    };\r\n\r\n    proto.bindToView = function () {\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = RENDER_ENGINE.getOrAddRenderBuffer(this.element);\r\n        var _propertyTable = this._propertyTable;\r\n\r\n        if (_propertyTable !== undefined) {\r\n            if (_propertyTable[propertyName] !== undefined && _propertyTable[propertyName].autoElementSync === true) {\r\n                renderBuffer.properties[propertyName] = this.model[propertyName];\r\n            }\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    // Applies changes to the DOM Element\r\n    proto.applyElementChanges = function () {\r\n        RENDER_ENGINE.enqueueDomUpdate(this.element);\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        var _propertyTable = this._propertyTable,\r\n            currProp;\r\n\r\n        if (_propertyTable !== undefined) {\r\n            for (currProp in _propertyTable) {\r\n                if (_propertyTable.hasOwnProperty(currProp) && _propertyTable[currProp].autoElementSync === true) {\r\n                    this.model[currProp] = this.element[currProp];\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        var _propertyTable = this._propertyTable,\r\n            currProp;\r\n\r\n        if (_propertyTable !== undefined) {\r\n            for (currProp in _propertyTable) {\r\n                if (_propertyTable.hasOwnProperty(currProp) && _propertyTable[currProp].autoElementSync === true) {\r\n                    this.element[currProp] = this.model[currProp];\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n}());\r\n","//****************************************\r\n// Web Application View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.WebApplicationViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        if (this.model instanceof NationalInstruments.HtmlVI.Models.WebApplicationModel === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_VI_MODEL'));\r\n        }\r\n\r\n        if (this.element instanceof NationalInstruments.HtmlVI.Elements.WebApplication === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_NI_ELEMENT'));\r\n        }\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._autoStartOccurred = false;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.WebApplicationViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // TODO mraj niskipsync used for development only until we have improved deployment testing\r\n    var isBrowserPreventEditorModeEnabled = function () {\r\n        var preventEditorMode = (window.location.hash.indexOf('niskipsync') !== -1);\r\n        return preventEditorMode;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.element.addEventListener('requested-start', function (evt) {\r\n            if (that.element === evt.detail.element) {\r\n                that.model.start();\r\n            }\r\n        });\r\n\r\n        that.element.addEventListener('requested-stop', function (evt) {\r\n            if (that.element === evt.detail.element) {\r\n                that.model.stop();\r\n            }\r\n        });\r\n\r\n        that.model.initializeService();\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        var that = this;\r\n\r\n        switch (propertyName) {\r\n            case 'serviceState':\r\n                // Assign to the element directly as renderBuffer is buffered and debounced so may lose samples\r\n                that.element.serviceState = that.model.serviceState;\r\n\r\n                if (that.model.checkServiceStateIs(SERVICE_STATE_ENUM.READY) && that.model.disableAutoStart === false && that._autoStartOccurred === false) {\r\n\r\n                    that._autoStartOccurred = true;\r\n                    that.model.start();\r\n                }\r\n\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        var model = this.model,\r\n            element = this.element;\r\n\r\n        model.engine = element.engine;\r\n        model.location = element.location;\r\n        model.vireoSource = element.vireoSource;\r\n        model.remoteAddress = element.remoteAddress;\r\n        model.testMode = element.testMode;\r\n        model.disableAutoStart = element.disableAutoStart;\r\n        model.serviceState = element.serviceState;\r\n\r\n        // Gets this parameter from the view, but not the element. Until we support deployment from the IDE,\r\n        // the only way to set the page to \"deployed\"/\"browser\" mode is via the custom #niskipsync url\r\n        if (isBrowserPreventEditorModeEnabled()) {\r\n            model.location = '';\r\n            model.engine = '';\r\n            model.testMode = true;\r\n        }\r\n    };\r\n\r\n    // Unused becasue ni-web-application is not created from model settings\r\n    //\r\n    // proto.applyModelToElement = function () {\r\n    //     parent.prototype.applyModelToElement.call(this);\r\n    // };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.NIViewModel));\r\n","//****************************************\r\n// Virtual Instrument View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.VirtualInstrumentViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        if (this.model instanceof NationalInstruments.HtmlVI.Models.VirtualInstrumentModel === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_VI_MODEL'));\r\n        }\r\n\r\n        if (this.element instanceof NationalInstruments.HtmlVI.Elements.VirtualInstrument === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_NI_ELEMENT'));\r\n        }\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._userInteracting = {};\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.VirtualInstrumentViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n\r\n    // NOTE: SHOULD NOT BE CALLED DIRECTLY, USED BY niElementExtensions\r\n    // This is called after niVirtualInstrumentModel.addFrontPanelControlModel, so the Model and ViewModel are already created\r\n    proto.addFrontPanelControlViewModel = function (controlViewModel) {\r\n        var webAppModel, parentModel;\r\n\r\n        if (controlViewModel instanceof NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel === false) {\r\n            throw new Error('Only Visual Component ViewModels can be registered to a Virtual Instrument View Model');\r\n        }\r\n\r\n        webAppModel = this.model.getOwningWebApplication();\r\n        webAppModel.updateService.setRenderHintsOnViewModel(controlViewModel);\r\n\r\n        parentModel = controlViewModel.model.getOwner();\r\n        if (parentModel instanceof NationalInstruments.HtmlVI.Models.VisualComponentModel) {\r\n            this.model.getControlViewModel(parentModel.niControlId).onChildViewModelAdded(controlViewModel);\r\n        }\r\n    };\r\n\r\n    // NOTE: SHOULD NOT BE CALLED DIRECTLY, USED BY niElementExtensions\r\n    proto.removeFrontPanelControlViewModel = function (controlViewModel) {\r\n        var parentModel, parentViewModel;\r\n\r\n        if (controlViewModel instanceof NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel === false) {\r\n            throw new Error('Only Visual Component ViewModels can be registered to a Virtual Instrument View Model');\r\n        }\r\n\r\n        parentModel = controlViewModel.model.getOwner();\r\n        if (parentModel instanceof NationalInstruments.HtmlVI.Models.VisualComponentModel) {\r\n            parentViewModel = this.model.getControlViewModel(parentModel.niControlId);\r\n            if (parentViewModel instanceof NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel) {\r\n                this.model.getControlViewModel(parentModel.niControlId).onChildViewModelRemoved(controlViewModel);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.viName = this.element.viName;\r\n        this.model.viRef = this.element.viRef;\r\n    };\r\n\r\n    // Called from userInteractionChanged in niEditorUpdateService.\r\n    // We're keeping this state here instead of in the control view models, because\r\n    // 'user interacting' operations (drag, etc.) can last longer than the control\r\n    // view model does, in the reparenting case.\r\n    // We're assuming that control IDs don't change during a user interaction /\r\n    // transacted event on a control.\r\n    proto.setUserInteracting = function (niControlId) {\r\n        this._userInteracting[niControlId] = true;\r\n    };\r\n\r\n    // Called from userInteractionChanged in niEditorUpdateService\r\n    proto.clearUserInteracting = function (niControlId) {\r\n        this._userInteracting[niControlId] = undefined;\r\n    };\r\n\r\n    proto.isUserInteracting = function (niControlId) {\r\n        return this._userInteracting[niControlId] === true;\r\n    };\r\n\r\n    // Unused becasue ni-virtual-instrument is not created from model settings\r\n    //\r\n    // proto.applyModelToElement = function () {\r\n    //     parent.prototype.applyModelToElement.call(this);\r\n    // };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.NIViewModel));\r\n","//****************************************\r\n// Visual Component View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        if (this.model instanceof NationalInstruments.HtmlVI.Models.VisualComponentModel === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_VI_MODEL'));\r\n        }\r\n\r\n        if (this.element instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            throw new Error(NI_SUPPORT.i18n('msg_INVALID_NI_ELEMENT'));\r\n        }\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._needsResizeHack = false;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.enableResizeHack = function () {\r\n        this._needsResizeHack = true;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        if (this.model.niControlId !== this.element.niControlId) {\r\n            throw new Error('The element and model association is incorrect; element and model ids do not match');\r\n        }\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        if (this.model.niControlId !== this.element.niControlId) {\r\n            throw new Error('The element and model association is incorrect; element and model ids do not match');\r\n        }\r\n    };\r\n\r\n    proto.onChildViewModelAdded = function (childViewModel) {\r\n        // jshint unused: vars\r\n    };\r\n\r\n    proto.onChildViewModelRemoved = function (childViewModel) {\r\n        // jshint unused: vars\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.NIViewModel));\r\n","//****************************************\r\n// Visual View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.VisualViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // Default Resize Strategy.\r\n        this.resizeStrategy = new NationalInstruments.HtmlVI.PaintResizeStrategy();\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.VisualViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var getModelBounds = function (model) {\r\n        // Assuming bounds are saved as '(\\d)+px'\r\n        return {\r\n            left: parseInt(model.left),\r\n            top: parseInt(model.top),\r\n            width: parseInt(model.width),\r\n            height: parseInt(model.height)\r\n        };\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.bindTextFocusEventListener = function () {\r\n        var that = this;\r\n        var niElement = that.element;\r\n        var focusEventType = 'Focus';\r\n        var createHandlerHelper = function (value) {\r\n            return function (event) {\r\n                var target = event.target;\r\n                while (!(target instanceof NationalInstruments.HtmlVI.Elements.Visual)) {\r\n                    target = target.parentElement;\r\n                }\r\n\r\n                if (target.isTextEditFocusable()) {\r\n                    that.model.internalControlEventOccurred(focusEventType, value);\r\n                }\r\n            };\r\n        };\r\n\r\n        niElement.addEventListener('focus', createHandlerHelper(true), true);\r\n        niElement.addEventListener('blur', createHandlerHelper(false), true);\r\n    };\r\n\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'readOnly' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'labelId' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'top':\r\n            case 'left':\r\n            case 'width':\r\n            case 'height':\r\n                this.resizeStrategy.onBoundsChanging(getModelBounds(this.model), renderBuffer);\r\n                break;\r\n            case 'visible':\r\n                if (!this.model.visible) {\r\n                    renderBuffer.cssClasses.toAdd.push('ni-hidden');\r\n                } else {\r\n                    renderBuffer.cssClasses.toRemove.push('ni-hidden');\r\n                }\r\n\r\n                break;\r\n            case 'fontSize':\r\n            case 'fontWeight':\r\n            case 'fontStyle':\r\n            case 'fontFamily':\r\n                // TODO mraj font should be handled by the view model, not the element\r\n                this.element.setFont(this.model.fontSize, this.model.fontFamily, this.model.fontWeight, this.model.fontStyle);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    // Called by niEditorUpdateService.\r\n    proto.userInteractionChanged = function (newState) {\r\n        var renderBuffer = NationalInstruments.HtmlVI.RenderEngine.getOrAddRenderBuffer(this.element);\r\n        var modelBounds = getModelBounds(this.model);\r\n\r\n        if (newState === 'end') {\r\n            this.resizeStrategy.onBoundsChangeEnd(modelBounds, renderBuffer);\r\n        } else if (newState === 'start') {\r\n            this.resizeStrategy.onBoundsChangeStarted(modelBounds, renderBuffer);\r\n        }\r\n\r\n        this.applyElementChanges();\r\n    };\r\n\r\n    // Called by niUpdateService and derived objects.\r\n    // it gives the VisualViewModel some hints of the environment that it lives\r\n    // on. So it can take decisions on how to render, and perhaps more hints later.\r\n    proto.setRenderHints = function (renderHints) {\r\n        if (typeof renderHints !== 'object') {\r\n            throw new Error('Renderhints should be an object.');\r\n        }\r\n\r\n        if (renderHints.preferTransforms === true) {\r\n            this.resizeStrategy = new NationalInstruments.HtmlVI.EditorResizeStrategy();\r\n        }\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        var model = this.model,\r\n            element = this.element;\r\n\r\n        var style = window.getComputedStyle(element);\r\n        // CSS 'used' values https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\r\n        model.top = style.getPropertyValue('top');          // string as pixel value, ie '5px'\r\n        model.left = style.getPropertyValue('left');        // string as pixel value\r\n        model.width = style.getPropertyValue('width');      // string as pixel value\r\n        model.height = style.getPropertyValue('height');    // string as pixel value\r\n\r\n        // CSS 'resolved' values https://developer.mozilla.org/en-US/docs/Web/CSS/resolved_value\r\n        model.fontSize = style.getPropertyValue('font-size');                  // string as pixel value\r\n        model.fontFamily = style.getPropertyValue('font-family');              // comma separated string\r\n        model.fontWeight = style.getPropertyValue('font-weight');              // string as weight number, ie '500', https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight\r\n        model.fontStyle = style.getPropertyValue('font-style');                // string\r\n        model.visible = !element.classList.contains('ni-hidden');    // string\r\n\r\n        // CSS 'resolved' but returns rgba() if alpha otherwise rgb() https://developer.mozilla.org/en-US/docs/Web/CSS/color\r\n        model.foreground = style.getPropertyValue('color');\r\n\r\n        model.setBindingInfo(element.bindingInfo);\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        var model = this.model,\r\n            element = this.element;\r\n\r\n        element.style.top = model.top;\r\n        element.style.left = model.left;\r\n        element.style.width = model.width;\r\n        element.style.height = model.height;\r\n        element.style.color = model.foreground;\r\n        element.style.fontSize = model.fontSize;\r\n        element.style.fontFamily = model.fontFamily;\r\n        element.style.fontWeight = model.fontWeight;\r\n        element.style.fontStyle = model.fontStyle;\r\n        if (!model.visible) {\r\n            element.classList.add('ni-hidden');\r\n        } else {\r\n            element.classList.remove('ni-hidden');\r\n        }\r\n\r\n        element.bindingInfo = model.getBindingInfo();\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel));\r\n","//****************************************\r\n// Visual View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var VALUE_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.NumericControlViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.NumericControlViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'valueType' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'significantDigits' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'precisionDigits' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'format' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'maximum':\r\n                if (this.model.maximum !== null) {\r\n                    renderBuffer.properties.maximum = VALUE_CONVERTER.convert(this.model.maximum, this.model.valueType);\r\n                }\r\n\r\n                break;\r\n            case 'minimum':\r\n                if (this.model.minimum !== null) {\r\n                    renderBuffer.properties.minimum = VALUE_CONVERTER.convert(this.model.minimum, this.model.valueType);\r\n                }\r\n\r\n                break;\r\n            case 'interval':\r\n                if (this.model.interval !== null) {\r\n                    renderBuffer.properties.interval = VALUE_CONVERTER.convert(this.model.interval, this.model.valueType);\r\n                }\r\n\r\n                break;\r\n            case 'value':\r\n                renderBuffer.properties.valueNonSignaling = VALUE_CONVERTER.convert(this.model.value, this.model.valueType);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        var model = this.model,\r\n            element = this.element;\r\n\r\n        model.value = VALUE_CONVERTER.convertBack(element.value, element.valueType);\r\n        model.defaultValue = VALUE_CONVERTER.convertBack(element.value, element.valueType);\r\n        model.maximum = VALUE_CONVERTER.convertBack(element.maximum, element.valueType);\r\n        model.minimum = VALUE_CONVERTER.convertBack(element.minimum, element.valueType);\r\n        model.interval = VALUE_CONVERTER.convertBack(element.interval, element.valueType);\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        var model = this.model,\r\n            element = this.element;\r\n\r\n        element.valueNonSignaling = VALUE_CONVERTER.convert(model.value, model.valueType);\r\n        element.maximum = VALUE_CONVERTER.convert(model.maximum, model.valueType);\r\n        element.minimum = VALUE_CONVERTER.convert(model.minimum, model.valueType);\r\n        element.interval = VALUE_CONVERTER.convert(model.interval, model.valueType);\r\n    };\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Visual View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.NumericPointerViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.NumericPointerViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'scaleVisible' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'majorTicksVisible' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'minorTicksVisible' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'labelsVisible' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'coercionMode' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'rangeDivisionsMode' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.NumericControlViewModel));\r\n","//****************************************\r\n// Visual View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.LinearNumericPointerViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.LinearNumericPointerViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'orientation' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.NumericPointerViewModel));\r\n","//****************************************\r\n// Visual View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.RadialNumericPointerViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.RadialNumericPointerViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var startAngleFromScaleArc = function (scaleArc) {\r\n        return scaleArc.startAngle - 180;\r\n    };\r\n\r\n    var endAngleFromScaleArc = function (scaleArc) {\r\n        return scaleArc.startAngle - scaleArc.sweepAngle - 180;\r\n    };\r\n\r\n    var scaleArcFromStartAndEndAngle = function (startAngle, endAngle) {\r\n        var scaleArc = {\r\n            startAngle: startAngle + 180,\r\n            sweepAngle: startAngle - endAngle + 180\r\n        };\r\n\r\n        return scaleArc;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'startAngle':\r\n                renderBuffer.properties.startAngle = startAngleFromScaleArc(this.model.scaleArc);\r\n                break;\r\n            case 'endAngle':\r\n                renderBuffer.properties.endAngle = endAngleFromScaleArc(this.model.scaleArc);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        var scaleArc = scaleArcFromStartAndEndAngle(this.element.startAngle, this.element.endAngle);\r\n\r\n        this.model.scaleArc = scaleArc;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.startAngle = startAngleFromScaleArc(this.model.scaleArc);\r\n        this.element.endAngle = endAngleFromScaleArc(this.model.scaleArc);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.NumericPointerViewModel));\r\n","//****************************************\r\n// Gauge View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.GaugeViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.GaugeViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n\r\n        that.element.addEventListener('value-changed', function (event) {\r\n            that.model.value = NUM_VAL_CONVERTER.convertBack(event.detail.value, that.model.valueType);\r\n\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.setRenderHints = function (hints) {\r\n        parent.prototype.setRenderHints.call(this, hints);\r\n\r\n        if (hints.preferTransforms === true) {\r\n            this.resizeStrategy = new NationalInstruments.HtmlVI.RepaintResizeStrategy();\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Gauge, NationalInstruments.HtmlVI.Models.GaugeModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.RadialNumericPointerViewModel));\r\n","//****************************************\r\n// Slider View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.SliderViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.SliderViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n\r\n        that.element.addEventListener('value-changed', function (event) {\r\n            that.model.value = NUM_VAL_CONVERTER.convertBack(event.detail.value, that.model.valueType);\r\n\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.setRenderHints = function (hints) {\r\n        parent.prototype.setRenderHints.call(this, hints);\r\n\r\n        if (hints.preferTransforms === true) {\r\n            this.resizeStrategy = new NationalInstruments.HtmlVI.RepaintResizeStrategy();\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Slider, NationalInstruments.HtmlVI.Models.SliderModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.LinearNumericPointerViewModel));\r\n","//****************************************\r\n// Tank View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.TankViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.TankViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n\r\n        that.element.addEventListener('value-changed', function (event) {\r\n            that.model.value = NUM_VAL_CONVERTER.convertBack(event.detail.value, that.model.valueType);\r\n\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.setRenderHints = function (hints) {\r\n        parent.prototype.setRenderHints.call(this, hints);\r\n\r\n        if (hints.preferTransforms === true) {\r\n            this.resizeStrategy = new NationalInstruments.HtmlVI.RepaintResizeStrategy();\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Tank, NationalInstruments.HtmlVI.Models.TankModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.LinearNumericPointerViewModel));\r\n","//****************************************\r\n// Progress Bar View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ProgressBarViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ProgressBarViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'maximum' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'minimum' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'value' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'orientation' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Linear Progress Bar View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.LinearProgressBarViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.LinearProgressBarViewModel;\r\n    /* var proto = */ NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.LinearProgressBar, NationalInstruments.HtmlVI.Models.LinearProgressBarModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.ProgressBarViewModel));\r\n","//****************************************\r\n// Numeric TextBox View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.NumericTextBoxViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.NumericTextBoxViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        this.enableResizeHack();\r\n\r\n        this.bindTextFocusEventListener();\r\n        this.element.addEventListener('value-changed', function (event) {\r\n            that.model.value = NUM_VAL_CONVERTER.convertBack(event.detail.value, that.model.valueType);\r\n\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.NumericTextBox, NationalInstruments.HtmlVI.Models.NumericTextBoxModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.NumericControlViewModel));\r\n","//****************************************\r\n// Cursor View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.CursorViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.CursorViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'label' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'targetShape' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'show' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'cursorColor' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'crosshairStyle' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'showLabel' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'showValue' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'snapToData' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'x' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'y' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        $(this.element).on('cursorUpdated', function () {\r\n            that.model.x = that.element.x;\r\n            that.model.y = that.element.y;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Cursor, NationalInstruments.HtmlVI.Models.CursorModel);\r\n    // Other graph parts inherit from VisualComponentViewModel but cursor wants to support font so it inherits from VisualViewModel\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// CartesianAxis View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.CartesianAxisViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.CartesianAxisViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'label' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'show' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'showLabel' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'axisPosition' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'autoScale' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'logScale' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'minimum' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'maximum' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'format' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'showTickLabels' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.CartesianAxis, NationalInstruments.HtmlVI.Models.CartesianAxisModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel));\r\n","//****************************************\r\n// CartesianPlot View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.CartesianPlotViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.CartesianPlotViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'label' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'show' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'xaxis' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'yaxis' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'enableHover' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'hoverFormat' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.CartesianPlot, NationalInstruments.HtmlVI.Models.CartesianPlotModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel));\r\n","//****************************************\r\n// GraphBase View Model\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.GraphBaseViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.GraphBaseViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'plotAreaMargin':\r\n            renderBuffer.properties.plotAreaMargin = this.model.plotAreaMargin;\r\n            break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        var that = this;\r\n        var insideGraphBaseEventName = 'InsideGraphBase';\r\n\r\n        that.element.addEventListener('mouseenter', function () {\r\n            that.model.internalControlEventOccurred(insideGraphBaseEventName, true);\r\n        });\r\n\r\n        that.element.addEventListener('mouseleave', function () {\r\n            that.model.internalControlEventOccurred(insideGraphBaseEventName, false);\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// CartesianGraph View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.CartesianGraphViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.CartesianGraphViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        this.enableResizeHack();\r\n    };\r\n\r\n    proto.setRenderHints = function (hints) {\r\n        parent.prototype.setRenderHints.call(this, hints);\r\n        if (hints.preferTransforms === true) {\r\n            this.resizeStrategy = new NationalInstruments.HtmlVI.RepaintResizeStrategy();\r\n        }\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                renderBuffer.properties.value = JSON.stringify(this.model.value);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.value = JSON.parse(this.element.value);\r\n        this.model.defaultValue = JSON.parse(this.element.value);\r\n        this.model.plotAreaMargin = this.element.plotAreaMargin;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.value = JSON.stringify(this.model.value);\r\n        this.element.plotAreaMargin = this.model.plotAreaMargin;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.CartesianGraph, NationalInstruments.HtmlVI.Models.CartesianGraphModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.GraphBaseViewModel));\r\n","//****************************************\r\n// PlotRenderer View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.PlotRendererViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.PlotRendererViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'lineWidth' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'lineStyle' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'pointShape' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'pointSize' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'pointColor' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'lineStroke' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'areaFill' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'barFill' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'areaBaseLine' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.CartesianPlotRenderer, NationalInstruments.HtmlVI.Models.PlotRendererModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel));\r\n","//****************************************\r\n// Chart View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ChartViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ChartViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        this.enableResizeHack();\r\n    };\r\n\r\n    proto.setRenderHints = function (hints) {\r\n        parent.prototype.setRenderHints.call(this, hints);\r\n        if (hints.preferTransforms === true) {\r\n            this.resizeStrategy = new NationalInstruments.HtmlVI.RepaintResizeStrategy();\r\n        }\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.historySize = this.element.bufferSize;\r\n        this.model.value = JSON.parse(this.element.value);\r\n        this.model.defaultValue = JSON.parse(this.element.value);\r\n        /* the history buffer is owned by the chart model. In the case the chart is created by loading it from the HTML document,\r\n        here is the only place we can make sure that the element is informed which history buffer to use. */\r\n        this.element.setHistoryBuffer(this.model.historyBuffer); // make sure the history buffer is shared between element and model\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.setHistoryBuffer(this.model.historyBuffer);\r\n        this.element.value = JSON.stringify(this.model.value);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Chart, NationalInstruments.HtmlVI.Models.ChartModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.GraphBaseViewModel));\r\n","//****************************************\r\n// Boolean Control View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.BooleanControlViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.BooleanControlViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'content' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'contentVisible' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'clickMode' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'momentary' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                renderBuffer.properties.valueNonSignaling = this.model.value;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.value = this.element.value;\r\n        this.model.defaultValue = this.element.value;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.valueNonSignaling = this.model.value;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Boolean Control View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.BooleanContentControlViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.BooleanContentControlViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'trueContent' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'falseContent' });\r\n    });\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.BooleanControlViewModel));\r\n","//****************************************\r\n// Boolean Button View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.BooleanButtonViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.BooleanButtonViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'glyph' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.element.addEventListener('value-changed', function (evt) {\r\n            that.model.value = evt.detail.value;\r\n            that.model.controlChanged();\r\n        });\r\n\r\n        that.element.addEventListener('click', function () {\r\n            var eventType = NationalInstruments.HtmlVI.EventsEnum.BUTTON_CLICK;\r\n            var eventData = {};\r\n            eventData.value = this.value;\r\n            that.model.controlEventOccurred(eventType, eventData);\r\n        });\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.BooleanButton, NationalInstruments.HtmlVI.Models.BooleanButtonModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.BooleanControlViewModel));\r\n","//****************************************\r\n// Boolean Button View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.BooleanLEDViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.BooleanLEDViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'shape' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'highlight' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.element.addEventListener('value-changed', function (evt) {\r\n            that.model.value = evt.detail.value;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.BooleanLED, NationalInstruments.HtmlVI.Models.BooleanLEDModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.BooleanContentControlViewModel));\r\n","//****************************************\r\n// Text View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.TextViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.TextViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'text' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'foreground':\r\n                renderBuffer.cssStyles.color = this.model.foreground;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.defaultValue = this.element.text;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Text, NationalInstruments.HtmlVI.Models.TextModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Label View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.LabelViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.LabelViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'text' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'foreground':\r\n                renderBuffer.cssStyles.color = this.model.foreground;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Label, NationalInstruments.HtmlVI.Models.LabelModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Hyperlink View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.HyperlinkViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.HyperlinkViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'href' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'content' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'foreground':\r\n                renderBuffer.cssStyles.color = this.model.foreground;\r\n                this.element.firstChild.style.color = this.model.foreground; // APD temporary\r\n                break;\r\n            case 'fontSize':\r\n                renderBuffer.cssStyles.fontSize = this.model.fontSize;\r\n                break;\r\n            case 'fontFamily':\r\n                renderBuffer.cssStyles.fontFamily = this.model.fontFamily;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.defaultValue = this.element.href;\r\n    };\r\n\r\n    proto.bindToView = function () {\r\n        var that = this;\r\n        var updateService = that.model.getRoot().getOwningWebApplication().updateService;\r\n        if (updateService instanceof NationalInstruments.HtmlVI.EditorUpdateService || NationalInstruments.HtmlVI.EditorRuntimeUpdateService) {\r\n            // Override default hyperlink behavior when inside the editor, C# will handle it\r\n            that.element.addEventListener('click', function (evt) {\r\n                evt.preventDefault();\r\n\r\n                that.model.internalControlEventOccurred('HyperlinkClicked', { href: that.element.href });\r\n            });\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Hyperlink, NationalInstruments.HtmlVI.Models.HyperlinkModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// String Control View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.StringControlViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.StringControlViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'acceptsReturn' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'typeToReplace' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.bindTextFocusEventListener();\r\n        that.element.addEventListener('text-changed', function (evt) {\r\n            that.model.text = evt.detail.text;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'text':\r\n                renderBuffer.properties.textNonSignaling = this.model.text;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.text = this.element.text;\r\n        this.model.defaultValue = this.element.text;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.textNonSignaling = this.model.text;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.StringControl, NationalInstruments.HtmlVI.Models.StringControlModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Path Selector Control View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.PathSelectorViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.PathSelectorViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'format' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'popupEnabled' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n        that.bindTextFocusEventListener();\r\n        that.element.addEventListener('path-changed', function (evt) {\r\n            var pathValue = evt.detail.path;\r\n            that.model.path = JSON.parse(pathValue);\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n        var modelPath;\r\n\r\n        switch (propertyName) {\r\n            case 'path':\r\n                modelPath = this.model.path;\r\n                renderBuffer.properties.pathNonSignaling = JSON.stringify(modelPath);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.path = JSON.parse(this.element.path);\r\n        this.model.defaultValue = JSON.parse(this.element.path);\r\n        this.model.popupEnabled = this.element.popupEnabled;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        var modelPath = this.model.path;\r\n\r\n        this.element.pathNonSignaling = JSON.stringify(modelPath);\r\n        this.element.popupEnabled = this.model.popupEnabled;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.PathSelector, NationalInstruments.HtmlVI.Models.PathSelectorModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Time Stamp Text Box View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.TimeStampTextBoxViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.TimeStampTextBoxViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'maximum' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'minimum' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'showCalendarButtonOnControl' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'popupEnabled' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n        that.bindTextFocusEventListener();\r\n        that.element.addEventListener('value-changed', function (event) {\r\n            var value = event.detail.value;\r\n            that.model.value = value;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                renderBuffer.properties.valueNonSignaling = this.model.value;\r\n                break;\r\n            case 'minimum':\r\n                renderBuffer.properties.minimum = this.model.minimum;\r\n                break;\r\n            case 'maximum':\r\n                renderBuffer.properties.maximum = this.model.maximum;\r\n                break;\r\n            case 'popupEnabled':\r\n                renderBuffer.properties.popupEnabled = this.model.popupEnabled;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.value = this.element.value;\r\n        this.model.minimum = this.element.minimum;\r\n        this.model.maximum = this.element.maximum;\r\n        this.model.popupEnabled = this.element.popupEnabled;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.valueNonSignaling = this.model.value;\r\n        this.element.minimum = this.model.minimum;\r\n        this.element.maximum = this.model.maximum;\r\n        this.element.popupEnabled = this.model.popupEnabled;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.TimeStampTextBox, NationalInstruments.HtmlVI.Models.TimeStampTextBoxModel);\r\n    // Inheritance is different from C# view model (where time stamp is a numeric) so that min/max/value properties can have a different datatype\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Url Image View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.UrlImageViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.UrlImageViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'source' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'alternate' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'stretch' });\r\n    });\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.defaultValue = this.element.source;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.UrlImage, NationalInstruments.HtmlVI.Models.UrlImageModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Image View Model\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ImageViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ImageViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'source' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'stretch' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Image, NationalInstruments.HtmlVI.Models.ImageModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// CheckBox View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.CheckBoxViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.CheckBoxViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.element.addEventListener('value-changed', function (evt) {\r\n            that.model.value = evt.detail.value;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.CheckBox, NationalInstruments.HtmlVI.Models.CheckBoxModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.BooleanControlViewModel));\r\n","//****************************************\r\n// Boolean Switch View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.BooleanSwitchViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.BooleanSwitchViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'shape' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'orientation' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n\r\n        that.element.addEventListener('value-changed', function (evt) {\r\n            that.model.value = evt.detail.value;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.BooleanSwitch, NationalInstruments.HtmlVI.Models.BooleanSwitchModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.BooleanContentControlViewModel));\r\n","//****************************************\r\n// Boolean Button View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.TabControlViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.TabControlViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'tabStripPlacement' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.element.addEventListener('selected-index-changed', function (event) {\r\n            if (event.target === that.element) {\r\n                that.model.selectedIndex = event.detail.selectedIndex;\r\n                that.model.controlChanged();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'selectedIndex':\r\n                renderBuffer.properties.selectedIndexNonSignaling = this.model.selectedIndex;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.selectedIndex = this.element.selectedIndex;\r\n        this.model.defaultValue = this.element.selectedIndex;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.selectedIndex = this.model.selectedIndex;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.TabControl, NationalInstruments.HtmlVI.Models.TabControlModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// TabItem View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.TabItemViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.TabItemViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'header' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'tabPosition' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.TabItem, NationalInstruments.HtmlVI.Models.TabItemModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel));\r\n","//****************************************\r\n// Layout Panel View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.LayoutPanelViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.LayoutPanelViewModel;\r\n    /* var proto = */ NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.LayoutPanel, NationalInstruments.HtmlVI.Models.LayoutPanelModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Cluster View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ClusterViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ClusterViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.element.addEventListener('value-changed', function (evt) {\r\n            if (evt.target === that.element) {\r\n                that.model.value = JSON.parse(evt.detail.value);\r\n                that.model.controlChanged();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.value = JSON.parse(this.element.value);\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.value = JSON.stringify(this.model.value);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.Cluster, NationalInstruments.HtmlVI.Models.ClusterModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Array Viewer View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ArrayViewerViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._viewModelData = {};\r\n        this._recreateCellsRequested = false;\r\n        this._isUserInteracting = false;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ArrayViewerViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var arrayElementSizeChanged = function (arrayElementViewModel, rootArrayViewModel) {\r\n        var i, renderBuffer, arrayViewers, arrayElementModel, arrayModel, arrayElement;\r\n        arrayElementModel = arrayElementViewModel.model;\r\n        arrayModel = arrayElementModel.getOwner();\r\n        arrayElement = arrayElementViewModel.element.parentElement;\r\n\r\n        arrayViewers = [arrayElement];\r\n        if (arrayModel !== rootArrayViewModel.model) {\r\n            Array.prototype.push.apply(arrayViewers, rootArrayViewModel._viewModelData[arrayElement.niControlId].getClones());\r\n        }\r\n\r\n        for (i = 0; i < arrayViewers.length; i++) {\r\n            renderBuffer = NationalInstruments.HtmlVI.RenderEngine.getOrAddRenderBuffer(arrayViewers[i]);\r\n            renderBuffer.properties.elementSize = { width: parseInt(arrayElementModel.width), height: parseInt(arrayElementModel.height) };\r\n            NationalInstruments.HtmlVI.RenderEngine.enqueueDomUpdate(arrayViewers[i]);\r\n        }\r\n    };\r\n\r\n    var copyRenderBuffer = function (srcRenderBuffer, destRenderBuffer) {\r\n        var i, newStyle, newAttr, newProp;\r\n\r\n        for (i = 0; i < srcRenderBuffer.cssClasses.toAdd.length; i++) {\r\n            destRenderBuffer.cssClasses.toAdd[i] = srcRenderBuffer.cssClasses.toAdd[i];\r\n        }\r\n\r\n        for (i = 0; i < srcRenderBuffer.cssClasses.toRemove.length; i++) {\r\n            destRenderBuffer.cssClasses.toRemove[i] = srcRenderBuffer.cssClasses.toRemove[i];\r\n        }\r\n\r\n        for (newStyle in srcRenderBuffer.cssStyles) {\r\n            if (srcRenderBuffer.cssStyles.hasOwnProperty(newStyle)) {\r\n                destRenderBuffer.cssStyles[newStyle] = srcRenderBuffer.cssStyles[newStyle];\r\n            }\r\n        }\r\n\r\n        for (newAttr in srcRenderBuffer.attributes) {\r\n            if (srcRenderBuffer.attributes.hasOwnProperty(newAttr)) {\r\n                destRenderBuffer.attributes[newAttr] = srcRenderBuffer.attributes[newAttr];\r\n            }\r\n        }\r\n\r\n        // TODO we'll have to think about if we could run into any issues for property values that\r\n        // can be objects (like a numeric with {numberValue:1}. If the template control's value changes,\r\n        // then we would end up with the clones referring to the same value object.\r\n        for (newProp in srcRenderBuffer.properties) {\r\n            if (srcRenderBuffer.properties.hasOwnProperty(newProp)) {\r\n                destRenderBuffer.properties[newProp] = srcRenderBuffer.properties[newProp];\r\n            }\r\n        }\r\n    };\r\n\r\n    var updateElementsFromRenderBuffer = function (elements, renderBuffer) {\r\n        var curBuffer, i;\r\n\r\n        for (i = 0; i < elements.length; i++) {\r\n            curBuffer = NationalInstruments.HtmlVI.RenderEngine.getOrAddRenderBuffer(elements[i]);\r\n            copyRenderBuffer(renderBuffer, curBuffer);\r\n            NationalInstruments.HtmlVI.RenderEngine.enqueueDomUpdate(elements[i]);\r\n        }\r\n    };\r\n\r\n    var elementFontChanged = function (elements, childViewModel) {\r\n        var i;\r\n        var fontSize = childViewModel.model.fontSize;\r\n        var fontFamily = childViewModel.model.fontFamily;\r\n        var fontWeight = childViewModel.model.fontWeight;\r\n        var fontStyle = childViewModel.model.fontStyle;\r\n\r\n        for (i = 0; i < elements.length; i++) {\r\n            elements[i].setFont(fontSize, fontFamily, fontWeight, fontStyle);\r\n        }\r\n    };\r\n\r\n    var findRootArrayViewModel = function (controlModel, viRef) {\r\n        var currControlModel = controlModel, rootArrayModel = null;\r\n        var viModel, rootArrayViewModel;\r\n\r\n        while (currControlModel.insideTopLevelContainer()) {\r\n            if (currControlModel instanceof NationalInstruments.HtmlVI.Models.ArrayViewerModel) {\r\n                rootArrayModel = currControlModel;\r\n            }\r\n\r\n            currControlModel = currControlModel.getOwner();\r\n        }\r\n\r\n        if (currControlModel instanceof NationalInstruments.HtmlVI.Models.ArrayViewerModel) {\r\n            rootArrayModel = currControlModel;\r\n        }\r\n\r\n        viModel = NationalInstruments.HtmlVI.viReferenceService.getVIModelByVIRef(viRef);\r\n        rootArrayViewModel = viModel.getControlViewModel(rootArrayModel.niControlId);\r\n\r\n        return rootArrayViewModel;\r\n    };\r\n\r\n    var createElementShims = function (rootArrayViewModel, childViewModel) {\r\n        var originalUserInteractionChanged = childViewModel.userInteractionChanged;\r\n        var originalModelPropertyChanged = childViewModel.modelPropertyChanged;\r\n        var originalChildViewModelAdded = childViewModel.onChildViewModelAdded;\r\n        var originalChildViewModelRemoved = childViewModel.onChildViewModelRemoved;\r\n        var owner = childViewModel.model.getOwner();\r\n        var isArrayElement = owner instanceof NationalInstruments.HtmlVI.Models.ArrayViewerModel;\r\n\r\n        return {\r\n            setCallback: function () {\r\n                childViewModel.userInteractionChanged = function (newState) {\r\n                    var viewModelData = rootArrayViewModel._viewModelData[childViewModel.element.niControlId], renderBuffer;\r\n                    var updateClonesAfterInteractionEnded = false;\r\n                    if (newState === 'start') {\r\n                        viewModelData.suppressBoundsChanges = true;\r\n                    } else if (newState === 'end') {\r\n                        viewModelData.suppressBoundsChanges = false;\r\n                        if (isArrayElement) {\r\n                            arrayElementSizeChanged(childViewModel, rootArrayViewModel);\r\n                            rootArrayViewModel.element.updateTemplateCss(childViewModel.element);\r\n                        } else {\r\n                            if (viewModelData.recreateCellsOnUserInteractionEnd === true) {\r\n                                rootArrayViewModel.recreateAllCells();\r\n                                viewModelData.recreateCellsOnUserInteractionEnd = false;\r\n                            } else {\r\n                                updateClonesAfterInteractionEnded = true;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    originalUserInteractionChanged.call(childViewModel, newState);\r\n                    // The original userInteractionChanged function will tell the control's resizeStrategy to commit the bounds change.\r\n                    // This usually calls niResizeStrategy.setBoundsToRenderBuffer, so after that's done, the render buffer for that\r\n                    // control should have pending CSS style changes for left / top / width / height.\r\n                    if (updateClonesAfterInteractionEnded) {\r\n                        renderBuffer = NationalInstruments.HtmlVI.RenderEngine.getOrAddRenderBuffer(childViewModel.element);\r\n                        if (Object.keys(renderBuffer.cssStyles).length !== 0) {\r\n                            updateElementsFromRenderBuffer(viewModelData.getClones(), renderBuffer);\r\n                        }\r\n\r\n                        rootArrayViewModel.element.updateTemplateCss(childViewModel.element);\r\n                    }\r\n                };\r\n\r\n                childViewModel.modelPropertyChanged = function (propertyName) {\r\n                    var viewModelData = rootArrayViewModel._viewModelData[childViewModel.element.niControlId], elements, i;\r\n                    var focusedClone = null;\r\n                    var renderBuffer;\r\n                    if (viewModelData.suppressBoundsChanges && childViewModel.element._niFocusedCloneId !== undefined) {\r\n                        focusedClone = document.querySelector('[ni-control-id=\\'' + childViewModel.element._niFocusedCloneId + '\\']');\r\n                    }\r\n\r\n                    renderBuffer = originalModelPropertyChanged.call(childViewModel, propertyName);\r\n                    if (propertyName === 'left' || propertyName === 'top' || propertyName === 'width' || propertyName === 'height' ||\r\n                        propertyName === NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_CSS || propertyName === NationalInstruments.HtmlVI.ResizeStrategy.ResizeCSS.TRANSFORM_ORIGIN_CSS) {\r\n                        if (isArrayElement) {\r\n                            if ((propertyName === 'width' || propertyName === 'height') && !viewModelData.suppressBoundsChanges) {\r\n                                arrayElementSizeChanged(childViewModel, rootArrayViewModel);\r\n                                rootArrayViewModel.element.updateTemplateCss(childViewModel.element);\r\n                            }\r\n                        } else {\r\n                            if (viewModelData.suppressBoundsChanges) {\r\n                                elements = [];\r\n                                if (focusedClone !== null) {\r\n                                    elements[0] = focusedClone;\r\n                                }\r\n                            } else {\r\n                                elements = viewModelData.getClones();\r\n                                rootArrayViewModel.element.updateTemplateCss(childViewModel.element);\r\n                            }\r\n\r\n                            updateElementsFromRenderBuffer(elements, renderBuffer);\r\n                        }\r\n                    } else if (propertyName === 'fontSize' || propertyName === 'fontFamily' || propertyName === 'fontWeight' || propertyName === 'fontStyle') {\r\n                        elementFontChanged(viewModelData.getClones(), childViewModel);\r\n                        rootArrayViewModel.element.updateTemplateCss(childViewModel.element);\r\n                    } else {\r\n                        // If we're changing the value property of the array's template control, we need to update the array viewer's default value\r\n                        if (childViewModel.element.elementInfo.valuePropertyDescriptor !== undefined &&\r\n                            propertyName === childViewModel.element.elementInfo.valuePropertyDescriptor.propertyName &&\r\n                            childViewModel.element.parentElement instanceof NationalInstruments.HtmlVI.Elements.ArrayViewer) {\r\n                            // If we're the root array's template control, there's only a single array to update\r\n                            if (rootArrayViewModel.element === childViewModel.element.parentElement) {\r\n                                elements = [rootArrayViewModel.element];\r\n                            } else {\r\n                                // Otherwise, we're a nested array (in a cluster in an outer array). So need to get the matching array clone in all of the\r\n                                // other cells, and update them too.\r\n                                elements = rootArrayViewModel._viewModelData[childViewModel.element.parentElement.niControlId].getClones();\r\n                            }\r\n\r\n                            for (i = 0; i < elements.length; i++) {\r\n                                elements[i].setDefaultValue(childViewModel.model[propertyName]);\r\n                            }\r\n                        } else {\r\n                            elements = viewModelData.getClones();\r\n                            updateElementsFromRenderBuffer(elements, renderBuffer);\r\n                        }\r\n                    }\r\n\r\n                    return renderBuffer;\r\n                };\r\n\r\n                childViewModel.onChildViewModelAdded = function (viewModel) {\r\n                    var viewModelData, viViewModel;\r\n                    originalChildViewModelAdded.call(childViewModel, viewModel);\r\n\r\n                    rootArrayViewModel.initializeElementViewModel(viewModel);\r\n                    viewModelData = rootArrayViewModel._viewModelData[viewModel.element.niControlId];\r\n\r\n                    viViewModel = NationalInstruments.HtmlVI.viReferenceService.getVIViewModelByVIRef(viewModel.element.viRef);\r\n                    if (childViewModel.element._temporaryModelCreationMetadata === undefined || childViewModel.element._temporaryModelCreationMetadata.initialLoad !== true) {\r\n                        if (viViewModel.isUserInteracting(viewModel.element.niControlId)) {\r\n                            viewModelData.recreateCellsOnUserInteractionEnd = true;\r\n\r\n                            // Optimally we would just add a copy of the new control in all of the array cells.\r\n                            // For now, we reinitialize the array (based on the current state of the template) when a descendant is added or removed,\r\n                            // which is much simpler to implement, but also worse performance.\r\n                            // We'll only update the focused cell at first, then the full array will be refreshed on user interaction end.\r\n                            window.requestAnimationFrame(function () {\r\n                                rootArrayViewModel.element.recreateCells(false);\r\n                            });\r\n                        } else {\r\n                            // A child has been added, after initial load, and not part of a user interaction. This is probably undo / redo, so we need to\r\n                            // immediately update the whole array.\r\n                            window.requestAnimationFrame(function () {\r\n                                rootArrayViewModel.element.recreateCells(true);\r\n                            });\r\n                        }\r\n                    }\r\n                };\r\n\r\n                childViewModel.onChildViewModelRemoved = function (viewModel) {\r\n                    var viewModelData, elements, i;\r\n\r\n                    viewModelData = rootArrayViewModel._viewModelData[viewModel.element.niControlId];\r\n                    elements = viewModelData.getClones();\r\n\r\n                    // If this is for an array, niArrayViewerViewModel.onChildViewModelRemoved is called here (when we call the original function.)\r\n                    // That will call removeShim on the child, and remove it from the viewModelData map. So, for arrays, we skip doing those things\r\n                    // later in this function.\r\n                    originalChildViewModelRemoved.call(childViewModel, viewModel);\r\n\r\n                    for (i = 0; i < elements.length; i++) {\r\n                        elements[i].parentElement.removeChild(elements[i]);\r\n                    }\r\n\r\n                    if (!(childViewModel.model instanceof NationalInstruments.HtmlVI.Models.ArrayViewerModel)) {\r\n                        viewModelData.shim.removeShim();\r\n                        rootArrayViewModel._viewModelData[viewModel.element.niControlId] = undefined;\r\n                    }\r\n                };\r\n            }, removeShim: function () {\r\n                childViewModel.userInteractionChanged = originalUserInteractionChanged;\r\n                childViewModel.modelPropertyChanged = originalModelPropertyChanged;\r\n                childViewModel.onChildViewModelAdded = originalChildViewModelAdded;\r\n                childViewModel.onChildViewModelRemoved = originalChildViewModelRemoved;\r\n            }\r\n        };\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'dimensions' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'indexEditorWidth' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'indexVisibility' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'rowsAndColumns' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'orientation' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'verticalScrollbarVisibility' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'horizontalScrollbarVisibility' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'focusedCell' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                this.element.setArrayValue(this.model.value);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.recreateAllCells = function () {\r\n        var that = this;\r\n        if (!this._recreateCellsRequested) {\r\n            this._recreateCellsRequested = true;\r\n            window.requestAnimationFrame(function () {\r\n                that.element.recreateCells(true);\r\n                that._recreateCellsRequested = false;\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n        var viModel, childModel;\r\n\r\n        that.bindTextFocusEventListener();\r\n        that.element.addEventListener('value-changed', function (evt) {\r\n            if (evt.target === that.element) {\r\n                that.model.value = evt.detail.value;\r\n                that.model.controlChanged();\r\n            }\r\n        });\r\n        that.element.addEventListener('scroll-changed', function (evt) {\r\n            if (evt.target === that.element) {\r\n                that.model.scrollChanged(evt.detail.indices);\r\n            }\r\n        });\r\n\r\n        if (that.model.childModels.length > 0) {\r\n            childModel = that.model.childModels[0];\r\n            viModel = NationalInstruments.HtmlVI.viReferenceService.getVIModelByVIRef(that.viRef);\r\n            that.initializeArrayElementViewModel(viModel.getControlViewModel(childModel.niControlId));\r\n        }\r\n    };\r\n\r\n    proto.setRenderHints = function () {\r\n        // We explicitly decide to not call the parent function.\r\n        this.resizeStrategy = new NationalInstruments.HtmlVI.PaintResizeStrategy();\r\n    };\r\n\r\n    proto.userInteractionChanged = function (newState) {\r\n        parent.prototype.userInteractionChanged.call(this, newState);\r\n\r\n        if (newState === 'start') {\r\n            this._isUserInteracting = true;\r\n        } else if (newState === 'end') {\r\n            this._isUserInteracting = false;\r\n            if (this.model.childModels.length > 0) {\r\n                var childModel = this.model.childModels[0];\r\n                var viRef = this.element.viRef;\r\n                var viModel = NationalInstruments.HtmlVI.viReferenceService.getVIModelByVIRef(viRef);\r\n                var childViewModel = viModel.getControlViewModel(childModel.niControlId);\r\n                var rootArrayViewModel = findRootArrayViewModel(childModel, viRef);\r\n                arrayElementSizeChanged(childViewModel, rootArrayViewModel);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.value = this.element.getArrayValue();\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.setArrayValue(this.model.value);\r\n    };\r\n\r\n    proto.onChildViewModelAdded = function (childViewModel) {\r\n        parent.prototype.onChildViewModelAdded.call(this, childViewModel);\r\n        this.initializeArrayElementViewModel(childViewModel);\r\n    };\r\n\r\n    proto.onChildViewModelRemoved = function (childViewModel) {\r\n        var rootArrayViewModel = findRootArrayViewModel(childViewModel.model, this.element.viRef);\r\n\r\n        var viewModelData = rootArrayViewModel._viewModelData[childViewModel.element.niControlId];\r\n        viewModelData.shim.removeShim();\r\n        rootArrayViewModel._viewModelData[childViewModel.element.niControlId] = undefined;\r\n    };\r\n\r\n    proto.initializeArrayElementViewModel = function (childViewModel) {\r\n        var rootArrayViewModel = findRootArrayViewModel(childViewModel.model, this.element.viRef);\r\n\r\n        if (rootArrayViewModel === this) {\r\n            this.initializeElementViewModel(childViewModel);\r\n        }\r\n    };\r\n\r\n    proto.initializeElementViewModel = function (childViewModel) {\r\n        var i, curChild, viModel, shim, curViewModel, childModels, viewModelData;\r\n\r\n        if (childViewModel instanceof NationalInstruments.HtmlVI.ViewModels.VisualViewModel) {\r\n            shim = createElementShims(this, childViewModel);\r\n            shim.setCallback();\r\n            viewModelData = {};\r\n            viewModelData.shim = shim;\r\n            viewModelData.cssCloneSelector = this.element.getFullCssSelectorForNIVisual(childViewModel.element);\r\n            viewModelData.getClones = function () {\r\n                var results = document.querySelectorAll(viewModelData.cssCloneSelector);\r\n                return results;\r\n            };\r\n\r\n            this._viewModelData[childViewModel.model.niControlId] = viewModelData;\r\n            childModels = Array.prototype.slice.call(childViewModel.model.childModels);\r\n            for (i = 0; i < childModels.length; i++) {\r\n                curChild = childModels[i];\r\n                viModel = NationalInstruments.HtmlVI.viReferenceService.getVIModelByVIRef(this.element.viRef);\r\n                curViewModel = viModel.getControlViewModel(curChild.niControlId);\r\n                this.initializeElementViewModel(curViewModel);\r\n            }\r\n        }\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.ArrayViewer, NationalInstruments.HtmlVI.Models.ArrayViewerModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Data Grid View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.DataGridViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.DataGridViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'rowHeaderVisible' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'columnHeaderVisible' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'showAddRowsToolBar' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'allowSorting' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'allowPaging' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'allowFiltering' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'allowGrouping' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'rowHeight' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'altRowColors' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'altRowStart' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'altRowStep' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'isInEditMode' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'selectedColumn' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n        that.bindTextFocusEventListener();\r\n        that.element.addEventListener('value-changed', function (event) {\r\n            if (event.currentTarget === event.target) { // our value changed event bubbles - here we only care about the data grid, not the template controls\r\n                var value = JSON.parse(event.detail.value);\r\n                that.model.value = value;\r\n                that.model.controlChanged();\r\n            }\r\n        });\r\n\r\n        that.element.addEventListener('selected-column-changed', function (event) {\r\n            that.model.internalControlEventOccurred('DataGridSelectedIndexChanged', event.detail.selectedColumn);\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                renderBuffer.properties.valueNonSignaling = JSON.stringify(this.model.value);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.value = JSON.parse(this.element.value);\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.valueNonSignaling = JSON.stringify(this.model.value);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.DataGrid, NationalInstruments.HtmlVI.Models.DataGridModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Data Grid Column View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.DataGridColumnViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.DataGridColumnViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'index' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'header' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'width' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'fieldName' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'pinned' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'aggregates':\r\n                renderBuffer.properties.aggregates = JSON.stringify(this.model.aggregates);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.aggregates = JSON.parse(this.element.aggregates);\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.aggregates = JSON.stringify(this.model.aggregates);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.DataGridColumn, NationalInstruments.HtmlVI.Models.DataGridColumnModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel));\r\n","//****************************************\r\n// Selector View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.SelectorViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.SelectorViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                renderBuffer.properties.source = JSON.stringify(this.model.source);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.source = JSON.parse(this.element.source);\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.source = JSON.stringify(this.model.source);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// DropDown View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.DropDownViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.DropDownViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n\r\n        that.element.addEventListener('selected-index-changed', function (evt) {\r\n            that.model.selectedIndex = evt.detail.selectedIndex;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'selectedIndex':\r\n                renderBuffer.properties.selectedIndexNonSignaling = this.model.selectedIndex;\r\n                break;\r\n            case 'popupEnabled':\r\n                renderBuffer.properties.popupEnabled = this.model.popupEnabled;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.selectedIndex = this.element.selectedIndex;\r\n        this.model.defaultValue = this.element.selectedIndex;\r\n        this.model.popupEnabled = this.element.popupEnabled;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.selectedIndex = this.model.selectedIndex;\r\n        this.element.popupEnabled = this.model.popupEnabled;\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.DropDown, NationalInstruments.HtmlVI.Models.DropDownModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.SelectorViewModel));\r\n","//****************************************\r\n// ListBox View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var LISTBOX_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.ListBoxValueConverter;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ListBoxViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ListBoxViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'selectionMode' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n\r\n        that.element.addEventListener('selected-index-changed', function (evt) {\r\n            that.model.selectedIndex = LISTBOX_VAL_CONVERTER.convertBack(evt.detail.selectedIndex, that.element.selectionMode);\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'selectedIndex':\r\n                renderBuffer.properties.selectedIndexNonSignaling = LISTBOX_VAL_CONVERTER.convert(this.model.selectedIndex, this.element.selectionMode);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        var selectedIndex = LISTBOX_VAL_CONVERTER.convertBack(this.element.selectedIndex, this.element.selectionMode);\r\n\r\n        this.model.selectedIndex = selectedIndex;\r\n        this.model.defaultValue = selectedIndex;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.selectedIndex = LISTBOX_VAL_CONVERTER.convert(this.model.selectedIndex);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.ListBox, NationalInstruments.HtmlVI.Models.ListBoxModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.SelectorViewModel));\r\n","//****************************************\r\n// IONameControl View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.IONameControlViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.IONameControlViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        that.enableResizeHack();\r\n\r\n        that.element.addEventListener('selected-value-changed', function (event) {\r\n            that.model.selectedValue = event.detail.selectedValue;\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                renderBuffer.properties.source = JSON.stringify(this.model.source);\r\n                break;\r\n            case 'selectedValue':\r\n                renderBuffer.properties.selectedValueNonSignaling = this.model.selectedValue;\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        this.model.source = JSON.parse(this.element.source);\r\n        this.model.selectedValue = this.element.selectedValue;\r\n        this.model.defaultValue = this.element.selectedValue;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n\r\n        this.element.selectedValueNonSignaling = this.model.selectedValue;\r\n        this.element.sourceNonSignaling = JSON.stringify(this.model.source);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.IONameControl, NationalInstruments.HtmlVI.Models.IONameControlModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// OpaqueRefnum View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.OpaqueRefnumViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.OpaqueRefnumViewModel;\r\n    /* var proto = */ NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.OpaqueRefnum, NationalInstruments.HtmlVI.Models.OpaqueRefnumModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// PlotLegend View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.PlotLegendViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.PlotLegendViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'graphName' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'isInEditMode' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n\r\n        this.enableResizeHack();\r\n    };\r\n\r\n    proto.userInteractionChanged = function (newState) {\r\n        if (newState === 'start') {\r\n            this.element.throttlePlotUpdates(true);\r\n        }\r\n\r\n        if (newState === 'end') {\r\n            this.element.throttlePlotUpdates(false);\r\n        }\r\n\r\n        parent.prototype.userInteractionChanged.call(this, newState);\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        // TODO mraj what is this about?\r\n        this.model.height = 'auto';\r\n        this.element.style.height = 'auto';\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.PlotLegend, NationalInstruments.HtmlVI.Models.PlotLegendModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// CursorLegend View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.CursorLegendViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.CursorLegendViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'graphName' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'isInEditMode' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        this.enableResizeHack();\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n\r\n        // TODO mraj what is this about?\r\n        this.model.height = 'auto';\r\n        this.element.style.height = 'auto';\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.CursorLegend, NationalInstruments.HtmlVI.Models.CursorLegendModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// ScaleLegend View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ScaleLegendViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ScaleLegendViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'graphName' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'isInEditMode' });\r\n    });\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n\r\n        this.enableResizeHack();\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.ScaleLegend, NationalInstruments.HtmlVI.Models.ScaleLegendModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// Graph Tools View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    NationalInstruments.HtmlVI.ViewModels.GraphToolsViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n    };\r\n\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Private Static Properties\r\n    var child = NationalInstruments.HtmlVI.ViewModels.GraphToolsViewModel;\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    var proto = child.prototype;\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        this.enableResizeHack();\r\n    };\r\n\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'graphName' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'isInEditMode' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'mode' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.GraphTools, NationalInstruments.HtmlVI.Models.GraphToolsModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// ColorScale View Model\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.ColorScaleViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.ColorScaleViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'axisPosition' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'autoScale' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'label' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'show' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'showLabel' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'highColor' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'lowColor' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'markers' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.ColorScale, NationalInstruments.HtmlVI.Models.ColorScaleModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualComponentViewModel));\r\n","//****************************************\r\n// IntensityGraph View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.IntensityGraphViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.IntensityGraphViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        this.enableResizeHack();\r\n    };\r\n\r\n    proto.setRenderHints = function (hints) {\r\n        parent.prototype.setRenderHints.call(this, hints);\r\n\r\n        if (hints.preferTransforms === true) {\r\n            this.resizeStrategy = new NationalInstruments.HtmlVI.RepaintResizeStrategy();\r\n        }\r\n    };\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                renderBuffer.properties.value = JSON.stringify(this.model.value);\r\n                break;\r\n        }\r\n\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n        var element = this.element,\r\n            model = this.model;\r\n        model.value = JSON.parse(element.value);\r\n        model.defaultValue = JSON.parse(element.value);\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n        var element = this.element,\r\n            model = this.model;\r\n        element.value = JSON.stringify(model.value);\r\n    };\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.IntensityGraph, NationalInstruments.HtmlVI.Models.IntensityGraphModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.GraphBaseViewModel));\r\n","//****************************************\r\n// NumericValueSelector View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VALUE_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.NumericValueSelectorViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.NumericValueSelectorViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'valueType' });\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'popupEnabled' });\r\n    });\r\n\r\n    proto.modelPropertyChanged = function (propertyName) {\r\n        var renderBuffer = parent.prototype.modelPropertyChanged.call(this, propertyName);\r\n        switch (propertyName) {\r\n            case 'value':\r\n                if (this.model.value !== null) {\r\n                    renderBuffer.properties.valueNonSignaling = NUM_VALUE_CONVERTER.convert(this.model.value, this.model.valueType);\r\n                }\r\n\r\n                break;\r\n            case 'items':\r\n                renderBuffer.properties.items = JSON.stringify(this.model.items);\r\n                break;\r\n            case 'popupEnabled':\r\n                renderBuffer.properties.popupEnabled = this.model.popupEnabled;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return renderBuffer;\r\n    };\r\n\r\n    proto.bindToView = function () {\r\n        parent.prototype.bindToView.call(this);\r\n        var that = this;\r\n\r\n        this.enableResizeHack();\r\n\r\n        this.element.addEventListener('value-changed', function (evt) {\r\n            that.model.value = NUM_VALUE_CONVERTER.convertBack(evt.detail.value, that.model.valueType);\r\n            that.model.controlChanged();\r\n        });\r\n    };\r\n\r\n    proto.updateModelFromElement = function () {\r\n        parent.prototype.updateModelFromElement.call(this);\r\n        var element = this.element,\r\n            model = this.model;\r\n        model.value = NUM_VALUE_CONVERTER.convertBack(element.value, element.valueType);\r\n        model.items = JSON.parse(element.items);\r\n        model.popupEnabled = element.popupEnabled;\r\n    };\r\n\r\n    proto.applyModelToElement = function () {\r\n        parent.prototype.applyModelToElement.call(this);\r\n        var element = this.element,\r\n            model = this.model;\r\n        element.items = JSON.stringify(model.items);\r\n        element.value = NUM_VALUE_CONVERTER.convert(model.value, model.valueType);\r\n        element.popupEnabled = model.popupEnabled;\r\n    };\r\n}(NationalInstruments.HtmlVI.ViewModels.VisualViewModel));\r\n","//****************************************\r\n// EnumSelector View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.EnumSelectorViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.EnumSelectorViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.EnumSelector, NationalInstruments.HtmlVI.Models.EnumSelectorModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.NumericValueSelectorViewModel));\r\n","//****************************************\r\n// RingSelector View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.RingSelectorViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.RingSelectorViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'allowUndefined' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.RingSelector, NationalInstruments.HtmlVI.Models.RingSelectorModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.NumericValueSelectorViewModel));\r\n","﻿//****************************************\r\n// RadioButtonGroupViewModel View Model\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n(function (parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.ViewModels.RadioButtonGroupViewModel = function (element, model) {\r\n        parent.call(this, element, model);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    // Static Public Functions\r\n    // None\r\n\r\n    // Prototype creation\r\n    var child = NationalInstruments.HtmlVI.ViewModels.RadioButtonGroupViewModel;\r\n    var proto = NI_SUPPORT.inheritFromParent(child, parent);\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.registerViewModelProperties(proto, function (targetPrototype, parentMethodName) {\r\n        parent.prototype[parentMethodName].call(this, targetPrototype, parentMethodName);\r\n        proto.addViewModelProperty(targetPrototype, { propertyName: 'orientation' });\r\n    });\r\n\r\n    NationalInstruments.HtmlVI.NIModelProvider.registerViewModel(child, NationalInstruments.HtmlVI.Elements.RadioButtonGroup, NationalInstruments.HtmlVI.Models.RadioButtonGroupModel);\r\n}(NationalInstruments.HtmlVI.ViewModels.NumericValueSelectorViewModel));\r\n","//****************************************\r\n// Custom Element Extensions\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    var generateAttachedCallback = function (orig) {\r\n        return function attachedCallback_VisualComponentViewModel() {\r\n            var firstCall, viViewModel, controlModelViewModel,\r\n                that = this; // this should be bound to the custom element that was attached\r\n\r\n            // Create Model and ViewModel (this will synchronize element attributes <-> model properties)\r\n            // Assumptions:\r\n            // Element is in the DOM\r\n            // Element internal DOM not created yet\r\n\r\n            // _preventModelCreation can be undefined or true, so must check if !true\r\n            if (that._preventModelCreation !== true) {\r\n                viViewModel = NationalInstruments.HtmlVI.viReferenceService.getVIViewModelByVIRef(that.viRef);\r\n                controlModelViewModel = viViewModel.model.addFrontPanelControlModel(that);\r\n                viViewModel.addFrontPanelControlViewModel(controlModelViewModel.controlViewModel);\r\n                // Removed because initialLoad was removed here previously\r\n                that._temporaryModelCreationMetadata = undefined;\r\n            }\r\n\r\n            // Attach and populate internal DOM (as needed)\r\n            firstCall = orig.apply(that, arguments);\r\n\r\n            if (typeof firstCall !== 'boolean') {\r\n                throw new Error('Make sure attachedCallback is returning the firstCall value');\r\n            }\r\n\r\n            // Complete ViewModel - View binding\r\n            // Assumptions:\r\n            // Element is in the DOM\r\n            // Element internal DOM created\r\n            // _preventModelCreation can be undefined or true, so must check if !true\r\n            if (that._preventModelCreation !== true) {\r\n                controlModelViewModel.controlViewModel.bindToView();\r\n\r\n                if (controlModelViewModel.controlViewModel._needsResizeHack === true) {\r\n                    that.dispatchEvent(new CustomEvent('resizeEventHack', {\r\n                        detail: {\r\n                            width: controlModelViewModel.controlModel.width,\r\n                            height: controlModelViewModel.controlModel.height\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n\r\n            return firstCall;\r\n        };\r\n    };\r\n\r\n    var generateDetachedCallback = function (orig) {\r\n        return function detachedCallback_VisualComponentViewModel() {\r\n            orig.apply(this, arguments);\r\n\r\n            var viViewModel,\r\n                webAppModel,\r\n                that = this; // this should be bound to the custom element that was attached\r\n\r\n            var currParent,\r\n                parentElement,\r\n                elementViewModel;\r\n\r\n            // _preventModelCreation can be undefined or true, so must check if !true\r\n            if (that._preventModelCreation !== true) {\r\n                viViewModel = NationalInstruments.HtmlVI.viReferenceService.getVIViewModelByVIRef(that.viRef);\r\n                elementViewModel = viViewModel.model.getControlViewModel(that.niControlId);\r\n                viViewModel.removeFrontPanelControlViewModel(elementViewModel);\r\n                viViewModel.model.removeFrontPanelControl(that);\r\n\r\n                // If this element is the child of a parent element that was detached, then detach the element from the parent and add to element buffer\r\n                webAppModel = NationalInstruments.HtmlVI.viReferenceService.getWebAppModelByVIRef(that.viRef);\r\n\r\n                // TODO mraj, maybe webapp or update service should expose an interface instead..\r\n                if (webAppModel.updateService._elementReparentingCache !== undefined) {\r\n                    parentElement = document.body;\r\n\r\n                    for (currParent = that.parentElement; currParent !== null; currParent = currParent.parentElement) {\r\n                        if (currParent instanceof NationalInstruments.HtmlVI.Elements.VisualComponent) {\r\n                            parentElement = currParent;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (parentElement instanceof NationalInstruments.HtmlVI.Elements.VisualComponent) {\r\n                        NI_SUPPORT.infoVerbose('remove Element (parent detached)', that.niControlId);\r\n                        that.parentNode.removeChild(that);\r\n                        webAppModel.updateService._elementReparentingCache.addToElementCache(parentElement.niControlId, that);\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        };\r\n    };\r\n\r\n    var generateClearExtensionProperties = function () {\r\n        return function clearExtensionProperties() {\r\n            if (this instanceof NationalInstruments.HtmlVI.Elements.VisualComponent) {\r\n                this.niControlId = '';\r\n                this.viRef = '';\r\n            }\r\n\r\n            if (this instanceof NationalInstruments.HtmlVI.Elements.Visual) {\r\n                this.bindingInfo = {\r\n                    prop: '',\r\n                    via: '',\r\n                    field : '',\r\n                    sync : false,\r\n                    dco: -1,\r\n                    dataItem: ''\r\n                };\r\n                this.labelId = '';\r\n            }\r\n        };\r\n    };\r\n\r\n    // Extensions to multiple prototypes\r\n    var toReg, proto, targetPrototype;\r\n\r\n    for (toReg in NationalInstruments.HtmlVI.Elements) {\r\n        if (NationalInstruments.HtmlVI.Elements.hasOwnProperty(toReg)) {\r\n            proto = targetPrototype = NationalInstruments.HtmlVI.Elements[toReg].prototype;\r\n\r\n            // Only add extensions to leaf prototypes\r\n            if (proto.elementInfo !== undefined) {\r\n                proto.clearExtensionProperties = generateClearExtensionProperties();\r\n\r\n                if (proto instanceof NationalInstruments.HtmlVI.Elements.VisualComponent) {\r\n                    proto.addProperty(targetPrototype, {\r\n                        propertyName: 'niControlId',\r\n                        defaultValue: ''\r\n                    });\r\n\r\n                    proto.addProperty(targetPrototype, {\r\n                        propertyName: 'viRef',\r\n                        defaultValue: ''\r\n                    });\r\n\r\n                    proto.attachedCallback = generateAttachedCallback(proto.attachedCallback);\r\n                    proto.detachedCallback = generateDetachedCallback(proto.detachedCallback);\r\n                }\r\n\r\n                if (proto instanceof NationalInstruments.HtmlVI.Elements.Visual) {\r\n                    proto.addProperty(targetPrototype, {\r\n                        propertyName: 'bindingInfo',\r\n                        defaultValue: {\r\n                            prop: '',        // The model property that is associated with a data item in via code\r\n                            via: '',         // The name of the associated data item in the via code\r\n                            field: '',       // Name of element if inside cluster\r\n                            sync: false,     // Whether the update performs synchronously\r\n                            dco: -1,         // Index of the control as used by RT\r\n                            dataItem: ''     // Compiled data item name in the desktop native runtime\r\n                        }\r\n                    });\r\n\r\n                    proto.addProperty(targetPrototype, {\r\n                        propertyName: 'labelId',\r\n                        defaultValue: ''\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n}());\r\n\r\n"]}